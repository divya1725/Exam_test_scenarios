<?xml version="1.0" encoding="UTF-8"?>
<con:testCase timeout="0" searchProperties="true" name="Auth" keepSession="false" id="3b8746f1-3e47-4ecc-9854-fba74fa80e9e" failTestCaseOnErrors="true" failOnError="true" discardOkResults="false" disabled="true" xmlns:con="http://eviware.com/soapui/config">
  <con:description>To create corporate authorisation</con:description>
  <con:settings>
    <con:setting id="2967d4fc-5b88-4b98-ae99-64796c4d3a0afileName">Auth</con:setting>
    <con:setting id="ea33b991-ec13-46d4-8d1a-73e726dfa707fileName">Auth</con:setting>
    <con:setting id="2f90c3a7-5bea-4a3e-ae4d-7c3279dfbdd2fileName">Auth</con:setting>
    <con:setting id="b63250d9-270f-4f75-b73d-cafa69c1477dfileName">Auth</con:setting>
    <con:setting id="3b8746f1-3e47-4ecc-9854-fba74fa80e9efileName">Auth</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" name="Authorisation_v1_3_2" id="7905a682-97ef-4bc2-aaec-89cba74c95b2">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentAuthorization_V1_3PortTypeSoap11</con:interface>
      <con:operation>PaymentAuthorizationCreate</con:operation>
      <con:request wssPasswordType="" useWsReliableMessaging="false" useWsAddressing="false" timeout="" sslKeystore="" outgoingWss="" name="Authorisation_v1_3_2" incomingWss="" id="844e414c-ba86-4bd6-b688-8a525d69251b">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentAuthorization_V1_3</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentauthorization:v1_3" xmlns:urn2="urn:pins.payment.evry.com:domain:authorization:v1_3">\r
   <soapenv:Header>\r
      <wsc:AutHeader>\r
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>\r
         <wsc:Function>PIN Create</wsc:Function>\r
         <wsc:Version>V2.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestSuite#userid2}</wsc:userid>\r
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>\r
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>\r
            <wsc:customerid>${#TestSuite#customerid2}</wsc:customerid>\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>\r
            <wsc:item value="${#TestSuite#agreementId2}" key="${#TestSuite#item2}"/>\r
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>\r
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentAuthorizationCreateRequest>\r
         <urn:cpsAuthorizationMessage>\r
            <urn1:cpsUserAuthorizationData>\r
               <urn2:agreementData>\r
                  <urn2:agreementId>${#TestSuite#agreementId2}</urn2:agreementId>\r
                  <!--Optional:-->\r
                  <urn2:bankId>${#TestSuite#orgid}</urn2:bankId>\r
                  <urn2:customerID>${#TestSuite#customerid2}</urn2:customerID>\r
                  <urn2:productID>123423</urn2:productID>\r
                  <!--Optional:-->\r
                  <!--1 or more repetitions:-->\r
                  <urn2:migrationDate>2020-08-02+05:00</urn2:migrationDate>\r
                  <urn2:corporateGrouping>\r
                     <urn2:customerId>${#TestSuite#customerid2}</urn2:customerId>\r
                     <urn2:agreementId>${#TestSuite#agreementId2}</urn2:agreementId>\r
                     <!--Optional:-->\r
                     <urn2:b2bPollingEnabled>false</urn2:b2bPollingEnabled>\r
                  </urn2:corporateGrouping>\r
                  <!--Zero or more repetitions:-->\r
                  <urn2:agreementAccount>\r
                     <urn2:accountNumber>${#TestSuite#debitAccount2}</urn2:accountNumber>\r
                     <urn2:accountOwnerIdentifier>${#TestSuite#customerid2}</urn2:accountOwnerIdentifier>\r
                     <!--Optional:-->\r
                     <urn2:currencyCode>${#TestSuite#debitAcntccy2}</urn2:currencyCode>\r
                     <urn2:accountType>CoreAccount</urn2:accountType>\r
                     <urn2:numberOfVerifiers>0</urn2:numberOfVerifiers>\r
                     <urn2:numberOfApprovers>1</urn2:numberOfApprovers>\r
                     <!--Optional:-->\r
                     <urn2:access>CREDIT_AND_DEBIT</urn2:access>\r
                  </urn2:agreementAccount>\r
               </urn2:agreementData>\r
               <urn2:userData>\r
                  <urn2:userId>${#TestSuite#userid2}</urn2:userId>\r
                  <!--Optional:-->\r
                  <urn2:sessionID>123</urn2:sessionID>\r
                  <urn2:firstName>firstName</urn2:firstName>\r
                  <urn2:lastName>lastName</urn2:lastName>\r
                  <!--Optional:-->\r
                  <urn2:socialSecurityNumber>${#TestSuite#customerid2}</urn2:socialSecurityNumber>\r
                  <!--Zero or more repetitions:-->\r
                  <urn2:userAccount>\r
                     <urn2:accountNumber>${#TestSuite#debitAccount2}</urn2:accountNumber>\r
                     <!--Optional:-->\r
                     <!--Zero or more repetitions:-->\r
                     <!--Optional:-->\r
                     <urn2:role>View</urn2:role>\r
                     <urn2:role>Register</urn2:role>\r
                     <urn2:role>Appprove</urn2:role>\r
                     <urn2:role>Salary</urn2:role>\r
                     <urn2:role>Transfer</urn2:role>\r
                     <urn2:bookingLevel>D</urn2:bookingLevel>\r
                     <urn2:approvalLimit>999999</urn2:approvalLimit>\r
                     <urn2:registerLimit>999999</urn2:registerLimit>\r
                  </urn2:userAccount>\r
                  <!--Zero or more repetitions:-->\r
               </urn2:userData>\r
            </urn1:cpsUserAuthorizationData>\r
         </urn:cpsAuthorizationMessage>\r
      </urn:PaymentAuthorizationCreateRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" name="Match content of [ErrorCode]" id="60d840da-e3b0-467a-b466-da711d608d33">
          <con:configuration>
            <path>${#Response#//*:ErrorCode}</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="32d275d6-62b1-466a-b55e-73971ebdf058">
          <con:configuration/>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig version="200508" mustUnderstand="NONE" action="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3/PINSPaymentAuthorization_V1_3PortType/PaymentAuthorizationCreateRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Authorisation_v1_3" id="88f531d0-8a16-42c2-9f29-51e79ba2bdfa">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentAuthorization_V1_3PortTypeSoap11</con:interface>
      <con:operation>PaymentAuthorizationCreate</con:operation>
      <con:request wssPasswordType="" useWsReliableMessaging="false" useWsAddressing="false" timeout="" sslKeystore="" outgoingWss="" name="Authorisation_v1_3" incomingWss="" id="844e414c-ba86-4bd6-b688-8a525d69251b">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentAuthorization_V1_3</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentauthorization:v1_3" xmlns:urn2="urn:pins.payment.evry.com:domain:authorization:v1_3">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>PIN Create</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestSuite#userid}</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestSuite#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>
            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAuthorizationCreateRequest>
         <urn:cpsAuthorizationMessage>
            <urn1:cpsUserAuthorizationData>
               <urn2:agreementData>
                  <urn2:agreementId>${#TestSuite#value2}</urn2:agreementId>
                  <!--Optional:-->
                  <urn2:bankId>${#TestSuite#orgid}</urn2:bankId>
                  <urn2:customerID>${#TestSuite#customerid}</urn2:customerID>
                  <urn2:productID>123423</urn2:productID>
                  <!--Optional:-->
                  <!--1 or more repetitions:-->
                  <urn2:migrationDate>2020-08-02+05:00</urn2:migrationDate>
                  <urn2:corporateGrouping>
                     <urn2:customerId>${#TestSuite#customerid}</urn2:customerId>
                     <urn2:agreementId>${#TestSuite#value2}</urn2:agreementId>
                     <!--Optional:-->
                     <urn2:b2bPollingEnabled>false</urn2:b2bPollingEnabled>
                  </urn2:corporateGrouping>
                  <!--Zero or more repetitions:-->
                  <urn2:agreementAccount>
                     <urn2:accountNumber>${#TestSuite#debitAccount}</urn2:accountNumber>
                     <urn2:accountOwnerIdentifier>${#TestSuite#customerid}</urn2:accountOwnerIdentifier>
                     <!--Optional:-->
                     <urn2:currencyCode>${#TestSuite#debitAcntccy}</urn2:currencyCode>
                     <urn2:accountType>CoreAccount</urn2:accountType>
                     <urn2:numberOfVerifiers>0</urn2:numberOfVerifiers>
                     <urn2:numberOfApprovers>1</urn2:numberOfApprovers>
                     <!--Optional:-->
                     <urn2:access>CREDIT_AND_DEBIT</urn2:access>
                  </urn2:agreementAccount>
               </urn2:agreementData>
               <urn2:userData>
                  <urn2:userId>${#TestSuite#userid}</urn2:userId>
                  <!--Optional:-->
                  <urn2:sessionID>123</urn2:sessionID>
                  <urn2:firstName>firstName</urn2:firstName>
                  <urn2:lastName>lastName</urn2:lastName>
                  <!--Optional:-->
                  <urn2:socialSecurityNumber>${#TestSuite#customerid}</urn2:socialSecurityNumber>
                  <!--Zero or more repetitions:-->
                  <urn2:userAccount>
                     <urn2:accountNumber>${#TestSuite#debitAccount}</urn2:accountNumber>
                     <!--Optional:-->
                     <!--Zero or more repetitions:-->
                     <!--Optional:-->
                     <urn2:role>View</urn2:role>
                     <urn2:role>Register</urn2:role>
                     <urn2:role>Appprove</urn2:role>
                     <urn2:role>Salary</urn2:role>
                     <urn2:role>Transfer</urn2:role>
                     <urn2:bookingLevel>D</urn2:bookingLevel>
                     <urn2:approvalLimit>999999</urn2:approvalLimit>
                     <urn2:registerLimit>999999</urn2:registerLimit>
                  </urn2:userAccount>
                  <!--Zero or more repetitions:-->
               </urn2:userData>
            </urn1:cpsUserAuthorizationData>
         </urn:cpsAuthorizationMessage>
      </urn:PaymentAuthorizationCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" name="Match content of [ErrorCode]" id="60d840da-e3b0-467a-b466-da711d608d33">
          <con:configuration>
            <path>${#Response#//*:ErrorCode}</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="32d275d6-62b1-466a-b55e-73971ebdf058">
          <con:configuration/>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig version="200508" mustUnderstand="NONE" action="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3/PINSPaymentAuthorization_V1_3PortType/PaymentAuthorizationCreateRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
