<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="ffbc90de-8db2-48ff-a7cb-e86843115b4d" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Order Receipt PRINT for CANC Payment" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" zephyrTestName="" zephyrTestId="" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Verifies that Updating Receipt for CANC payments not allowed</con:description>
  <con:settings>
    <con:setting id="ffbc90de-8db2-48ff-a7cb-e86843115b4dfileName">Order-Receipt-PRINT-for-CANC-Payment</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="properties" name="Properties" id="3d3c5798-74d9-4613-8808-7dd2e5e12517">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>SourceApplication</con:name>
          <con:value>EVRYINT</con:value>
        </con:property>
        <con:property>
          <con:name>UserID</con:name>
          <con:value>${#TestSuite#UserID}</con:value>
        </con:property>
        <con:property>
          <con:name>credentials</con:name>
          <con:value>03110012010400425kglPboRi3h1Z4YUjUpQ0UB65Ta2kPKj1KWwkWemtrL+SoWqMxx/KuqxUVbNyTu6DsSaabKNt2t+xJppso23a37EmmmyjbdrffJeRiGWfHDGwxCWOpDYc2jgSxAz1+8eEsSaabKNt2t/XzlyjxYnxhcG46wcbIKp/sSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu2xJppso23a37Emmmyjbdrf8wP73CNrvpw=apG4tU0NraPbbqKUp39erKDFa7xy6z+r4VDMr/6qBlkFniGaNeDXv4cZcZZQQI6JtwB3JYQk6WqLA7oyp1FWRM6n46ehgNmHVNly8fTnQbIuGJSF2LUyGI7aE92/dgtp8jv9bsGpNe58K+xb4LeIHwjb2nVVvt4/2oLtDQ8IPJE=</con:value>
        </con:property>
        <con:property>
          <con:name>channel</con:name>
          <con:value>NBA</con:value>
        </con:property>
        <con:property>
          <con:name>orgid</con:name>
          <con:value>4201</con:value>
        </con:property>
        <con:property>
          <con:name>customerid</con:name>
          <con:value>${#TestSuite#customerid}</con:value>
        </con:property>
        <con:property>
          <con:name>item1</con:name>
          <con:value>PaymentChannel</con:value>
        </con:property>
        <con:property>
          <con:name>value1</con:name>
          <con:value>INT</con:value>
        </con:property>
        <con:property>
          <con:name>item2</con:name>
          <con:value>LogRef</con:value>
        </con:property>
        <con:property>
          <con:name>value2</con:name>
          <con:value>${= java.time.LocalDateTime.now().plusDays(1).format(java.time.format.DateTimeFormatter.ofPattern('yyyy-MM-dd'))}-${=context.getCurrentStep().getTestCase().getLabel()}</con:value>
        </con:property>
        <con:property>
          <con:name>ReqExnDate</con:name>
          <con:value>${= java.time.LocalDateTime.now().plusDays(1).format(java.time.format.DateTimeFormatter.ofPattern('yyyy-MM-dd'))}</con:value>
        </con:property>
        <con:property>
          <con:name>accountNumber</con:name>
          <con:value>${#TestSuite#accountNumber}</con:value>
        </con:property>
        <con:property>
          <con:name>currencyCode</con:name>
          <con:value>${#TestSuite#currencyCode}</con:value>
        </con:property>
        <con:property>
          <con:name>CreditorAgent</con:name>
          <con:value>SPTRNO22XXX</con:value>
        </con:property>
        <con:property>
          <con:name>CreditorCountry</con:name>
          <con:value>NO</con:value>
        </con:property>
        <con:property>
          <con:name>CreditorCurrency</con:name>
          <con:value>NOK</con:value>
        </con:property>
        <con:property>
          <con:name>CreditAccountNumber</con:name>
          <con:value>42021341821</con:value>
        </con:property>
        <con:property>
          <con:name>Amount</con:name>
          <con:value>500</con:value>
        </con:property>
        <con:property>
          <con:name>AgreementId</con:name>
          <con:value>${#TestSuite#AgreementId}</con:value>
        </con:property>
        <con:property>
          <con:name>ReceiptOrder</con:name>
          <con:value>PRINT</con:value>
        </con:property>
        <con:property>
          <con:name>PaymentStatus</con:name>
          <con:value>CANC</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Payment Create" id="2fa1f925-eb22-4134-b4ee-721efdf0b60e">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPayment_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentCreate</con:operation>
      <con:request name="Payment Create" id="7be4047e-98ff-4ef5-8185-a29cc342efea">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://10.246.89.107:23621/pin/services/PINSPayment_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentinitiation:v1_7" xmlns:urn1="urn:pins.payment.edb.com:domain:paymentinitiation:v1_7" xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5" xmlns:urn3="urn:pays.payment.edb.com:domain:debtor:v1_5" xmlns:urn4="urn:pays.payment.edb.com:domain:creditor:v1_5">
   <soapenv:Header>
      <wsc:AutHeader>
      <wsc:SourceApplication>${Properties#SourceApplication}</wsc:SourceApplication>
      <wsc:DestinationApplication>PINS</wsc:DestinationApplication>
      <wsc:Function>paymentAuthorizationCreate</wsc:Function>
      <wsc:Version>1.0</wsc:Version>
      <wsc:ClientContext>
         <wsc:userid>${Properties#UserID}</wsc:userid>
         <wsc:credentials>${Properties#credentials}</wsc:credentials>
         <wsc:channel>${Properties#channel}</wsc:channel>
         <wsc:orgid>${Properties#orgid}</wsc:orgid>
         <wsc:customerid>${Properties#customerid}</wsc:customerid>
         <wsc:ip>1.1.1.1</wsc:ip>
         <wsc:item key="${Properties#item1}" value="${Properties#value1}"/> 
         <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
      </wsc:ClientContext>
   </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentCreateRequest>
         <urn:paymentMessage>
            <urn1:paymentIdentification>
               <urn2:messageIdentification>${=Math.abs(new Random().nextInt() % 6000000) + 1}</urn2:messageIdentification>
               <!--Optional:-->
               <urn2:endToEndIdentification>${=Math.abs(new Random().nextInt() % 6000000) + 1}</urn2:endToEndIdentification>
            </urn1:paymentIdentification>
            <urn1:paymentInfo>
               <urn3:paymentMethod>TRF</urn3:paymentMethod>
               <!--Optional:-->
               <urn3:paymentTypeInformation>
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <urn3:instructionPriority>NORM</urn3:instructionPriority>
               </urn3:paymentTypeInformation>
               <!--You have a CHOICE of the next 2 items at this level-->
               <urn3:requestedExecutionDate>${Properties#ReqExnDate}</urn3:requestedExecutionDate>
               <urn3:debtorAccount>
                  <urn2:identification>${Properties#accountNumber}</urn2:identification>
                  <!--Optional:-->
                  <urn2:currency>${Properties#currencyCode}</urn2:currency>
               </urn3:debtorAccount>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:paymentInfo>
            <urn1:transaction>
               <urn4:amount>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn2:instructedAmount currency="NOK">
                     <urn2:amount>${Properties#Amount}</urn2:amount>
                  </urn2:instructedAmount>
               </urn4:amount>
               <!--Optional:-->
               <!--Optional:-->
               <urn4:chargeBearer>SHAR</urn4:chargeBearer>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <urn4:creditorAgent><urn2:bic>${Properties#CreditorAgent}</urn2:bic><urn2:postalAddress><urn2:country>${Properties#CreditorCountry}</urn2:country></urn2:postalAddress></urn4:creditorAgent><urn4:creditor>
                  <!--Optional:-->
                  <urn2:name>Test Cred</urn2:name>
                  <!--Optional:-->
                  <urn2:postalAddress>
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <!--Optional:-->
                     <urn2:postCode>1597</urn2:postCode>
                     <urn2:townName>MOSS</urn2:townName>
                     <urn2:country>NO</urn2:country>
                     <urn2:addressLine>VLERVEIEN 75</urn2:addressLine>
                     <!--0 to 7 repetitions:-->
                  </urn2:postalAddress>
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
               </urn4:creditor>
               <urn4:creditorAccount>
                  <urn2:identification>${Properties#CreditAccountNumber}</urn2:identification>
                  <urn2:currency>${Properties#CreditorCurrency}</urn2:currency>
               </urn4:creditorAccount>
               <urn4:confidential>false</urn4:confidential>
               
               <!--Optional:-->
               <!--Optional:-->
               <!--Zero or more repetitions:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--You have a CHOICE of the nxt 2 items at this level-->
               <!--Zero or more repetitions:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:transaction>
            <urn1:autoConfirm>true</urn1:autoConfirm>
            <urn1:retailPaymentApprovalNeeded>false</urn1:retailPaymentApprovalNeeded>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
         </urn:paymentMessage>
      </urn:PaymentCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="8679ce6d-5034-44cb-bde3-51473670a4e3"/>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="e1b7af21-c2c1-4377-a9b6-81244b8ffad3">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="MessageContentAssertion" id="886556d9-3298-44ab-88c8-4d5fddc5961a" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:ErrorCode[1]</con:xpath>
              <con:element>ErrorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:Severity[1]</con:xpath>
              <con:element>Severity</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:ComponentId[1]</con:xpath>
              <con:element>ComponentId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>111</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:StrErrorCode[1]</con:xpath>
              <con:element>StrErrorCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
//ns4:PaymentCreateResponse[1]/ns3:ResponseState[1]/ns2:StrErrorCode[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:Message[1]</con:xpath>
              <con:element>Message</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>OK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:NativeError[1]</con:xpath>
              <con:element>NativeError</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
//ns4:PaymentCreateResponse[1]/ns3:ResponseState[1]/ns2:NativeError[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:LogSequence[1]</con:xpath>
              <con:element>LogSequence</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pays.payment.edb.com:domain:edb-types:v1';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
//ns4:PaymentCreateResponse[1]/ns3:ResponseState[1]/ns2:LogSequence[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:messageId[1]</con:xpath>
              <con:element>ns2:messageId</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>48502</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:paymentInfoId[1]</con:xpath>
              <con:element>ns2:paymentInfoId</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>57082</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:transactionId[1]</con:xpath>
              <con:element>ns2:transactionId</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>75215</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:initiatorIdentifier[1]</con:xpath>
              <con:element>ns2:initiatorIdentifier</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>01010002474</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:paymentReference[1]</con:xpath>
              <con:element>ns2:paymentReference</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>75215</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:releaseDate[1]</con:xpath>
              <con:element>ns2:releaseDate</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2019-12-26+01:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:paymentType[1]</con:xpath>
              <con:element>ns2:paymentType</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DOMESTIC_MESSAGE</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:paymentProduct[1]</con:xpath>
              <con:element>ns2:paymentProduct</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>PI Domestic</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:transactionFee[1]/@currency</con:xpath>
              <con:element>@currency</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NOK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:transactionFee[1]/ns1:amount[1]</con:xpath>
              <con:element>ns4:amount</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>25.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentIdentification[1]/ns1:messageIdentification[1]</con:xpath>
              <con:element>ns4:messageIdentification</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>574431</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentIdentification[1]/ns1:endToEndIdentification[1]</con:xpath>
              <con:element>ns4:endToEndIdentification</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1242433</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:groupHeader[1]/ns1:creationDateTime[1]</con:xpath>
              <con:element>ns4:creationDateTime</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2019-12-26T11:55:40+01:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentInfo[1]/ns1:paymentMethod[1]</con:xpath>
              <con:element>ns3:paymentMethod</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>TRF</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentInfo[1]/ns1:paymentTypeInformation[1]/ns1:instructionPriority[1]</con:xpath>
              <con:element>ns3:instructionPriority</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NORM</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentInfo[1]/ns1:requestedExecutionDate[1]</con:xpath>
              <con:element>ns3:requestedExecutionDate</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2019-12-26+01:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtorAccount[1]/ns1:identification[1]</con:xpath>
              <con:element>ns4:identification</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>42123393613</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtorAccount[1]/ns1:currency[1]</con:xpath>
              <con:element>ns4:currency</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NOK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentInfo[1]/ns1:debtorAgentBIC[1]</con:xpath>
              <con:element>ns3:debtorAgentBIC</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>SPTRNO22XXX</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtor[1]/ns1:name[1]</con:xpath>
              <con:element>ns4:name</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Mehmed Samantha Stornes</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtor[1]/ns1:postalAddress[1]/ns1:postCode[1]</con:xpath>
              <con:element>ns4:postCode</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>7603</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtor[1]/ns1:postalAddress[1]/ns1:townName[1]</con:xpath>
              <con:element>ns4:townName</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>LEVANGER</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtor[1]/ns1:postalAddress[1]/ns1:country[1]</con:xpath>
              <con:element>ns4:country</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NO</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pays.payment.edb.com:domain:debtor:v1_5';
declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:paymentInfo[1]/ns2:debtor[1]/ns1:postalAddress[1]/ns1:addressLine[1]</con:xpath>
              <con:element>ns4:addressLine</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>TORVIKVEGEN 52</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:amount[1]/ns1:instructedAmount[1]/@currency</con:xpath>
              <con:element>@currency</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NOK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:amount[1]/ns1:instructedAmount[1]/ns1:amount[1]</con:xpath>
              <con:element>ns4:amount</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>500.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:creditor:v1_5';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:transaction[1]/ns1:chargeBearer[1]</con:xpath>
              <con:element>ns5:chargeBearer</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>SHAR</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditorAgent[1]/ns1:bic[1]</con:xpath>
              <con:element>ns4:bic</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>SPTRNO22XXX</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditorAgent[1]/ns1:nationalId[1]</con:xpath>
              <con:element>ns4:nationalId</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>4201</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditorAgent[1]/ns1:postalAddress[1]/ns1:country[1]</con:xpath>
              <con:element>ns4:country</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NO</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditor[1]/ns1:name[1]</con:xpath>
              <con:element>ns4:name</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Test Cred</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditor[1]/ns1:postalAddress[1]/ns1:postCode[1]</con:xpath>
              <con:element>ns4:postCode</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>1597</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditor[1]/ns1:postalAddress[1]/ns1:townName[1]</con:xpath>
              <con:element>ns4:townName</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>MOSS</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditor[1]/ns1:postalAddress[1]/ns1:country[1]</con:xpath>
              <con:element>ns4:country</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NO</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditor[1]/ns1:postalAddress[1]/ns1:addressLine[1]</con:xpath>
              <con:element>ns4:addressLine</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>VLERVEIEN 75</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditorAccount[1]/ns1:identification[1]</con:xpath>
              <con:element>ns4:identification</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>42021341821</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns3='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns2='urn:pays.payment.edb.com:domain:creditor:v1_5';
declare namespace ns1='urn:pays.payment.edb.com:domain:sepa-complex-types:v5';
//ns4:PaymentCreateResponse[1]/ns4:paymentResult[1]/ns3:transaction[1]/ns2:creditorAccount[1]/ns1:currency[1]</con:xpath>
              <con:element>ns4:currency</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>NOK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
declare namespace ns1='urn:pays.payment.edb.com:domain:creditor:v1_5';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:transaction[1]/ns1:confidential[1]</con:xpath>
              <con:element>ns5:confidential</con:element>
              <con:type>XmlBoolean</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>false</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7';
declare namespace ns1='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:marketType[1]</con:xpath>
              <con:element>ns2:marketType</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PM</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns6:PaymentCreateResponse xmlns:ns10="urn:srv.pays.payment.fs.evry.com:ws:agreementcapture:v1_0" xmlns:ns9="urn:srv.stord.fs.evry.com:domain:common:v1" xmlns:ns8="urn:pays.payment.edb.com:domain:edb-types:v1" xmlns:ns7="urn:pays.payment.edb.com:domain:nationalinformation-nor:v1_0" xmlns:ns6="urn:pins.payment.edb.com:ws:paymentinitiation:v1_7" xmlns:ns5="urn:pays.payment.edb.com:domain:creditor:v1_5" xmlns:ns4="urn:pays.payment.edb.com:domain:sepa-complex-types:v5" xmlns:ns3="urn:pays.payment.edb.com:domain:debtor:v1_5" xmlns:ns2="urn:pins.payment.edb.com:domain:paymentinitiation:v1_7" xmlns="http://edb.com/ws/WSCommon_v21">
         <ns8:ResponseState>
            <ErrorCode>0</ErrorCode>
            <Severity>0</Severity>
            <ComponentId>111</ComponentId>
            <StrErrorCode xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <Message>OK</Message>
            <NativeError xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <LogSequence xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
         </ns8:ResponseState>
         <ns6:paymentResult>
            <ns2:messageId>48502</ns2:messageId>
            <ns2:paymentInfoId>57082</ns2:paymentInfoId>
            <ns2:transactionId>75215</ns2:transactionId>
            <ns2:initiatorIdentifier>01010002474</ns2:initiatorIdentifier>
            <ns2:paymentReference>75215</ns2:paymentReference>
            <ns2:releaseDate>2019-12-26+01:00</ns2:releaseDate>
            <ns2:paymentType>DOMESTIC_MESSAGE</ns2:paymentType>
            <ns2:paymentProduct>PI Domestic</ns2:paymentProduct>
            <ns2:transactionFee currency="NOK">
               <ns4:amount>25.00</ns4:amount>
            </ns2:transactionFee>
            <ns2:paymentIdentification>
               <ns4:messageIdentification>574431</ns4:messageIdentification>
               <ns4:endToEndIdentification>1242433</ns4:endToEndIdentification>
            </ns2:paymentIdentification>
            <ns2:groupHeader>
               <ns4:creationDateTime>2019-12-26T11:55:40+01:00</ns4:creationDateTime>
            </ns2:groupHeader>
            <ns2:paymentInfo>
               <ns3:paymentMethod>TRF</ns3:paymentMethod>
               <ns3:paymentTypeInformation>
                  <ns3:instructionPriority>NORM</ns3:instructionPriority>
               </ns3:paymentTypeInformation>
               <ns3:requestedExecutionDate>2019-12-26+01:00</ns3:requestedExecutionDate>
               <ns3:debtorAccount>
                  <ns4:identification>42123393613</ns4:identification>
                  <ns4:currency>NOK</ns4:currency>
               </ns3:debtorAccount>
               <ns3:debtorAgentBIC>SPTRNO22XXX</ns3:debtorAgentBIC>
               <ns3:debtor>
                  <ns4:name>Mehmed Samantha Stornes</ns4:name>
                  <ns4:postalAddress>
                     <ns4:postCode>7603</ns4:postCode>
                     <ns4:townName>LEVANGER</ns4:townName>
                     <ns4:country>NO</ns4:country>
                     <ns4:addressLine>TORVIKVEGEN 52</ns4:addressLine>
                  </ns4:postalAddress>
               </ns3:debtor>
            </ns2:paymentInfo>
            <ns2:transaction>
               <ns5:amount>
                  <ns4:instructedAmount currency="NOK">
                     <ns4:amount>500.00</ns4:amount>
                  </ns4:instructedAmount>
               </ns5:amount>
               <ns5:chargeBearer>SHAR</ns5:chargeBearer>
               <ns5:creditorAgent>
                  <ns4:bic>SPTRNO22XXX</ns4:bic>
                  <ns4:nationalId>4201</ns4:nationalId>
                  <ns4:postalAddress>
                     <ns4:country>NO</ns4:country>
                  </ns4:postalAddress>
               </ns5:creditorAgent>
               <ns5:creditor>
                  <ns4:name>Test Cred</ns4:name>
                  <ns4:postalAddress>
                     <ns4:postCode>1597</ns4:postCode>
                     <ns4:townName>MOSS</ns4:townName>
                     <ns4:country>NO</ns4:country>
                     <ns4:addressLine>VLERVEIEN 75</ns4:addressLine>
                  </ns4:postalAddress>
               </ns5:creditor>
               <ns5:creditorAccount>
                  <ns4:identification>42021341821</ns4:identification>
                  <ns4:currency>NOK</ns4:currency>
               </ns5:creditorAccount>
               <ns5:confidential>false</ns5:confidential>
            </ns2:transaction>
            <ns2:marketType>PM</ns2:marketType>
         </ns6:paymentResult>
      </ns6:PaymentCreateResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bfc46098-7126-4e7a-9bb8-a84a8c09bdf4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8de4f088-ed70-4c0c-8902-4d113b89b9c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="606de439-9af0-4a56-8685-3b41eae80c54">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e7d541d-7700-4e30-b618-2383a86673d0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a9fe1c68-a44a-47a3-92a0-597ac3558eed">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="62d35584-b9e8-4224-9147-332b8581935f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="89ad1e7e-0554-4e47-a121-4b99b2e5bb7a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="21978985-2edd-4ea2-980a-2a15021d4999" name="Payment CANC">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentStatusUpdate_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentCancel</con:operation>
      <con:request name="Payment CANC" id="aa7786cb-f266-46f1-94d4-a72e9c0fe7c1">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://10.246.89.107:23621/pin/services/PINSPaymentStatusUpdate_V1_5</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5" xmlns:urn1="urn:pins.payment.evry.com:domain:payment-status-update:v1_5">
   <soapenv:Header>
      <wsc:AutHeader>
      <wsc:SourceApplication>${Properties#SourceApplication}</wsc:SourceApplication>
      <wsc:DestinationApplication>PINS</wsc:DestinationApplication>
      <wsc:Function>paymentAuthorizationCreate</wsc:Function>
      <wsc:Version>1.0</wsc:Version>
      <wsc:ClientContext>
         <wsc:userid>${Properties#UserID}</wsc:userid>
         <wsc:credentials>${Properties#credentials}</wsc:credentials>
         <wsc:channel>${Properties#channel}</wsc:channel>
         <wsc:orgid>${Properties#orgid}</wsc:orgid>
         <wsc:customerid>${Properties#customerid}</wsc:customerid>
         <wsc:ip>1.1.1.1</wsc:ip>
         <wsc:item key="${Properties#item1}" value="${Properties#value1}"/> 
         <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
      </wsc:ClientContext>
   </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentCancelRequest>
         <!--You have a CHOICE of the next 4 items at this level-->
         
         
         <urn:transactionInput>
            <!--1 or more repetitions:-->
            <urn1:transactionId>${Payment Create#Response#declare namespace ns6='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7'; declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7'; //ns6:PaymentCreateResponse[1]/ns6:paymentResult[1]/ns2:transactionId[1]}</urn1:transactionId>
         </urn:transactionInput>
      </urn:PaymentCancelRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" id="171f28ad-89b3-43f2-bdda-7745dcf3b6bd" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="489db3a2-587e-423b-8aa4-a26a31bbd858" name="Not SOAP Fault"/>
        <con:assertion type="Schema Compliance" id="9c3bab71-1054-459b-a436-08b906b7f82a" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="XPath Match" id="248df4f6-b392-407f-8a06-85305f21acca" name="XPath Match">
          <con:configuration>
            <path>declare namespace ns2='urn:pins.payment.evry.com:domain:payment-status-update:v1_5';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5';
//ns3:PaymentCancelResponse[1]/ns3:paymentStatusUpdateSummary[1]/ns2:paymentStatus[1]</path>
            <content>CANCELLED</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5/PINSPaymentStatusUpdate_V1_5PortType/PaymentCancelRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bfc46098-7126-4e7a-9bb8-a84a8c09bdf4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8de4f088-ed70-4c0c-8902-4d113b89b9c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="606de439-9af0-4a56-8685-3b41eae80c54">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e7d541d-7700-4e30-b618-2383a86673d0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a9fe1c68-a44a-47a3-92a0-597ac3558eed">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="62d35584-b9e8-4224-9147-332b8581935f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="89ad1e7e-0554-4e47-a121-4b99b2e5bb7a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="Verify Status" id="dae15d62-d2cc-44b3-a7c5-2220430c827e">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWHDATA</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>jdbc:oracle:thin:PWHDATA/pwh@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=dlt-exa853-scan.unix.cosng.net)(PORT=1530)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=pwh_g_s1_19c)))</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>select TRANSACTIONSID,PAYMENTTYPE,PAYMENTSTATUS from TRANSACTIONS where TRANSACTIONSID = '${Payment Create#Response#declare namespace ns6='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7'; declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7'; //ns6:PaymentCreateResponse[1]/ns6:paymentResult[1]/ns2:transactionId[1]}'</con:query>
      <con:assertion type="MessageContentAssertion" id="7198fce0-1c05-4759-b3e0-e8b946e2ae32" name="Message Content Assertion">
        <con:configuration xsi:type="con:MessageContentAssertion">
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/@fetchSize</con:xpath>
            <con:element>@fetchSize</con:element>
            <con:type/>
            <con:operator>=</con:operator>
            <con:enabled>false</con:enabled>
            <con:expectedValue>10</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/Row[1]/@rowNumber</con:xpath>
            <con:element>@rowNumber</con:element>
            <con:type/>
            <con:operator>=</con:operator>
            <con:enabled>false</con:enabled>
            <con:expectedValue>1</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/Row[1]/TRANSACTIONSID[1]</con:xpath>
            <con:element>TRANSACTIONSID</con:element>
            <con:type xsi:nil="true"/>
            <con:operator>=</con:operator>
            <con:enabled>false</con:enabled>
            <con:expectedValue>75205</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENTTYPE[1]</con:xpath>
            <con:element>PAYMENTTYPE</con:element>
            <con:type xsi:nil="true"/>
            <con:operator>=</con:operator>
            <con:enabled>false</con:enabled>
            <con:expectedValue>INTP</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENTSTATUS[1]</con:xpath>
            <con:element>PAYMENTSTATUS</con:element>
            <con:type xsi:nil="true"/>
            <con:operator>=</con:operator>
            <con:enabled>true</con:enabled>
            <con:expectedValue>CANC</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:originalMessage><![CDATA[<Results>
   <ResultSet fetchSize="10">
      <Row rowNumber="1">
         <TRANSACTIONSID>75205</TRANSACTIONSID>
         <PAYMENTTYPE>INTP</PAYMENTTYPE>
         <PAYMENTSTATUS>TBAP</PAYMENTSTATUS>
      </Row>
   </ResultSet>
</Results>]]></con:originalMessage>
        </con:configuration>
      </con:assertion>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Receipt Order" id="24fcb74a-cfcd-43b5-9e91-4c80dd9b07d5">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentUtil_V1_2PortTypeSoap11</con:interface>
      <con:operation>ReceiptOrderUpdate</con:operation>
      <con:request name="Receipt Order" id="2be0cd79-5cf0-4518-aa92-8228becf8c77">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://10.246.89.107:23621/pin/services/PINSPaymentUtil_V1_2Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentutil:v1_2" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentutil:v1_2">
   <soapenv:Header>
      <wsc:AutHeader>
      <wsc:SourceApplication>${Properties#SourceApplication}</wsc:SourceApplication>
      <wsc:DestinationApplication>PINS</wsc:DestinationApplication>
      <wsc:Function>paymentAuthorizationCreate</wsc:Function>
      <wsc:Version>1.0</wsc:Version>
      <wsc:ClientContext>
         <wsc:userid>${Properties#UserID}</wsc:userid>
         <wsc:credentials>${Properties#credentials}</wsc:credentials>
         <wsc:channel>${Properties#channel}</wsc:channel>
         <wsc:orgid>${Properties#orgid}</wsc:orgid>
         <wsc:customerid>${Properties#customerid}</wsc:customerid>
         <wsc:ip>1.1.1.1</wsc:ip>
         <wsc:item key="${Properties#item1}" value="${Properties#value1}"/> 
         <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
      </wsc:ClientContext>
   </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:ReceiptOrderUpdateRequest>
         <urn:receiptOrder>
            <urn1:debitAccount>${Properties#accountNumber}</urn1:debitAccount>
            <!--You have a CHOICE of the next 2 items at this level-->
            
            <urn1:transactionId>${Payment Create#Response#declare namespace ns6='urn:pins.payment.edb.com:ws:paymentinitiation:v1_7'; declare namespace ns2='urn:pins.payment.edb.com:domain:paymentinitiation:v1_7'; //ns6:PaymentCreateResponse[1]/ns6:paymentResult[1]/ns2:transactionId[1]}</urn1:transactionId><urn1:receiptType>PRINT</urn1:receiptType>
         </urn:receiptOrder>
      </urn:ReceiptOrderUpdateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="0022e314-ac22-4cdd-bc3e-6d2fefef1ad7"/>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="81a4b559-0409-423e-8914-956e90d1faf2">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple Contains" id="efec6bdf-d9f8-47ac-a668-663020229aba" name="Contains">
          <con:configuration>
            <token>Cannot updated receipt order while transaction status is CANCELLED</token>
            <ignoreCase>false</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bfc46098-7126-4e7a-9bb8-a84a8c09bdf4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8de4f088-ed70-4c0c-8902-4d113b89b9c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="606de439-9af0-4a56-8685-3b41eae80c54">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="7e7d541d-7700-4e30-b618-2383a86673d0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a9fe1c68-a44a-47a3-92a0-597ac3558eed">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="62d35584-b9e8-4224-9147-332b8581935f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="89ad1e7e-0554-4e47-a121-4b99b2e5bb7a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>ConnectionString</con:name>
      <con:value>jdbc:oracle:thin:pendata/pen@//10.246.89.97:1530/pen_g_functional</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>8167094a-00a6-434a-9588-31a9de204fb8</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>921ce22c-5c29-4284-a083-a1a1a0117555</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a70f8027-178c-4de6-8bc5-74ac99217e62</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>258ba11c-c48e-4bfc-a96a-d5f6470381a6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>aaa0220f-b6d3-48f0-a5a7-a2b12983d00a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1c7ee62f-4466-469a-84ec-e66f85b086d2</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>35f8d9ed-12a3-4131-a1a3-47b30c8a0708</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>aac2892a-3295-489f-bd2b-066e6077d796</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>