<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="8436bb08-117a-4449-98f7-fe8da901ef03" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="PAYMENTSTATUS READ API" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="55b62923-f8fa-47f9-9e85-0414363fa7bcfileName">PAYMENTSTATUS-READ-API</con:setting>
    <con:setting id="8436bb08-117a-4449-98f7-fe8da901ef03fileName">PAYMENTSTATUS-READ-API</con:setting>
  </con:settings>
  <con:testStep type="properties" name="Properties" id="e0364f9d-a13e-40de-92e5-4b21e702dd8b">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>CLIENTNAME</con:name>
          <con:value>PaymentClient</con:value>
        </con:property>
        <con:property>
          <con:name>orgid</con:name>
          <con:value>4201</con:value>
        </con:property>
        <con:property>
          <con:name>credentials</con:name>
          <con:value>03110012010400425kglPboRi3h16OVtVL1neI9CfuAtjCBO603eS0IgWm1WWIO7EfpSL4DE%2FlDFi69n1sSaabKNt2t%2BxJppso23a37EmmmyjbdrfutbV53%2FUXGOxjDkLmirISLEmmmyjbdrfsSaabKNt2t%2FXzlyjxYnxhcG46wcbIKp%2FsSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu2xJppso23a37Emmmyjbdrf8wP73CNrvpw%3DH5LS2JD%2BVebr3PytlKAocCy8%2FCcrl7tRSepyb0jhKW8A8k07nuvorl7Xoscy%2BybGjXIr2Zj%2Fvprt%2BD1IueT5rqEcvxyyr%2FYELRuLkDS94SfjVw%2FszcGGYfeWnI2Z1NwXorQAZPvT5U6Edafp2sbvWiNKkrzCmFJ4YcuHbGSJCYk%3D</con:value>
        </con:property>
        <con:property>
          <con:name>PaymentChannel</con:name>
          <con:value>ITR</con:value>
        </con:property>
        <con:property>
          <con:name>customerid</con:name>
          <con:value>04058501072</con:value>
        </con:property>
        <con:property>
          <con:name>userid</con:name>
          <con:value>04058501072</con:value>
        </con:property>
        <con:property>
          <con:name>Employee</con:name>
          <con:value>E600685</con:value>
        </con:property>
        <con:property>
          <con:name>SelfService</con:name>
          <con:value>false</con:value>
        </con:property>
        <con:property>
          <con:name>LogRef</con:name>
          <con:value>${= java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern('dMMyyHHmmss'))}</con:value>
        </con:property>
        <con:property>
          <con:name>transactionIds</con:name>
          <con:value>1000163286</con:value>
        </con:property>
        <con:property>
          <con:name>Content-Type</con:name>
          <con:value>application/vnd.realtime247.sct-v2+xml</con:value>
        </con:property>
        <con:property>
          <con:name>paymentcontext</con:name>
          <con:value>{"items":{"PaymentChannel":"${Properties#PaymentChannel}","SelfService":"${Properties#SelfService#$}","LogRef":"${Properties#LogRef}"}}</con:value>
        </con:property>
        <con:property>
          <con:name>SECURITYTOKEN</con:name>
          <con:value>{"tokenType": "EvrySo", "token": "${Properties#credentials}"}</con:value>
        </con:property>
        <con:property>
          <con:name>USERSESSION</con:name>
          <con:value>{"authLevel":"2", "bankOrgID":"${Properties#orgid#$}", "client":{"ip":"127.0.0.1","userAgent":"soapUI"}, "sessionID":"ipY-R_OLbu50WpfCfQKOCO_", "userID":"${Properties#Employee}"}</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="httprequest" name="PAYMENTSTATUS READ" id="6001d9b0-7770-468d-a65c-eed349a76d68">
    <con:settings/>
    <con:config method="GET" xsi:type="con:HttpRequest" id="aa9c49f5-a286-46a7-ab4d-7cfb636599ef" name="PAYMENTSTATUS READ" postQueryString="false" mediaType="text/xml" downloadIncludedResources="false" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@strip-whitespaces">false</con:setting>
      </con:settings>
      <con:endpoint>http://${#Project#PIN_PaymentStatusRead}/pin/api/v7/paymentstatuses?</con:endpoint>
      <con:request/>
      <con:assertion type="DataAndMetadataAssertion" id="59c104d1-2393-4204-af46-64538c77220a" name="Smart Assertion">
        <con:configuration xsi:type="con:DataAndMetadataAssertion">
          <con:mode>Received Data</con:mode>
          <con:elements>
            <con:path>$[0]['transactionId']</con:path>
            <con:element>transactionId</con:element>
            <con:operatorId>1</con:operatorId>
            <con:enabled>false</con:enabled>
            <con:expectedValue>1000163286</con:expectedValue>
            <con:caseSensitive>false</con:caseSensitive>
            <con:numberType>true</con:numberType>
            <con:expectedDataType>2</con:expectedDataType>
          </con:elements>
          <con:elements>
            <con:path>$[0]['paymentReference']</con:path>
            <con:element>paymentReference</con:element>
            <con:operatorId>1</con:operatorId>
            <con:enabled>false</con:enabled>
            <con:expectedValue>1000163286</con:expectedValue>
            <con:caseSensitive>false</con:caseSensitive>
            <con:numberType>false</con:numberType>
            <con:expectedDataType>1</con:expectedDataType>
          </con:elements>
          <con:elements>
            <con:path>$[0]['endToEndId']</con:path>
            <con:element>endToEndId</con:element>
            <con:operatorId>1</con:operatorId>
            <con:enabled>false</con:enabled>
            <con:expectedValue>180522125514</con:expectedValue>
            <con:caseSensitive>false</con:caseSensitive>
            <con:numberType>false</con:numberType>
            <con:expectedDataType>1</con:expectedDataType>
          </con:elements>
          <con:elements>
            <con:path>$[0]['status']</con:path>
            <con:element>status</con:element>
            <con:operatorId>9</con:operatorId>
            <con:enabled>true</con:enabled>
            <con:expectedValue>COMPLETED</con:expectedValue>
            <con:caseSensitive>false</con:caseSensitive>
            <con:numberType>false</con:numberType>
            <con:expectedDataType>1</con:expectedDataType>
          </con:elements>
          <con:elements>
            <con:path>$[0]['lastStatusChangeTime']</con:path>
            <con:element>lastStatusChangeTime</con:element>
            <con:operatorId>1</con:operatorId>
            <con:enabled>false</con:enabled>
            <con:expectedValue>2022-05-18T09:25:29.075167</con:expectedValue>
            <con:caseSensitive>false</con:caseSensitive>
            <con:numberType>false</con:numberType>
            <con:expectedDataType>1</con:expectedDataType>
          </con:elements>
          <con:elements>
            <con:path>$[0]['statusReason']</con:path>
            <con:element>statusReason</con:element>
            <con:operatorId>1</con:operatorId>
            <con:enabled>false</con:enabled>
            <con:expectedValue>[]</con:expectedValue>
            <con:caseSensitive>false</con:caseSensitive>
            <con:numberType>false</con:numberType>
            <con:expectedDataType>4</con:expectedDataType>
          </con:elements>
          <con:originalMessage>[{"transactionId":1000163286,"paymentReference":"1000163286","endToEndId":"180522125514","status":"COMPLETED","lastStatusChangeTime":"2022-05-18T09:25:29.075167","statusReason":[]}]</con:originalMessage>
        </con:configuration>
      </con:assertion>
      <con:credentials>
        <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
        <con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
        <con:authType>No Authorization</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:parameters>
        <con:parameter>
          <con:name>xNetsRealtime247FlowId</con:name>
          <con:value>${Properties#LogRef}</con:value>
          <con:style>HEADER</con:style>
          <con:default>${Properties#LogRef}</con:default>
        </con:parameter>
        <con:parameter required="false" disableUrlEncoding="false">
          <con:name>X-Nets-Realtime247-RequestId</con:name>
          <con:value>${Properties#LogRef}</con:value>
          <con:style>HEADER</con:style>
          <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
          <con:default>${Properties#LogRef}</con:default>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter required="false" disableUrlEncoding="false">
          <con:name>X-Nets-Realtime247-CorrelationId</con:name>
          <con:value>${Properties#LogRef}</con:value>
          <con:style>HEADER</con:style>
          <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
          <con:default>${Properties#LogRef}</con:default>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter required="false" disableUrlEncoding="false">
          <con:name>X-EVRY-CLIENT-REQUESTID</con:name>
          <con:value>${Properties#LogRef}</con:value>
          <con:style>HEADER</con:style>
          <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
          <con:default>${Properties#LogRef}</con:default>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter required="false" disableUrlEncoding="false">
          <con:name>X-EVRY-CLIENT-CLIENTNAME</con:name>
          <con:value>${Properties#CLIENTNAME}</con:value>
          <con:style>HEADER</con:style>
          <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
          <con:default>${Properties#CLIENTNAME}</con:default>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter required="false" disableUrlEncoding="false">
          <con:name>X-EVRY-ESB-CLIENTNAME</con:name>
          <con:value>${Properties#CLIENTNAME}</con:value>
          <con:style>HEADER</con:style>
          <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
          <con:default>${Properties#CLIENTNAME}</con:default>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>paymentcontext</con:name>
          <con:value>${Properties#paymentcontext}</con:value>
          <con:style>HEADER</con:style>
          <con:default>${Properties#paymentcontext}</con:default>
        </con:parameter>
        <con:parameter>
          <con:name>Content-Type</con:name>
          <con:value>${Properties#Content-Type}</con:value>
          <con:style>HEADER</con:style>
          <con:default>${Properties#Content-Type}</con:default>
        </con:parameter>
        <con:parameter>
          <con:name>X-EVRY-ESB-SECURITYTOKEN</con:name>
          <con:value>${Properties#SECURITYTOKEN}</con:value>
          <con:style>HEADER</con:style>
          <con:default>${Properties#SECURITYTOKEN}</con:default>
        </con:parameter>
        <con:parameter>
          <con:name>X-EVRY-ESB-USERSESSION</con:name>
          <con:value>${Properties#USERSESSION}</con:value>
          <con:style>HEADER</con:style>
          <con:default>${Properties#USERSESSION}</con:default>
        </con:parameter>
        <con:parameter>
          <con:name>transactionIds</con:name>
          <con:value>${Properties#transactionIds#$}</con:value>
          <con:style>QUERY</con:style>
          <con:default>${Properties#transactionIds#$}</con:default>
        </con:parameter>
      </con:parameters>
      <con:environmentSpec>
        <con:entry environmentId="1e081e08-b8ca-49a8-83ed-1a453bba7ec9">
          <con:authProfile>admin</con:authProfile>
          <con:username>admin</con:username>
          <con:password>admin</con:password>
          <con:preemptive>false</con:preemptive>
        </con:entry>
        <con:entry environmentId="2f3b664f-e38d-4d41-8bd4-c2a81548437f">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
        <con:entry environmentId="b2f6872f-554c-465f-a22b-7cecf4556840">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
        <con:entry environmentId="9d51eee9-1b5f-4e6c-8e3a-97ebaee97054">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
        <con:entry environmentId="5f0d236d-3362-42b4-8424-f0018c8cce79">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
        <con:entry environmentId="62392bde-3bec-475a-8c2f-519d350793dc">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
        <con:entry environmentId="14c75db4-d0e3-4594-bf64-d63ab0f199d8">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:environmentSpec>
    <con:entry environmentId="2f3b664f-e38d-4d41-8bd4-c2a81548437f">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="b2f6872f-554c-465f-a22b-7cecf4556840">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="9d51eee9-1b5f-4e6c-8e3a-97ebaee97054">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="5f0d236d-3362-42b4-8424-f0018c8cce79">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="62392bde-3bec-475a-8c2f-519d350793dc">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="14c75db4-d0e3-4594-bf64-d63ab0f199d8">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
