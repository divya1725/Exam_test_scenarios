<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="b79416be-fef4-4ece-bff5-27f7bb9cc781" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="HidePayments_PWH  -- Reject Service --NA for online" searchProperties="true" timeout="0" disabled="true" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="b79416be-fef4-4ece-bff5-27f7bb9cc781fileName">HidePayments_PWH-----Reject-Service---NA-for-online</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" name="Authorization_v1_2" id="3d2ef712-86bf-4542-890e-a4cef9e60381">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PAYSPaymentAuthorization_V1_2PortTypeSoap11</con:interface>
      <con:operation>PaymentAuthorizationCreate</con:operation>
      <con:request name="Authorization_v1_2" id="3817dd58-eead-4601-ba33-8dd13cbcbe55" timeout="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PAYSPaymentAuthorization_V1_2Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pays.payment.edb.com:ws:paymentauthorization:v1_2" xmlns:urn1="urn:pays.payment.edb.com:domain:paymentauthorization:v1_2" xmlns:urn2="urn:pays.payment.edb.com:domain:authorization:v1_2" xmlns:urn3="urn:pays.payment.edb.com:domain:authorization:v1_1">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAuthorizationCreateRequest>
         <urn:cpsAuthorizationMessage>
            <urn1:cpsUserAuthorizationData>
               <urn2:agreementData>
                  <urn3:agreementId>${#TestCase#value2}</urn3:agreementId>
                  <urn3:bankId>${#TestCase#orgid}</urn3:bankId>
                  <urn3:customerID>${#TestCase#customerid}</urn3:customerID>
                  <urn3:productID>1234</urn3:productID>
                  <urn3:migrationDate>2019-02-03+05:00</urn3:migrationDate>
               </urn2:agreementData>
               <urn2:userId>${#TestCase#customerid}</urn2:userId>
               <urn2:sessionID>qw24213</urn2:sessionID>
               <urn2:firstName>Fname</urn2:firstName>
               <urn2:lastName>Lname</urn2:lastName>
               <urn2:socialSecurityNumber>${#TestCase#customerid}</urn2:socialSecurityNumber>
               <urn2:userAccount><urn2:accountNumber>${#TestCase#debitAccount}</urn2:accountNumber><urn2:accountOwnerIdentifier>${#TestCase#customerid}</urn2:accountOwnerIdentifier><urn2:currencyCode>NOK</urn2:currencyCode><urn2:accountType>CoreAccount</urn2:accountType><urn2:role>View</urn2:role><urn2:role>Register</urn2:role><urn2:role>Appprove</urn2:role><urn2:role>Salary</urn2:role><urn2:role>Transfer</urn2:role><urn2:approvalLimit>99999</urn2:approvalLimit><urn2:registerLimit>99999</urn2:registerLimit><urn2:numberOfVerifiers>0</urn2:numberOfVerifiers><urn2:numberOfApprovers>1</urn2:numberOfApprovers><urn2:bookingLevel>T</urn2:bookingLevel></urn2:userAccount>
            </urn1:cpsUserAuthorizationData>
         </urn:cpsAuthorizationMessage>
      </urn:PaymentAuthorizationCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="85a6ddb9-cffd-407c-8ac5-5c5165c0bad7">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="99cfe0b9-b13d-40fe-a9d7-03803c708bf5">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="7080f15c-6efa-48d7-9fd5-ae15a7e6fe4e">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="07697a3e-69a1-4314-a777-3c3857346833">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Create" id="a8144512-c4c6-4730-8420-7843b9a0e8ba" disabled="true">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPayment_V1_10PortTypeSoap11</con:interface>
      <con:operation>PaymentCreate</con:operation>
      <con:request name="Create" id="0723c742-3453-44d8-a135-2affca228353">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPayment_V1_10</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentinitiation:v1_10" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentinitiation:v1_10" xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v8" xmlns:urn3="urn:pins.payment.evry.com:domain:debtor:v1_8" xmlns:urn4="urn:pins.payment.evry.com:domain:creditor:v1_8">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <!--Optional:-->
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <!--Optional:-->
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <!--Optional:-->
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <!--Zero or more repetitions:-->
            <wsc:item key="${#TestCase#item4}" value="${#TestCase#value4}"/>
            <wsc:item key="${#TestCase#item1}" value="${#TestCase#value1}"/>
            <wsc:item key="${#TestCase#item2}" value="${#TestCase#value2}"/>
            <wsc:item key="${#TestCase#item3}" value="${#TestCase#value3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentCreateRequest>
         <urn:paymentMessage>
            <urn1:paymentIdentification>
               <urn2:messageIdentification>${=Math.abs(new Random().nextInt() % 6000000)+1}</urn2:messageIdentification>
               <urn2:endToEndIdentification>Paymenthidecheck</urn2:endToEndIdentification>
            </urn1:paymentIdentification>
            <urn1:paymentInfo>
               <urn3:paymentMethod>TRF</urn3:paymentMethod>
               <!--You have a CHOICE of the next 2 items at this level-->
               <urn3:requestedExecutionDate>${=def now = new Date();now.format("yyyy-MM-dd")}</urn3:requestedExecutionDate>
               <urn3:debtorAccount>
                  <urn2:identification>${#TestCase#debitAccount}</urn2:identification>
                  <urn2:currency>NOK</urn2:currency>
               </urn3:debtorAccount>
            </urn1:paymentInfo>
            <urn1:transaction>
               <urn4:amount>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn2:instructedAmount currency="NOK">
                     <urn2:amount>1</urn2:amount>
                  </urn2:instructedAmount>
               </urn4:amount>
               <urn4:creditor>
                  <urn2:name>Creditor</urn2:name>
               </urn4:creditor>
               <urn4:creditorAccount>
                  <urn2:identification>${#TestCase#CreditAccount}</urn2:identification>
                  <urn2:currency>NOK</urn2:currency>
               </urn4:creditorAccount>
            </urn1:transaction>
         </urn:paymentMessage>
      </urn:PaymentCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fc6b74a5-895c-4413-90a5-c40fd848e663">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="29bf3917-66af-4351-b0ed-97a09c5c4897">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="4920d606-ea5c-4564-8483-902e3641e22e">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="ListCreate" id="d27fcec3-8fbb-4889-b08c-a81f080b2803">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPayment_V1_10PortTypeSoap11</con:interface>
      <con:operation>PaymentListCreate</con:operation>
      <con:request name="ListCreate" id="01977259-bdb9-447d-a8c8-7c68104a7a45">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://10.246.89.107:23621/pin/services/PINSPayment_V1_10</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentinitiation:v1_10" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentinitiation:v1_10" xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v8" xmlns:urn3="urn:pins.payment.evry.com:domain:creditor:v1_8">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <!--Optional:-->
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <!--Optional:-->
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <!--Optional:-->
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <!--Zero or more repetitions:-->
            <wsc:item key="${#TestCase#item4}" value="${#TestCase#value4}"/>
            <wsc:item key="${#TestCase#item1}" value="${#TestCase#value1}"/>
            <wsc:item key="${#TestCase#item2}" value="${#TestCase#value2}"/>
            <wsc:item key="${#TestCase#item3}" value="${#TestCase#value3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentListCreateRequest>
         <urn:paymentListCreateMessage>
            <urn1:messageIdentification>${=Math.abs(new Random().nextInt() % 6000000)+1}</urn1:messageIdentification>
            <urn1:paymentListType>SUPP</urn1:paymentListType>
            <!--You have a CHOICE of the next 2 items at this level-->
            <urn1:requestedExecutionDate>${=def now = new Date();now.format("yyyy-MM-dd")}</urn1:requestedExecutionDate>
            <urn1:debtorAccount>
               <urn2:identification>${#TestCase#debitAccount}</urn2:identification>
               <urn2:currency>NOK</urn2:currency>
            </urn1:debtorAccount>
            <!--1 or more repetitions:-->
            <urn1:debtor>
               <urn2:name>Ndebtor</urn2:name>
            </urn1:debtor>
            <urn1:transactions>
               <urn3:instructionIdentification>${#TestCase#CreditAccount}</urn3:instructionIdentification>
               <urn3:amount>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn2:instructedAmount currency="NOK">
                     <urn2:amount>1</urn2:amount>
                  </urn2:instructedAmount>
               </urn3:amount>
               <urn3:creditorName>NCreditor</urn3:creditorName>
               <urn3:creditorAccount>
                  <urn2:identification>${#TestCase#CreditAccount}</urn2:identification>
                  <urn2:currency>NOK</urn2:currency>
               </urn3:creditorAccount>
            </urn1:transactions>
         </urn:paymentListCreateMessage>
      </urn:PaymentListCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="4dddfc10-d2b7-40b0-8fd1-41ef4c2bdaa4"/>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Confirm" id="2a307208-3467-4245-9db3-c4f880d2df7a">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentStatusUpdate_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentConfirm</con:operation>
      <con:request name="Confirm" id="39794117-62c8-4b36-89b0-a25361fe461e">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://ald-eos-g-app04.man.cosng.net:22641/pin/services/PINSPaymentStatusUpdate_V1_5</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5" xmlns:urn1="urn:pins.payment.evry.com:domain:payment-status-update:v1_5">\r
   <soapenv:Header>\r
      <wsc:AutHeader>\r
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>\r
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>\r
         <wsc:Version>1.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestCase#userid}</wsc:userid>\r
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>\r
            <!--Optional:-->\r
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>\r
            <!--Optional:-->\r
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>\r
            <!--Optional:-->\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <!--Zero or more repetitions:-->\r
            <wsc:item key="${#TestCase#item4}" value="${#TestCase#value4}"/>\r
            <wsc:item key="${#TestCase#item1}" value="${#TestCase#value1}"/>\r
            <wsc:item key="${#TestCase#item2}" value="${#TestCase#value2}"/>\r
            <wsc:item key="${#TestCase#item3}" value="${#TestCase#value3}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentConfirmRequest>\r
         <!--You have a CHOICE of the next 4 items at this level-->\r
         <urn:transactionInput>\r
            <!--1 or more repetitions:-->\r
            <urn1:transactionId>${ListCreate#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; declare namespace ns3='urn:pins.payment.evry.com:domain:sepa-complex-types:v8'; //ns2:PaymentListCreateResponse[1]/ns2:paymentResult[1]/ns4:statusOnTransaction[1]/ns3:transactionId[1]}</urn1:transactionId>\r
         </urn:transactionInput>\r
      </urn:PaymentConfirmRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="832f0a28-1dca-4560-ad77-9eb49353951e"/>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Approve" id="5632395b-2f34-44eb-92f6-38b31a37abdb" disabled="true">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentStatusUpdate_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentApprove</con:operation>
      <con:request name="Approve" id="23e0e267-a0bc-43ae-9e05-ad04e9a7e68c">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://ald-eos-g-app04.man.cosng.net:22641/pin/services/PINSPaymentStatusUpdate_V1_5</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5" xmlns:urn1="urn:pins.payment.evry.com:domain:payment-status-update:v1_5">\r
   <soapenv:Header>\r
      <wsc:AutHeader>\r
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>\r
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>\r
         <wsc:Version>1.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestCase#userid}</wsc:userid>\r
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>\r
            <!--Optional:-->\r
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>\r
            <!--Optional:-->\r
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>\r
            <!--Optional:-->\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <!--Zero or more repetitions:-->\r
            <wsc:item key="${#TestCase#item4}" value="${#TestCase#value4}"/>\r
            <wsc:item key="${#TestCase#item1}" value="${#TestCase#value1}"/>\r
            <wsc:item key="${#TestCase#item2}" value="${#TestCase#value2}"/>\r
            <wsc:item key="${#TestCase#item3}" value="${#TestCase#value3}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentApproveRequest>\r
         <!--You have a CHOICE of the next 4 items at this level-->\r
         <urn:transactionInput>\r
            <!--1 or more repetitions:-->\r
            <urn1:transactionId>${ListCreate#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; declare namespace ns3='urn:pins.payment.evry.com:domain:sepa-complex-types:v8'; //ns2:PaymentListCreateResponse[1]/ns2:paymentResult[1]/ns4:statusOnTransaction[1]/ns3:transactionId[1]}</urn1:transactionId>\r
         </urn:transactionInput>\r
      </urn:PaymentApproveRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="da0d0a6d-becd-49d0-b7b1-e6a26ef263b3"/>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="Cancel" id="6fea1968-d6c2-4971-be44-5100b39df386">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentStatusUpdate_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentCancel</con:operation>
      <con:request name="Cancel" id="2fba5078-99e6-4b37-aeba-7c0f672292df">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://ald-eos-g-app04.man.cosng.net:22641/pin/services/PINSPaymentStatusUpdate_V1_5</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5" xmlns:urn1="urn:pins.payment.evry.com:domain:payment-status-update:v1_5">\r
   <soapenv:Header>\r
      <wsc:AutHeader>\r
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>\r
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>\r
         <wsc:Version>1.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestCase#userid}</wsc:userid>\r
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>\r
            <!--Optional:-->\r
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>\r
            <!--Optional:-->\r
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>\r
            <!--Optional:-->\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <!--Zero or more repetitions:-->\r
            <wsc:item key="${#TestCase#item4}" value="${#TestCase#value4}"/>\r
            <wsc:item key="${#TestCase#item1}" value="${#TestCase#value1}"/>\r
            <wsc:item key="${#TestCase#item2}" value="${#TestCase#value2}"/>\r
            <wsc:item key="${#TestCase#item3}" value="${#TestCase#value3}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentCancelRequest>\r
         <!--You have a CHOICE of the next 4 items at this level-->\r
         <urn:messageInput>\r
            <urn1:messageId>${ListCreate#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentListCreateResponse[1]/ns2:paymentResult[1]/ns4:messageId[1]}</urn1:messageId>\r
         </urn:messageInput>\r
      </urn:PaymentCancelRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="2feb51e5-946a-452f-83a3-51162d988e26"/>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentHide_V1_5" id="83013475-26c2-485c-a254-442a9173abf8">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentStatusUpdate_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentHide</con:operation>
      <con:request name="PaymentHide_V1_5" id="628f7585-e2ae-48b9-b3bb-dcb6335c19c0">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentStatusUpdate_V1_5</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentstatusupdate:v1_5" xmlns:urn1="urn:pins.payment.evry.com:domain:payment-status-update:v1_5">\r
   <soapenv:Header>\r
      <wsc:AutHeader>\r
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>\r
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>\r
         <wsc:Version>1.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestCase#userid}</wsc:userid>\r
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>\r
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>\r
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>\r
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>\r
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentHideRequest>\r
         <!--You have a CHOICE of the next 4 items at this level-->\r
         <urn:transactionInput>\r
            <urn1:transactionId>${ListCreate#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; declare namespace ns3='urn:pins.payment.evry.com:domain:sepa-complex-types:v8'; //ns2:PaymentListCreateResponse[1]/ns2:paymentResult[1]/ns4:statusOnTransaction[1]/ns3:transactionId[1]}</urn1:transactionId>\r
         </urn:transactionInput>\r
      </urn:PaymentHideRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="15e5022c-19bc-4f86-b180-91f386f9624f">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="d3c6dd91-ac71-4d6f-9dfe-fddfd9ad43df" name="PaymentAccountSearchV1_9_showhide:True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_9PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_9_showhide:True" id="6248bf67-9b73-4237-9dc0-0f7315e33388">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_9</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_9">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
               
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9">
               
               <urn1:requestedExecutionDate>
                  <urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v8">
                     
                  </urn2:dateFromTo>
               </urn1:requestedExecutionDate><urn1:messageId>${ListCreate#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentListCreateResponse[1]/ns2:paymentResult[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ebaf099a-0203-4ae1-80b5-a81574113457">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="de1997c0-c53d-4ea1-9a11-8bcde4c4c704">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="1896ce90-3136-423f-ac71-369cfa0af905">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" id="0523d10d-8d67-43e1-a8ac-6169de021668" name="HidePayment:Y">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentsearch:v1_9/PINSPaymentSearch_V1_9PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="c314049b-c44e-4205-a4eb-2f690b253d41" name="PaymentAccountSearch_V1_8_showhide:True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_8PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearch_V1_8_showhide:True" id="765386dd-c5b8-434f-9c4e-5f9fb7a191b0">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_8</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_8">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_8">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
               
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_8">
               <urn1:showHidden>true</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v7"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d51c3656-e2ef-4018-b653-90f3b8515523">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="4c8c5ea8-e942-4b54-94b9-7b0efad6117e">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="2d35011c-436c-4360-b645-c7171ad230b7">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="05faffc3-2164-4a6c-aa62-f993de4749be">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentsearch:v1_8/PINSPaymentSearch_V1_8PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="456aea17-6df5-4e90-a23b-7bd46b72749d" name="PaymentAccountSearchV1_7_showhide:True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_7_showhide:True" id="16627cb3-3501-41a9-8008-8aa607b491c3">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_7">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7">
               
               <urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.evry.com:domain:sepa-complex-types:v6"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fec58004-a485-4b2a-a30a-e4c01d7bda1b">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="fa2cc344-d0c7-4f6d-85d5-c6e0c74fec24">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="95b61149-ad08-4806-9963-75c680fe768a">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="bc3358aa-0762-4572-ac87-4d1f5ee7a3c1">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentsearch:v1_7/PINSPaymentSearch_V1_7PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="3f78e07e-6995-4ebe-96cf-df29e480975f" name="PaymentAccountSearchV1_6_showhide:True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_6_showhide:True" id="768d394c-55fd-4ae5-a62e-950cb4f88769">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6">
               <urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
               
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c38a8075-13b7-4c34-93d2-96c8f69f180d">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="71adf2a3-81ff-4daa-951f-6dc9363d7ab0">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="e03266f8-1b46-4151-92c7-c64eff2f9a74">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="a6e0b9aa-204c-4689-a946-e06e956b7e29">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.edb.com:ws:paymentsearch:v1_6/PINSPaymentSearch_V1_6PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="6dcad999-9a3b-4b55-9237-898e246dbbee" name="PaymentAccountSearchV1_5_showhide:True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_5_showhide:True" id="2f774603-86ee-4004-a599-d8a53e02feeb">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_5Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_5">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5">
               
               <urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v4"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="e7a898d7-0056-4b3f-95f9-5302c9a4530f">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="4bbd0825-2256-4d0c-82bc-1c0ba4731b40">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="3a976f3b-b8d5-441c-b0a9-a57c9410b1c4">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="0f05a09b-0b42-45b4-96ba-31806875d522">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.edb.com:ws:paymentsearch:v1_5/PINSPaymentSearch_V1_5PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="be96611f-d789-4de4-aaf3-fa36276cf30b" name="PaymentAccountSearchV1_4_showhide:True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_4PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_4_showhide:True" id="37da2aa1-1330-4109-967a-4601a8b9bcf3">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_4Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_4">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_4">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_4">
               <urn1:showHidden>true</urn1:showHidden>
            <urn1:requestedExecutionDate><urn1:dateFromTo><urn1:fromDate>${#TestCase#ReqExeDate}</urn1:fromDate></urn1:dateFromTo></urn1:requestedExecutionDate></urn1:accountCriteria><urn1:messageId xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_4">${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="bcc409a3-efd2-477f-a547-7c351b813157">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="3e00323f-ac37-4f18-9e77-03156c14f8d3">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="b628822b-631a-4d35-8dd4-2b45bc90e0e2">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="53db8071-3363-4144-b7bc-994fc3d0178e">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.edb.com:ws:paymentsearch:v1_4/PINSPaymentSearch_V1_4PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="1503c19c-0b83-43a7-9915-4b3ad2790d6e" name="PaymentAccountSearchV1_3_showhide_True">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_3PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_3_showhide_True" id="31ff50d3-19b0-4ec5-acb4-c41e16d0056b">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_3Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_3">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_3">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_3"><urn1:showHidden>true</urn1:showHidden><urn1:requestedExecutionDate><urn1:dateFromTo><urn1:fromDate>${#TestCase#ReqExeDate}</urn1:fromDate></urn1:dateFromTo></urn1:requestedExecutionDate></urn1:accountCriteria><urn1:messageId xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_3">${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9e6a3c72-b775-4192-b922-f414ee98b7aa">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="ac0e141b-d4db-42ac-b8f6-35c0f71ab3f8">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="76f6fcc5-5477-4486-8f22-d69f0b843e54">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="4e9ba223-7237-4613-a6db-8d9f4363b5c7">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.edb.com:ws:paymentsearch:v1_3/PINSPaymentSearch_V1_3PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="bb2ca40b-3298-4376-a21d-4d479168b121" name="PaymentAccountSearchV1_9_showhide_False">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_9PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_9_showhide_False" id="6248bf67-9b73-4237-9dc0-0f7315e33388">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_9</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_9">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9">
               <urn1:showHidden>false</urn1:showHidden>
               <urn1:requestedExecutionDate>
                  <urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v8">
                     <urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate>
                  </urn2:dateFromTo>
               </urn1:requestedExecutionDate>
               <urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="87777e0d-b07a-41a6-ab34-1448774fbb9d">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="7462aa56-d2e5-4009-9d16-115a70d4004d">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="4b80b997-3d47-4b54-a9bc-0e813b408439">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="be3f95f8-1d92-4a9e-9edd-9f053a9d5a1c">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentsearch:v1_9/PINSPaymentSearch_V1_9PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="3de9d4b9-f730-4577-a20e-9b074e513700" name="PaymentAccountSearch_V1_8_showhide_False">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_8PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearch_V1_8_showhide_False" id="765386dd-c5b8-434f-9c4e-5f9fb7a191b0">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_8</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_8">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_8">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
               
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_8">
               <urn1:showHidden>false</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v7"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="2cc6f8c7-4f5e-4bb0-ba4b-866daf401ff0">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="853c9761-157e-4105-8641-8303644996b8">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="c308e57a-bfcd-4325-9241-170745ac910e">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="d2e779e7-ea92-4c80-800e-2d3ae831d07a">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentsearch:v1_8/PINSPaymentSearch_V1_8PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="05756efb-b402-40d0-995d-ae36222d7098" name="PaymentAccountSearchV1_7_showhide_False">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_7_showhide_False" id="16627cb3-3501-41a9-8008-8aa607b491c3">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_7">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7">
               
               <urn1:showHidden>false</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.evry.com:domain:sepa-complex-types:v6"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="59e2f82d-3bb6-4a67-a66b-ab85d9a6c19c">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="c3c1b006-11f7-431e-83db-e771b5c14ddf">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="7a7b16ac-07db-4553-b62a-ad9cf0804792">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="06b29489-565c-4b62-9bd7-91c1b2d85b36">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.evry.com:ws:paymentsearch:v1_7/PINSPaymentSearch_V1_7PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="251b1727-e31e-4b73-8297-1d23a811e76a" name="PaymentAccountSearchV1_6_showhide_False">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_6_showhide_False" id="768d394c-55fd-4ae5-a62e-950cb4f88769">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header>
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6">
         <urn:searchCriteria>
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6">
               <urn1:elementControl>
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6">
               <urn1:showHidden>false</urn1:showHidden>
               <urn1:requestedExecutionDate>
                  <urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5">
                     <urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate>
                  </urn2:dateFromTo>
               </urn1:requestedExecutionDate>
               <urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d54b1ae4-63b3-48c3-aa2b-2c43581644b4">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="da8f85cb-bc62-4ad1-b733-71d693a67f49">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="d1ab51a4-6e7b-4fdd-b821-710042c2339f">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="9d2ec82b-d4ae-499f-b30d-834ff051c413">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.edb.com:ws:paymentsearch:v1_6/PINSPaymentSearch_V1_6PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="d09a7d85-71f5-441c-a96e-61019fc49621" name="PaymentAccountSearchV1_5_showhide_Flase">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentAccountSearchV1_5_showhide_Flase" id="2f774603-86ee-4004-a599-d8a53e02feeb">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_5Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">\r
   <soapenv:Header>\r
      <wsc:AutHeader xmlns:wsc="http://edb.com/ws/WSCommon_v21">\r
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>\r
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>\r
         <wsc:Version>1.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestCase#userid}</wsc:userid>\r
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>\r
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>\r
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>\r
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>\r
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentAccountSearchRequest xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_5">\r
         <urn:searchCriteria>\r
            <urn1:commonCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5">\r
               <urn1:elementControl>\r
                  <con:StartIndex xmlns:con="http://control.ws.payment.edb.com">0</con:StartIndex>\r
                  <con:MaximumNumberOfElements xmlns:con="http://control.ws.payment.edb.com">100</con:MaximumNumberOfElements>\r
               </urn1:elementControl>\r
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>\r
            </urn1:commonCriteria>\r
            <urn1:accountCriteria xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5">\r
               <urn1:showHidden>false</urn1:showHidden>\r
               <urn1:requestedExecutionDate>\r
                  <urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v4">\r
                     <urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate>\r
                  </urn2:dateFromTo>\r
               </urn1:requestedExecutionDate>\r
               <urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>\r
            </urn1:accountCriteria>\r
         </urn:searchCriteria>\r
      </urn:PaymentAccountSearchRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="02bff718-5da3-4092-8857-6a4e9e5f9e67">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="34833ac9-14cc-43d6-ac35-32ed8deb51e8">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="5385b2dc-d284-4853-86b1-42ba070f4eec">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="d2547128-90d2-4a00-840e-b150a662b430">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="urn:pins.payment.edb.com:ws:paymentsearch:v1_5/PINSPaymentSearch_V1_5PortType/PaymentAccountSearchRequest" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_9_showhide:True" id="f211b4d9-1b76-43aa-afa9-252c0515b4a3">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_9PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_9_showhide:True" id="a6977f36-25d2-4e5f-ad46-8765a0201899">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_9</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_9" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v8"/></urn1:requestedExecutionDate><urn1:messageId>36688</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="e03d0f51-1b08-4f57-86da-238dcfc732a3">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="f54a0679-e5a7-462c-a03c-862de4e755a5">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="08d71c34-6e0a-4498-9bd8-df89c9978800">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="7b971bfc-66ac-43f8-9ae7-1aa442206cfc">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_7_showhide:true" id="71ca5dca-65e6-471a-82a4-5ef6c2c9fdcf">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_7_showhide:true" id="8d57d549-537b-40bd-a610-54c38b40fd64">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_7" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>true</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.evry.com:domain:sepa-complex-types:v6"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dbc07d6d-3766-4697-a6e9-b16e8c93e2c2">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="a7e25d65-9c7a-42b6-b826-562a4815e3b3">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="a6ea0e00-cb2b-4ec1-a3f4-a36b61105eb0">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="78a4f303-1b10-4155-ba8a-a39dd26c1e8d">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_8_showhide:True" id="8dc1c8f1-a0f4-4db3-91fc-dcf7ce6f6910">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_8PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_8_showhide:True" id="d2af56fd-19e2-4c58-a32d-c31b494da983">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_8</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_8" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_8" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria><urn1:showHidden>true</urn1:showHidden><urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v7"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="64f49d9a-df45-4cae-aaa9-45fadc385984">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="844293a6-881c-4646-9eeb-a6b4bea6322e">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="6bacf4e7-5546-4672-9362-af17a7b0f476">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="b107b81d-84ba-4958-81b7-74e7361f23d8">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_6_showhide:True" id="6eb3240a-2254-4c80-b53c-9c3b3db97178">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_6_showhide:True" id="4cd31251-2176-40d2-bd29-d675b6210b34">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>true</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d84f42d8-ad3c-4eb5-b277-e7daab8df15a">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="da616e0a-916a-41b5-97e6-9a2b0b7762b1">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="d8673161-e417-4837-8093-b651cbb3d4e4">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="bbe61b60-0828-4bfe-8539-39c687701e04">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_5_showhide:True" id="4b9f6166-ec76-49d6-b4f1-8807118a83b6">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_5_showhide:True" id="0a8929c2-5325-4de2-b604-6f9965853cca">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_5Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_5" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>true</urn1:showHidden>
               <urn1:requestedExecutionDate>
                  <urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v4"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo>
               </urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="17c1cab5-0605-4009-89e0-57260f11137a">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="fc12050f-7726-40f6-a567-95c23782eb56">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="9ebc02d2-fe70-4dae-ae41-7b717e2cc2b0">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="e879d31b-bf3c-49cf-bbd5-46014f180e07">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_4_showhide:True" id="9393a0bf-4907-4719-94c1-9f30128d35a3">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="MessageLevelSearchV1_4_showhide:True" id="be160b76-f8a5-48af-a766-af2b7c135dd6">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">\r
   <soapenv:Header>\r
      <wsc:AutHeader>\r
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>\r
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>\r
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>\r
         <wsc:Version>1.0</wsc:Version>\r
         <wsc:ClientContext>\r
            <wsc:userid>${#TestCase#userid}</wsc:userid>\r
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>\r
            <wsc:channel>NBA</wsc:channel>\r
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>\r
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>\r
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>\r
            <wsc:locale>en</wsc:locale>\r
            <wsc:ip>1.1.1.1</wsc:ip>\r
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>\r
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>\r
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>\r
         </wsc:ClientContext>\r
      </wsc:AutHeader>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <urn:PaymentAccountSearchRequest>\r
         <urn:searchCriteria>\r
            <urn1:commonCriteria>\r
               <urn1:elementControl>\r
                  <con:StartIndex>0</con:StartIndex>\r
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>\r
               </urn1:elementControl>\r
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>\r
            </urn1:commonCriteria>\r
            <urn1:accountCriteria>\r
               <urn1:showHidden>true</urn1:showHidden>\r
               <urn1:requestedExecutionDate>\r
                  <urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5"/>\r
               </urn1:requestedExecutionDate>\r
            </urn1:accountCriteria>\r
         </urn:searchCriteria>\r
      </urn:PaymentAccountSearchRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="48e5d680-97d8-402b-96c5-e80f06a8d8fd">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="3c4ac499-8f3c-437d-af95-26466a850be8">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="1217aa70-4730-4155-b168-0bb442114663">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="be583fb1-ca75-4a1b-9fc6-2e918341992f">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_9_showhide:False" id="9d69eb8b-609c-4670-8822-f48a900bfe61">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_9PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_9_showhide:False" id="a6977f36-25d2-4e5f-ad46-8765a0201899">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_9</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_9" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>false</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v8"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="e03d0f51-1b08-4f57-86da-238dcfc732a3">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="f54a0679-e5a7-462c-a03c-862de4e755a5">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="08d71c34-6e0a-4498-9bd8-df89c9978800">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="7b971bfc-66ac-43f8-9ae7-1aa442206cfc">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_8_showhide:False" id="a3aa2c72-ad58-4660-bb2e-54bfb0e0364c">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_8PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_8_showhide:False" id="d2af56fd-19e2-4c58-a32d-c31b494da983">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_8</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_8" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_8" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria><urn1:showHidden>false</urn1:showHidden><urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pins.payment.evry.com:domain:sepa-complex-types:v7"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="64f49d9a-df45-4cae-aaa9-45fadc385984">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="844293a6-881c-4646-9eeb-a6b4bea6322e">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="6bacf4e7-5546-4672-9362-af17a7b0f476">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="b107b81d-84ba-4958-81b7-74e7361f23d8">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_7_showhide:False" id="88501190-c7da-49e9-9308-fbfbb7c603f1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_7_showhide:False" id="8d57d549-537b-40bd-a610-54c38b40fd64">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_7" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>false</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.evry.com:domain:sepa-complex-types:v6"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dbc07d6d-3766-4697-a6e9-b16e8c93e2c2">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="a7e25d65-9c7a-42b6-b826-562a4815e3b3">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="a6ea0e00-cb2b-4ec1-a3f4-a36b61105eb0">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="78a4f303-1b10-4155-ba8a-a39dd26c1e8d">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_6_showhide:False" id="5cd34004-9608-4632-83ce-bfd36316f7d4">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_6_showhide:False" id="4cd31251-2176-40d2-bd29-d675b6210b34">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>false</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d84f42d8-ad3c-4eb5-b277-e7daab8df15a">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="da616e0a-916a-41b5-97e6-9a2b0b7762b1">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="d8673161-e417-4837-8093-b651cbb3d4e4">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="bbe61b60-0828-4bfe-8539-39c687701e04">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_5_showhide:False" id="39dcf08e-ee91-4b7d-af91-aba3ad12eb1e">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentMessageSearch</con:operation>
      <con:request name="MessageLevelSearchV1_5_showhide:False" id="0a8929c2-5325-4de2-b604-6f9965853cca">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_5Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_5" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentMessageSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:messageCriteria>
               <urn1:showHidden>false</urn1:showHidden>
               <urn1:requestedExecutionDate>
                  <urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v4"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo>
               </urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:messageCriteria>
         </urn:searchCriteria>
      </urn:PaymentMessageSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="17c1cab5-0605-4009-89e0-57260f11137a">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="fc12050f-7726-40f6-a567-95c23782eb56">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="9ebc02d2-fe70-4dae-ae41-7b717e2cc2b0">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="e879d31b-bf3c-49cf-bbd5-46014f180e07">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="MessageLevelSearchV1_4_showhide:False" id="403bb6b4-62ae-466c-9a99-0bd2bd2b0af3">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="MessageLevelSearchV1_4_showhide:False" id="be160b76-f8a5-48af-a766-af2b7c135dd6">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria>
               <urn1:showHidden>false</urn1:showHidden>
            <urn1:requestedExecutionDate><urn2:dateFromTo xmlns:urn2="urn:pays.payment.edb.com:domain:sepa-complex-types:v5"><urn2:fromDate>${#TestCase#ReqExeDate}</urn2:fromDate></urn2:dateFromTo></urn1:requestedExecutionDate><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="48e5d680-97d8-402b-96c5-e80f06a8d8fd">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="3c4ac499-8f3c-437d-af95-26466a850be8">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="1217aa70-4730-4155-b168-0bb442114663">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="be583fb1-ca75-4a1b-9fc6-2e918341992f">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_9_showhide:True" id="8f2a74f1-336c-47cc-a7f9-9e2af754638f">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_9PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_9_showhide:True" id="080d02c8-38a7-4c96-b419-e300731f52da">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_9</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_9" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria><urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9bbbc5bd-5ef6-47fd-adf6-a255612f63f1">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="978dd910-364c-4ea6-9475-435336c82936">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="9981f22a-95ed-40f7-8924-396b8599e432">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="6357dc37-f03d-4249-9fb1-27db01e4c8fb">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_8_shohide:True" id="6a4b84da-12c3-4118-a3ce-48692dd669eb">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_8_shohide:True" id="0e4fb62f-25ad-46fc-91e7-c487a6c3913e">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria>
               <urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1322a8cd-06bc-484e-b597-72c4103e1b48">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="20c66c98-3628-4713-841c-6089261d4312">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="98668a1b-52f6-4682-9925-9ac80f349aba">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="28e946d6-1fd6-4e73-a090-bc9038c87518">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_7_showhide:True" id="7e512bae-52dc-4c02-b948-6db55f585125">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_7_showhide:True" id="769fa1dd-165f-4dd8-8ab4-44b5d5be81ac">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_7" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria>
               <urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="7b026542-c335-4c8c-a550-9d17536f6db3">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="048883d7-ad29-496f-a256-dbdc9432772a">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="27ec805d-993d-47c8-b9dd-1bc31e769a68">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="93c26f45-2ad5-4e37-b3cb-e8de7045576f">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_6_showhide:True" id="1f20ea53-6a9f-42d8-a1e0-52d4d05feadc">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_6_showhide:True" id="277dd921-d7a1-422f-9858-20c976e1707d">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria>
               <urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1e1e0340-fea0-4a22-8c06-980ab24afa47">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="46518977-25d4-435b-b776-16601d5e9cfe">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="93001fcf-a1f3-41d0-8699-87e3b1ab468d">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="cf618d93-5301-4aca-a7e2-431084bd9965">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_5_showHide:True" id="45b3763f-d8a9-4502-b5cf-b040f67bc871">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_5_showHide:True" id="d9762c6b-5c6a-487c-be2f-559150515e40">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_5Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_5" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria><urn1:showHidden>true</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="899bc5f2-33f3-4484-a918-2e2f32c31831">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="f7f41ca1-11e2-4e69-939a-92e225eec50a">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="6b41822a-c224-4ec5-a7ff-6e0b6a6331ff">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="d49352f6-5349-482d-9413-b6722ae72b4e">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_4_showHide:True" id="5cc29f02-6842-45d2-add1-dac550098295">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_4PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_4_showHide:True" id="ab24768e-c8c3-4c22-99c1-031eb7e76e77">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_4</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_4" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_4" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria><urn1:showHidden>true</urn1:showHidden></urn1:paymentInfoCriteria><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="eb688dae-704e-476d-8052-b86e58b96a7e">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="3c2d48a3-1096-4fb5-ad4a-5bb39b8a8b02">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="31562428-fff5-4f33-b331-9bdc2504546b">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="1dae9731-8342-4a65-889d-1953427949c6">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_9_showhide:False" id="763a81ac-5c69-464d-83d7-1530f2ad81c1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_9PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_9_showhide:False" id="080d02c8-38a7-4c96-b419-e300731f52da">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_9</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_9" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_9" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria><urn1:showHidden>false</urn1:showHidden></urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9bbbc5bd-5ef6-47fd-adf6-a255612f63f1">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="978dd910-364c-4ea6-9475-435336c82936">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="9981f22a-95ed-40f7-8924-396b8599e432">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="6357dc37-f03d-4249-9fb1-27db01e4c8fb">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_8_shohide:False" id="8cd453ab-7b94-4df1-8bfc-7b861eb2fbdf">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentAccountSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_8_shohide:False" id="0e4fb62f-25ad-46fc-91e7-c487a6c3913e">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAccountSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:accountCriteria>
               <urn1:showHidden>false</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:accountCriteria>
         </urn:searchCriteria>
      </urn:PaymentAccountSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1322a8cd-06bc-484e-b597-72c4103e1b48">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="20c66c98-3628-4713-841c-6089261d4312">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="98668a1b-52f6-4682-9925-9ac80f349aba">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="28e946d6-1fd6-4e73-a090-bc9038c87518">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_7_showhide:False" id="7c0117fa-b05e-4045-ab7c-21cbb61b7abf">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_7PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_7_showhide:False" id="769fa1dd-165f-4dd8-8ab4-44b5d5be81ac">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_7Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentsearch:v1_7" xmlns:urn1="urn:pins.payment.evry.com:domain:search:v1_7" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria>
               <urn1:showHidden>false</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="7b026542-c335-4c8c-a550-9d17536f6db3">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="048883d7-ad29-496f-a256-dbdc9432772a">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="27ec805d-993d-47c8-b9dd-1bc31e769a68">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="93c26f45-2ad5-4e37-b3cb-e8de7045576f">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>1&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">1&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_6_showhide:False" id="446503a4-34bf-4930-bd8f-2753dedbb222">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_6PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_6_showhide:False" id="277dd921-d7a1-422f-9858-20c976e1707d">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_6Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_6" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_6" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl>
               <urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria>
               <urn1:showHidden>false</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
            </urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1e1e0340-fea0-4a22-8c06-980ab24afa47">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="46518977-25d4-435b-b776-16601d5e9cfe">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="93001fcf-a1f3-41d0-8699-87e3b1ab468d">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="cf618d93-5301-4aca-a7e2-431084bd9965">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_5_showHide:False" id="ca0545bc-b8a8-4a64-90a8-85b7b53ba5bf">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_5PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_5_showHide:False" id="d9762c6b-5c6a-487c-be2f-559150515e40">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_5Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_5" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_5" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria><urn1:showHidden>false</urn1:showHidden><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId></urn1:paymentInfoCriteria>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="899bc5f2-33f3-4484-a918-2e2f32c31831">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="f7f41ca1-11e2-4e69-939a-92e225eec50a">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="6b41822a-c224-4ec5-a7ff-6e0b6a6331ff">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="d49352f6-5349-482d-9413-b6722ae72b4e">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="PaymentInfoSearchV1_4_showHide:False" id="494fcd30-d5c3-48fe-bc9c-51cf191a21d5">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentSearch_V1_4PortTypeSoap11</con:interface>
      <con:operation>PaymentPaymentInfoSearch</con:operation>
      <con:request name="PaymentInfoSearchV1_4_showHide:False" id="ab24768e-c8c3-4c22-99c1-031eb7e76e77">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPaymentSearch_V1_4</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.edb.com:ws:paymentsearch:v1_4" xmlns:urn1="urn:pins.payment.edb.com:domain:search:v1_4" xmlns:con="http://control.ws.payment.edb.com">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestCase#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PAYS</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestCase#userid}</wsc:userid>
            <wsc:credentials>${#TestCase#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestCase#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestCase#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestCase#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestCase#value1}" key="${#TestCase#item1}"/>
            <wsc:item value="${#TestCase#value2}" key="${#TestCase#item2}"/>
            <wsc:item value="${#TestCase#value3}" key="${#TestCase#item3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentPaymentInfoSearchRequest>
         <urn:searchCriteria>
            <urn1:commonCriteria>
               <urn1:elementControl>
                  <con:StartIndex>0</con:StartIndex>
                  <con:MaximumNumberOfElements>100</con:MaximumNumberOfElements>
               </urn1:elementControl><urn1:debtorAccount>${#TestCase#debitAccount}</urn1:debtorAccount>
            </urn1:commonCriteria>
            <urn1:paymentInfoCriteria><urn1:showHidden>false</urn1:showHidden></urn1:paymentInfoCriteria><urn1:messageId>${PaymentRead#Response#declare namespace ns4='urn:pins.payment.evry.com:domain:paymentinitiation:v1_10'; declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v1_10'; //ns2:PaymentReadResponse[1]/ns2:paymentResult[1]/ns4:result[1]/ns4:messageId[1]}</urn1:messageId>
         </urn:searchCriteria>
      </urn:PaymentPaymentInfoSearchRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="eb688dae-704e-476d-8052-b86e58b96a7e">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="XPath Match" id="3c2d48a3-1096-4fb5-ad4a-5bb39b8a8b02">
          <con:configuration>
            <path>//*:ErrorCode</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="31562428-fff5-4f33-b331-9bdc2504546b">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XQuery Match" name="HidePayment:Y" id="1dae9731-8342-4a65-889d-1953427949c6">
          <con:configuration>
            <path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns5='urn:pins.payment.evry.com:ws:paymentsearch:v1_9';
declare namespace ns4='urn:pins.payment.evry.com:domain:sepa-complex-types:v8';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns3='urn:pins.payment.evry.com:domain:search:v1_9';
declare namespace ns2='http://control.ws.payment.edb.com';
&lt;ns3:numberOfRejected>0&lt;/ns3:numberOfRejected></path>
            <content>&lt;ns3:numberOfRejected xmlns:ns3="urn:pins.payment.evry.com:domain:search:v1_9">0&lt;/ns3:numberOfRejected></content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="71b4f24c-5706-4f06-88d6-a4d2fde0fe4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d2a83b1-0b94-4ddb-a3b8-2b6d39688af8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c05d7630-7a50-443b-a3ae-c915912d2fc2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="000a42ad-b2ac-4dbd-a9d8-fb77d94ff95e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e79375e0-4086-40f6-b590-4affea04b964">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6c79fb3b-5fd9-49ae-a3fe-d0e197e3b97f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="efc02ce8-af92-4dd8-a27a-0db76c1cd7b2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="57f83bad-f6b7-4018-9f8b-2640c0e811e5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1f0288b0-e1f8-4591-9e20-e9eb6697b2d2">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4e87281a-7e68-4f5e-bd08-e48a83259c25">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>PaymentId</con:name>
      <con:value>32664</con:value>
    </con:property>
    <con:property>
      <con:name>SourceApplication</con:name>
      <con:value>EVRYCPS</con:value>
    </con:property>
    <con:property>
      <con:name>userid</con:name>
      <con:value>16086646184</con:value>
    </con:property>
    <con:property>
      <con:name>credentials</con:name>
      <con:value>03110012010400425kglPboRi3h16OVtVL1neI9CfuAtjCBO603eS0IgWm1WWIO7EfpSL4DE%2FlDFi69n1sSaabKNt2t%2BxJppso23a37EmmmyjbdrfutbV53%2FUXGOxjDkLmirISLEmmmyjbdrfsSaabKNt2t%2FXzlyjxYnxhcG46wcbIKp%2FsSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu2xJppso23a37Emmmyjbdrf8wP73CNrvpw%3DH5LS2JD%2BVebr3PytlKAocCy8%2FCcrl7tRSepyb0jhKW8A8k07nuvorl7Xoscy%2BybGjXIr2Zj%2Fvprt%2BD1IueT5rqEcvxyyr%2FYELRuLkDS94SfjVw%2FszcGGYfeWnI2Z1NwXorQAZPvT5U6Edafp2sbvWiNKkrzCmFJ4YcuHbGSJCYk%3D</con:value>
    </con:property>
    <con:property>
      <con:name>orgid</con:name>
      <con:value>4201</con:value>
    </con:property>
    <con:property>
      <con:name>customerid</con:name>
      <con:value>16086646184</con:value>
    </con:property>
    <con:property>
      <con:name>debitAccount</con:name>
      <con:value>42020856550</con:value>
    </con:property>
    <con:property>
      <con:name>DebitAcntccy</con:name>
      <con:value>NOK</con:value>
    </con:property>
    <con:property>
      <con:name>CreditAccount</con:name>
      <con:value>36325222802</con:value>
    </con:property>
    <con:property>
      <con:name>item1</con:name>
      <con:value>PaymentChannel</con:value>
    </con:property>
    <con:property>
      <con:name>value1</con:name>
      <con:value>BES</con:value>
    </con:property>
    <con:property>
      <con:name>item2</con:name>
      <con:value>AgreementId</con:value>
    </con:property>
    <con:property>
      <con:name>value2</con:name>
      <con:value>16086646184</con:value>
    </con:property>
    <con:property>
      <con:name>item3</con:name>
      <con:value>LogRef</con:value>
    </con:property>
    <con:property>
      <con:name>value3</con:name>
      <con:value>${=new Date().format("ddMMyyyy_HHmmss")}-${=context.getCurrentStep().getTestCase().getLabel()}</con:value>
    </con:property>
    <con:property>
      <con:name>item4</con:name>
      <con:value>SelfService</con:value>
    </con:property>
    <con:property>
      <con:name>value4</con:name>
      <con:value>true</con:value>
    </con:property>
    <con:property>
      <con:name>ReqExnDate</con:name>
      <con:value>${=new Date().format("yyyy-MM-dd")}</con:value>
    </con:property>
    <con:property>
      <con:name>debitResId</con:name>
      <con:value>1234</con:value>
    </con:property>
    <con:property>
      <con:name>AgreeementId</con:name>
      <con:value>16086646184</con:value>
    </con:property>
    <con:property>
      <con:name>orignalMessageid</con:name>
      <con:value>20190624-PI1</con:value>
    </con:property>
    <con:property>
      <con:name>ReqExeDate</con:name>
      <con:value>${=def now = new Date();now.format("yyyy-MM-dd")}</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>0b176301-ebfc-445b-b567-0f7dec56ec05</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>81aab5f9-04d0-412f-9cc8-5dd7a26e48f7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3577198a-2573-456d-97fe-7c1567419be6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0f50cfb8-bb7f-4d97-91e9-3699d686aa64</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2e572a73-e2a9-44a7-a377-b2cbf758f119</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6e12aa08-5f60-40a0-a5d6-2e1797344c25</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>98c4fc81-00bf-4d97-bf91-1e2c1c92bf06</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e7797281-eabc-4103-a310-f7b059bc075f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>343f33e9-6418-4639-9818-05e215e09f00</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9e2e074e-1d39-4733-817c-a99858726f7a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>054871ac-38e8-404e-bb9a-ab19a2533792</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0b70537c-26f9-42c0-b7f4-bf3602fee6db</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cbf887da-13a8-41e9-8bfb-95d7789f1c58</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d10f20bf-bb5c-4ce1-bd53-8847cc7cb642</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bea14887-26ea-4867-8b42-bf73b4b42b54</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b53798f8-dd6b-4506-aa09-77f0d58a171b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>050703fa-fbd0-4aad-a02b-7d7ef8307b83</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>8ea10d97-fde9-4ddb-ae37-f09de5293bfd</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>873c7329-9970-42a0-a9a5-92a261837cfd</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="bab00d5a-ca3b-4a45-9b61-6d643ac5ab87">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="ca264e55-9942-4681-a7bb-84d8e92fbb36">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="b7ee27fc-11cc-479a-908d-0464b4ef8931">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="88d50a84-f41a-4a39-ba5f-8b1fb1069302">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="4c71e673-5dd7-462e-86e7-316510af0b4b">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
