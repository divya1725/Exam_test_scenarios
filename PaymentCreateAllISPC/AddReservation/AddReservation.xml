<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="b55d09d6-9ff5-4c10-bf34-b9a94e47da4d" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="AddReservation" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="b55d09d6-9ff5-4c10-bf34-b9a94e47da4dfileName">AddReservation</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="datasource" name="DataSource" id="8ac30689-786b-4779-ab15-59cbc83f0915">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Grid">
        <con:configuration>
          <check><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry></xml-fragment>]]></check>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">07117900139</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">42023281230</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">NOK</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">959172706</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">42010020958</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">NOK</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">959172706</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">42010219641</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">EUR</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row>
          <recognizeAsPlainText>true</recognizeAsPlainText>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>customerId</con:property>
      <con:property>debitAccount</con:property>
      <con:property>currency</con:property>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="properties" name="Properties" id="724b1338-a34c-4501-af43-6b17abe6763e">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>addAmount</con:name>
          <con:value>10000</con:value>
        </con:property>
        <con:property>
          <con:name>amount</con:name>
          <con:value>10</con:value>
        </con:property>
        <con:property>
          <con:name>BalanceCheckvalue</con:name>
          <con:value>INT</con:value>
        </con:property>
        <con:property>
          <con:name>channel</con:name>
          <con:value>NBA</con:value>
        </con:property>
        <con:property>
          <con:name>credentials</con:name>
          <con:value>03110012010400425kglPboRi3h1Z4YUjUpQ0UB65Ta2kPKj1KWwkWemtrL+SoWqMxx/KuqxUVbNyTu6DsSaabKNt2t+xJppso23a37EmmmyjbdrffJeRiGWfHDGwxCWOpDYc2jgSxAz1+8eEsSaabKNt2t/XzlyjxYnxhcG46wcbIKp/sSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu2xJppso23a37Emmmyjbdrf8wP73CNrvpw=apG4tU0NraPbbqKUp39erKDFa7xy6z+r4VDMr/6qBlkFniGaNeDXv4cZcZZQQI6JtwB3JYQk6WqLA7oyp1FWRM6n46ehgNmHVNly8fTnQbIuGJSF2LUyGI7aE92/dgtp8jv9bsGpNe58K+xb4LeIHwjb2nVVvt4/2oLtDQ8IPJE=</con:value>
        </con:property>
        <con:property>
          <con:name>credentialsDeps</con:name>
          <con:value>03111012010400425kglPboRi3h16OVtVL1neI9CfuAtjCBO603eS0IgWm1WWIO7EfpSL4DE%2FlDFi69n1sSaabKNt2t%2BxJppso23a37EmmmyjbdrfkkqxxhMk30WewZFnEDBXjbEmmmyjbdrfsSaabKNt2t%2FXzlyjxYnxhcG46wcbIKp%2FsSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu3EfQIWD5xMfokmgZRGVVmx5Sj3%2Fl0ONFk%3DNEDNSxp9dSZrTgTc8FQZH2%2BcCJH2i6JVeQujJsOFspnZLIrJ%2FuKwomqnqBEUfwp16lFG7oNme1nGipyowyfruYRWpd%2FshZpSAsnaArB%2B54u6Czd6k8LQ9TprK1E3RG6YggyW9FDg58it2antT1iUPbCr7fc9RkGMxwJwGZ8h0vU%3D</con:value>
        </con:property>
        <con:property>
          <con:name>CreditAccount</con:name>
          <con:value>42010308121</con:value>
        </con:property>
        <con:property>
          <con:name>customerid</con:name>
          <con:value>${DataSource#customerId}</con:value>
        </con:property>
        <con:property>
          <con:name>debitAccount</con:name>
          <con:value>${DataSource#debitAccount}</con:value>
        </con:property>
        <con:property>
          <con:name>DebitAcntccy</con:name>
          <con:value>${DataSource#currency}</con:value>
        </con:property>
        <con:property>
          <con:name>destinationApplicationDeps</con:name>
          <con:value>CWSJ5</con:value>
        </con:property>
        <con:property>
          <con:name>item1</con:name>
          <con:value>PaymentChannel</con:value>
        </con:property>
        <con:property>
          <con:name>item2</con:name>
          <con:value>AgreementId</con:value>
        </con:property>
        <con:property>
          <con:name>item3</con:name>
          <con:value>LogRef</con:value>
        </con:property>
        <con:property>
          <con:name>item4</con:name>
          <con:value>SelfService</con:value>
        </con:property>
        <con:property>
          <con:name>orgid</con:name>
          <con:value>4201</con:value>
        </con:property>
        <con:property>
          <con:name>ReqExnDate</con:name>
          <con:value>${= java.time.LocalDateTime.now().plusDays(1).format(java.time.format.DateTimeFormatter.ofPattern('yyyy-MM-dd'))}</con:value>
        </con:property>
        <con:property>
          <con:name>SourceApplication</con:name>
          <con:value>EVRYCPS</con:value>
        </con:property>
        <con:property>
          <con:name>SourceApplicationDeps</con:name>
          <con:value>PIN</con:value>
        </con:property>
        <con:property>
          <con:name>transactionId</con:name>
          <con:value>260197808</con:value>
        </con:property>
        <con:property>
          <con:name>UpdateDate</con:name>
          <con:value>${= java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern('dd-MMM-yy'))}</con:value>
        </con:property>
        <con:property>
          <con:name>userid</con:name>
          <con:value>${DataSource#customerId}</con:value>
        </con:property>
        <con:property>
          <con:name>userIdDeps</con:name>
          <con:value>D210PAY</con:value>
        </con:property>
        <con:property>
          <con:name>value1</con:name>
          <con:value>BES</con:value>
        </con:property>
        <con:property>
          <con:name>value2</con:name>
          <con:value>${DataSource#customerId}</con:value>
        </con:property>
        <con:property>
          <con:name>value3</con:name>
          <con:value>${=java.util.UUID.randomUUID().toString()}</con:value>
        </con:property>
        <con:property>
          <con:name>value4</con:name>
          <con:value>true</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="7c7d4e16-2d1f-449c-87dc-58675133d2ae" name="AddReservation">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PCASReservationCreate_V1_1ServiceSoapBinding</con:interface>
      <con:operation>pCASReservationCreate_V1_1</con:operation>
      <con:request name="AddReservation" id="4b71e9b4-40c4-4628-b491-d64d84d4f9b2">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://ilt-lbx-g-c01.man.cosng.net:13610/fts/services/PCASReservationCreate_V1_1Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:res="http://reservations.ws.pca.finance.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${Properties#SourceApplicationDeps}</wsc:SourceApplication>
         <wsc:DestinationApplication>${Properties#destinationApplicationDeps}</wsc:DestinationApplication>
         <wsc:Function>DEPSAccountService_V15_3.accountReadBalanceInformation</wsc:Function>
         <wsc:Version>15_3</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${Properties#userIdDeps}</wsc:userid>
            <wsc:credentials>${Properties#credentials}</wsc:credentials>
            <wsc:channel>${Properties#channel}</wsc:channel>
            <wsc:orgid>${Properties#orgId}</wsc:orgid>
            <wsc:orgunit xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <wsc:customerid>${Properties#customerId}</wsc:customerid>
            <wsc:locale xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <wsc:ip>10.246.89.108</wsc:ip>
            <wsc:item key="${Properties#item1}" value="${Properties#value1}"/>
            <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
            <wsc:item key="${Properties#item3}" value="${Properties#value3}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <res:PCASReservationCreate_V1_1InputArgs>
         <res:ReservationCreateQualification_V1_1>
            <res:AccountNo>${Properties#debitAccount}</res:AccountNo>
            <!--Optional:-->
            <res:CounterAccountNo xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <res:Amount>${Properties#addAmount}</res:Amount>
            <!--Optional:-->
            <res:AmountCurrency>${Properties#DebitAcntccy}</res:AmountCurrency>
            <res:AuthRef>${=Math.abs(new Random().nextInt() % 6000000) + 1}</res:AuthRef>
            <!--Optional:-->
            <res:TextCode>950</res:TextCode>
            <!--Optional:-->
            <res:FinInst xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <!--Optional:-->
            <res:DtExpiry xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <!--Optional:-->
            <res:Force>false</res:Force>
            <!--Optional:-->
            <res:CheckDuplicate>false</res:CheckDuplicate>
            <!--Optional:-->
            <res:DoCounterAcctRes>false</res:DoCounterAcctRes>
         </res:ReservationCreateQualification_V1_1>
      </res:PCASReservationCreate_V1_1InputArgs>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" id="ecf8380b-630e-4810-9ac6-5fbef105979f" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="5e8a048d-92c3-4f46-95e9-df65d40ca6e0" name="Not SOAP Fault"/>
        <con:assertion type="Schema Compliance" id="1f32a0eb-2552-4690-b36c-f0ac8b355a11" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="MessageContentAssertion" name="Message Content Assertion" id="91666bb4-2b19-46aa-8dc5-30453ea074b3">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://reservations.ws.pca.finance.edb.com';
//ns1:PCASReservationCreate_V1_1OutputArgs[1]/ns1:ReservationCreateResult_V1_1[1]/ns1:AvailableBalance[1]</con:xpath>
              <con:element>AvailableBalance</con:element>
              <con:type>XmlDecimal</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>80190.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:ErrorCode[1]</con:xpath>
              <con:element>ns2:ErrorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:Severity[1]</con:xpath>
              <con:element>ns2:Severity</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:ComponentId[1]</con:xpath>
              <con:element>ns2:ComponentId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:StrErrorCode[1]</con:xpath>
              <con:element>ns2:StrErrorCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='http://reservations.ws.pca.finance.edb.com';
//ns3:PCASReservationCreate_V1_1OutputArgs[1]/ns3:ResponseState[1]/ns2:StrErrorCode[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:Message[1]</con:xpath>
              <con:element>ns2:Message</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>SUCCESS</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:NativeError[1]</con:xpath>
              <con:element>ns2:NativeError</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:LogSequence[1]</con:xpath>
              <con:element>ns2:LogSequence</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='http://reservations.ws.pca.finance.edb.com';
//ns3:PCASReservationCreate_V1_1OutputArgs[1]/ns3:ResponseState[1]/ns2:LogSequence[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <PCASReservationCreate_V1_1OutputArgs xmlns="http://reservations.ws.pca.finance.edb.com" xmlns:ns2="http://edb.com/ws/WSCommon_v21">
         <ReservationCreateResult_V1_1>
            <AvailableBalance>80190.00</AvailableBalance>
         </ReservationCreateResult_V1_1>
         <ResponseState>
            <ns2:ErrorCode>0</ns2:ErrorCode>
            <ns2:Severity>0</ns2:Severity>
            <ns2:ComponentId>0</ns2:ComponentId>
            <ns2:StrErrorCode xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <ns2:Message>SUCCESS</ns2:Message>
            <ns2:NativeError/>
            <ns2:LogSequence xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
         </ResponseState>
      </PCASReservationCreate_V1_1OutputArgs>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="pCASReservationCreate_V1_1" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSource Loop" id="72b05c28-1818-4337-b579-dc98d074aee2">
    <con:settings/>
    <con:config>
      <dataSourceStep>DataSource</dataSourceStep>
      <targetStep>Properties</targetStep>
      <discardResults>true</discardResults>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>724b1338-a34c-4501-af43-6b17abe6763e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7c7d4e16-2d1f-449c-87dc-58675133d2ae</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>
