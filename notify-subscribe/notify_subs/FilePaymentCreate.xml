<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="e906c783-66b7-4089-a248-4df1f6984869" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="FilePaymentCreate" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" zephyrTestName="" zephyrTestId="" disabled="true" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Test case which pushes message to MQ based inorder to create file payment</con:description>
  <con:settings>
    <con:setting id="e906c783-66b7-4089-a248-4df1f6984869fileName">FilePaymentCreate</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="groovy" name="generateDate" id="f8866cda-a36b-4eda-be26-31b63662b9fa" disabled="true">
    <con:settings/>
    <con:config>
      <script>import GenerateDate;

log.info "currentDate         :"+ GenerateDate.currentDate         
log.info "previousDate        :"+ GenerateDate.previousDate        
log.info "twoDaysBackDate     :"+ GenerateDate.twoDaysBackDate     
log.info "tomorrow            :"+ GenerateDate.tomorrow            
log.info "dayAfterTomorrow    :"+ GenerateDate.dayAfterTomorrow    
log.info "oneWeekFromNow      :"+ GenerateDate.oneWeekFromNow      
log.info "oneMonthFromNow     :"+ GenerateDate.oneMonthFromNow     
log.info "midOfNextMonth      :"+ GenerateDate.midOfNextMonth      
log.info "midOfPreviousMonth      :"+ GenerateDate.midOfPreviousMonth
log.info "lastDayOfMonth      :"+ GenerateDate.lastDayOfMonth      
log.info "secondLastDayOfMonth:"+ GenerateDate.secondLastDayOfMonth
log.info "twoMonthsEnd        :"+ GenerateDate.twoMonthsEnd        
log.info "skipFromDate        :"+ GenerateDate.skipFromDate        
log.info "skipToDate          :"+ GenerateDate.skipToDate</script>
    </con:config>
  </con:testStep>
  <con:testStep type="manualTestStep" name="ReadMe" id="bd5755bc-df7a-48cb-8979-14b72f0e9c2a">
    <con:description>Here is the utility test case which helps to push message to MQ from SOAPUI,
Prerequisite : Add below jars from : WebSphere MQ\java\lib => your soapui : ReadyAPI-2.7.0\bin\ext (system restart needed).
CL3Export.jar
CL3Nonexport.jar
com.ibm.mq.headers.jar
com.ibm.mq.jar
com.ibm.mq.jmqi.jar
com.ibm.mq.pcf.jar
com.ibm.mqjms.jar
dhbcore.jar
fscontext.jar
jms.jar
jndi.jar
ldap.jar
providerutil.jar
rmm.jar

Change all properties as per your MQ manager and MQ in properties.
Add input file content in : "messagetoSend" property.
Make sure project level : 'Script library' path can reach : MQMessageUtils.groovy.
Your project directory should be : ${projectDir}/pin-legacy-soapui/scripts
If you have name other than : pin-legacy-soapui, you should change accordingly. Ideally it should be : pin-legacy-soapui as composite project name is same.</con:description>
    <con:settings/>
    <con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:expectedResult>Upon running test case, 
SOAPUI will try to push message 
On success creates payment and validate messageidentifications are same.
Based on messageIdentification you can fetch rest of the transactions using paymentSeach services.
Write subsequest steps to make use of these payments.</con:expectedResult>
    </con:config>
  </con:testStep>
  <con:testStep type="properties" name="Properties" id="10fa589c-15ba-427a-a87d-b57b62ca9f41">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>SourceApplication</con:name>
          <con:value>PIN-SB1</con:value>
        </con:property>
        <con:property>
          <con:name>DestinationApplication</con:name>
          <con:value>PIN-CI</con:value>
        </con:property>
        <con:property>
          <con:name>OrgId</con:name>
          <con:value>4201</con:value>
        </con:property>
        <con:property>
          <con:name>Credentials</con:name>
          <con:value>03110012010400425kglPboRi3h16OVtVL1neI9CfuAtjCBO603eS0IgWm1WWIO7EfpSL4DE%2FlDFi69n1sSaabKNt2t%2BxJppso23a37EmmmyjbdrfutbV53%2FUXGOxjDkLmirISLEmmmyjbdrfsSaabKNt2t%2FXzlyjxYnxhcG46wcbIKp%2FsSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu2xJppso23a37Emmmyjbdrf8wP73CNrvpw%3DH5LS2JD%2BVebr3PytlKAocCy8%2FCcrl7tRSepyb0jhKW8A8k07nuvorl7Xoscy%2BybGjXIr2Zj%2Fvprt%2BD1IueT5rqEcvxyyr%2FYELRuLkDS94SfjVw%2FszcGGYfeWnI2Z1NwXorQAZPvT5U6Edafp2sbvWiNKkrzCmFJ4YcuHbGSJCYk%3D</con:value>
        </con:property>
        <con:property>
          <con:name>CreateUserID</con:name>
          <con:value>245979</con:value>
        </con:property>
        <con:property>
          <con:name>BM_Channel</con:name>
          <con:value>BES</con:value>
        </con:property>
        <con:property>
          <con:name>BM_CustomerId</con:name>
          <con:value>27116217681</con:value>
        </con:property>
        <con:property>
          <con:name>BM_userID_salaryRole</con:name>
          <con:value>245979</con:value>
        </con:property>
        <con:property>
          <con:name>BM_userID_withoutSalaryRole</con:name>
          <con:value>971237694</con:value>
        </con:property>
        <con:property>
          <con:name>BM_RBSUserId</con:name>
          <con:value>000067890</con:value>
        </con:property>
        <con:property>
          <con:name>BM_DebitAccount</con:name>
          <con:value>40680042013</con:value>
        </con:property>
        <con:property>
          <con:name>BM_DebitAccountCCY</con:name>
          <con:value>NOK</con:value>
        </con:property>
        <con:property>
          <con:name>bookingLevel</con:name>
          <con:value>D</con:value>
        </con:property>
        <con:property>
          <con:name>BM_CreditorAccount</con:name>
          <con:value>33050100117</con:value>
        </con:property>
        <con:property>
          <con:name>BM_AuthAgreementId</con:name>
          <con:value>PIDOM-5996</con:value>
        </con:property>
        <con:property>
          <con:name>MsgId</con:name>
          <con:value>${=Math.abs(new Random().nextInt() % 10000000) + 1}</con:value>
        </con:property>
        <con:property>
          <con:name>debtorAgentBIC</con:name>
          <con:value>SPTRNO22XXX</con:value>
        </con:property>
        <con:property>
          <con:name>initiatorAgentBIC</con:name>
          <con:value>SPTRNO22XXX</con:value>
        </con:property>
        <con:property>
          <con:name>numberOfApprovers</con:name>
          <con:value>1</con:value>
        </con:property>
        <con:property>
          <con:name>numberOfVerifiers</con:name>
          <con:value>0</con:value>
        </con:property>
        <con:property>
          <con:name>ReqdExctnDt1</con:name>
          <con:value>${=new Date().format("yyyy-MM-dd")}</con:value>
        </con:property>
        <con:property>
          <con:name>ReqdExctnDt2</con:name>
          <con:value>${=new Date().format("yyyy-MM-dd")}</con:value>
        </con:property>
        <con:property>
          <con:name>mqManager</con:name>
          <con:value>QT0PPI</con:value>
        </con:property>
        <con:property>
          <con:name>mqHostname</con:name>
          <con:value>10.246.89.48</con:value>
        </con:property>
        <con:property>
          <con:name>mqPort</con:name>
          <con:value>1430</con:value>
        </con:property>
        <con:property>
          <con:name>mqChannel</con:name>
          <con:value>QT0PPI.SEPA.CL</con:value>
        </con:property>
        <con:property>
          <con:name>mqChannelAuth</con:name>
          <con:value>QT0PPI.SEPA.CL</con:value>
        </con:property>
        <con:property>
          <con:name>sendQueue</con:name>
          <con:value>PAIN001.SPRINTREL.CPS.PIN.ONLINE</con:value>
        </con:property>
        <con:property>
          <con:name>receiveQueue</con:name>
          <con:value>PAIN002.SPRINTREL.PIN.CPS.ONLINE.QL</con:value>
        </con:property>
        <con:property>
          <con:name>messagetoSend</con:name>
          <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8"?><Wrapper xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="urn:pin.payment.edb.com:authpain001wrapper:v1_0" ><auth><![CDATA[<?xml version="1.0" encoding="UTF-8"?><AgreementAuthorizationRequest><authRequest><agreementData><agreementId>${Properties#BM_AuthAgreementId}</agreementId><bankId>${Properties#OrgId}</bankId><userId>${Properties#CreateUserID}</userId><userFirstName>Anitakka</userFirstName><userLastName>Korsgaard</userLastName><userIdType>EXTU</userIdType><productID>11</productID><organizationId>${Properties#CreateUserID}</organizationId><preapproved>false</preapproved><rejectionLevel>TRANSACTION</rejectionLevel><origin>NDR</origin><allowPartialCancellation>false</allowPartialCancellation><allowCancellationPriorToPayment>false</allowCancellationPriorToPayment></agreementData><agreementAccount><accountNumber>${Properties#BM_DebitAccount}</accountNumber><swiftAdress>${Properties#initiatorAgentBIC}</swiftAdress><currencyCode>${Properties#BM_DebitAccountCCY}</currencyCode><accountType>CurrencyCoreFD</accountType><access>CREDIT_AND_DEBIT</access><bookingLevel>${Properties#bookingLevel}</bookingLevel><approvalLimit>0</approvalLimit><registerLimit>0</registerLimit><numberOfVerifiers>0</numberOfVerifiers><numberOfApprovers>${Properties#numberOfApprovers}</numberOfApprovers></agreementAccount><metaInformation><receivedTimestamp>2017-06-19T14:24:06</receivedTimestamp></metaInformation></authRequest></AgreementAuthorizationRequest> ]]]]>><![CDATA[</auth><content><![CDATA[ <?xml version="1.0" encoding="UTF-8"?><Document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:iso:std:iso:20022:tech:xsd:pain.001.001.04"><CstmrCdtTrfInitn><GrpHdr><MsgId>${Properties#MsgId}</MsgId><CreDtTm>2017-06-19T14:24:12.053+02:00</CreDtTm><Authstn><Cd>ILEV</Cd></Authstn><Authstn><Prtry>PAYMENT_TELEPAY</Prtry></Authstn><NbOfTxs>8</NbOfTxs><CtrlSum>95.00</CtrlSum><InitgPty><Nm>Mentor Medier AS</Nm><Id><OrgId><AnyBIC>${Properties#debtorAgentBIC}</AnyBIC><Othr><Id>122032456</Id><SchmeNm><Cd>BANK</Cd></SchmeNm></Othr><Othr><Id>537812</Id><SchmeNm><Cd>USAG</Cd></SchmeNm></Othr></OrgId></Id></InitgPty></GrpHdr><PmtInf><PmtInfId>7126200922.P1.0311418</PmtInfId><PmtMtd>TRF</PmtMtd><NbOfTxs>2</NbOfTxs><CtrlSum>32</CtrlSum><PmtTpInf><InstrPrty>NORM</InstrPrty><CtgyPurp><Cd>SUPP</Cd></CtgyPurp></PmtTpInf><ReqdExctnDt>2017-06-26</ReqdExctnDt><Dbtr><Nm>Dagsavisen AS</Nm><PstlAdr><AdrTp>ADDR</AdrTp><AdrLine>Postboks 1183 Sentrum</AdrLine><AdrLine>0107 OSLO</AdrLine></PstlAdr><Id><OrgId><Othr><Id>980454347</Id><SchmeNm><Cd>CUST</Cd></SchmeNm></Othr></OrgId></Id></Dbtr><DbtrAcct><Id><Othr><Id>${Properties#BM_DebitAccount}</Id><SchmeNm><Cd>BBAN</Cd></SchmeNm></Othr></Id></DbtrAcct><DbtrAgt><FinInstnId><BICFI>${Properties#debtorAgentBIC}</BICFI></FinInstnId></DbtrAgt><ChrgBr>SHAR</ChrgBr><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P1-T1</InstrId><EndToEndId>EndToEndId-M1-P1-T1</EndToEndId></PmtId><PmtTpInf><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="NOK">20</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>SPTRNB22XXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>NO</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>ROGER HERCZ ROGER HERCZ ROGER HERCZ ROGER HERCZ ROGER HERCZ</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>NO</Ctry><AdrLine>45, HASHEMESH STREET</AdrLine><AdrLine>CAESAREAISRAEL</AdrLine></PstlAdr><CtryOfRes>NO</CtryOfRes></Cdtr><CdtrAcct><Id><Othr><Id>36325222802</Id></Othr></Id></CdtrAcct></CdtTrfTxInf><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P1-T2</InstrId><EndToEndId>EndToEndId-M1-P1-T2</EndToEndId></PmtId><PmtTpInf><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="NOK">12</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>SPTRNO22XXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>NO</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>ROGER HERCZ ROGER HERCZ ROGER HERCZ ROGER HERCZ ROGER HERCZ</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>NO</Ctry><AdrLine>45, HASHEMESH STREET</AdrLine><AdrLine>CAESAREAISRAEL</AdrLine></PstlAdr><CtryOfRes>NO</CtryOfRes></Cdtr><CdtrAcct><Id><Othr><Id>36325222802</Id></Othr></Id></CdtrAcct></CdtTrfTxInf></PmtInf><PmtInf><PmtInfId>7126200922.P2.0311418</PmtInfId><PmtMtd>TRF</PmtMtd><NbOfTxs>2</NbOfTxs><CtrlSum>25</CtrlSum><PmtTpInf><InstrPrty>NORM</InstrPrty><CtgyPurp><Cd>SUPP</Cd></CtgyPurp></PmtTpInf><ReqdExctnDt>2017-06-26</ReqdExctnDt><Dbtr><Nm>Dag Mataland AS</Nm><PstlAdr><AdrTp>ADDR</AdrTp><AdrLine>Postboks 1183 Sentrum</AdrLine><AdrLine>0107 OSLO</AdrLine></PstlAdr><Id><OrgId><Othr><Id>980454347</Id><SchmeNm><Cd>CUST</Cd></SchmeNm></Othr></OrgId></Id></Dbtr><DbtrAcct><Id><Othr><Id>${Properties#BM_DebitAccount}</Id><SchmeNm><Cd>BBAN</Cd></SchmeNm></Othr></Id></DbtrAcct><DbtrAgt><FinInstnId><BICFI>SPTRNO22XXX</BICFI></FinInstnId></DbtrAgt><ChrgBr>SHAR</ChrgBr><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P2-T3</InstrId><EndToEndId>EndToEndId-M1-P2-T3</EndToEndId></PmtId><PmtTpInf><SvcLvl><Cd>NORM</Cd></SvcLvl><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="SEK">10.00</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>AVANSES1XXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>SE</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>CredSwed</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>SE</Ctry><AdrLine>Panevezys bypass 10</AdrLine><AdrLine>Silagalis village,Panevezys distric</AdrLine><AdrLine>36220</AdrLine></PstlAdr><CtryOfRes>SE</CtryOfRes></Cdtr><CdtrAcct><Id><IBAN>SE1595000099604247704044</IBAN></Id></CdtrAcct></CdtTrfTxInf><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P2-T4</InstrId><EndToEndId>EndToEndId-M1-P2-T4</EndToEndId></PmtId><PmtTpInf><SvcLvl><Cd>NORM</Cd></SvcLvl><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="SEK">15.00</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>ESSESESSXXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>SE</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>CredSwed</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>SE</Ctry><AdrLine>Panevezys bypass 10</AdrLine><AdrLine>Silagalis village,Panevezys distric</AdrLine><AdrLine>36220</AdrLine></PstlAdr><CtryOfRes>SE</CtryOfRes></Cdtr><CdtrAcct><Id><IBAN>SE0912000000013380100358</IBAN></Id></CdtrAcct></CdtTrfTxInf></PmtInf><PmtInf><PmtInfId>7126200922.P3.0311418</PmtInfId><PmtMtd>TRF</PmtMtd><NbOfTxs>2</NbOfTxs><CtrlSum>12</CtrlSum><PmtTpInf><InstrPrty>NORM</InstrPrty><CtgyPurp><Cd>SUPP</Cd></CtgyPurp></PmtTpInf><ReqdExctnDt>2017-06-26</ReqdExctnDt><Dbtr><Nm>David AS</Nm><PstlAdr><AdrTp>ADDR</AdrTp><AdrLine>Postboks 1183 Sentrum</AdrLine><AdrLine>0107 OSLO</AdrLine></PstlAdr><Id><OrgId><Othr><Id>980454347</Id><SchmeNm><Cd>CUST</Cd></SchmeNm></Othr></OrgId></Id></Dbtr><DbtrAcct><Id><Othr><Id>${Properties#BM_DebitAccount}</Id><SchmeNm><Cd>BBAN</Cd></SchmeNm></Othr></Id></DbtrAcct><DbtrAgt><FinInstnId><BICFI>${Properties#debtorAgentBIC}</BICFI></FinInstnId></DbtrAgt><ChrgBr>SHAR</ChrgBr><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P3-T5</InstrId><EndToEndId>EndToEndId-M1-P3-T5</EndToEndId></PmtId><PmtTpInf><SvcLvl><Cd>NORM</Cd></SvcLvl><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="USD">7.00</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>BOFAUS3NXXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>US</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>NaAmerica</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>US</Ctry><AdrLine>Panevezys bypass 10</AdrLine><AdrLine>Silagalis village,Panevezys distric</AdrLine><AdrLine>36220</AdrLine></PstlAdr><CtryOfRes>US</CtryOfRes></Cdtr><CdtrAcct><Id><Othr><Id>36325222822</Id></Othr></Id></CdtrAcct></CdtTrfTxInf><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P3-T6</InstrId><EndToEndId>EndToEndId-M1-P3-T6</EndToEndId></PmtId><PmtTpInf><SvcLvl><Cd>NORM</Cd></SvcLvl><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="USD">5.00</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>BOFAUS3NXXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>US</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>NaAmerica</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>US</Ctry><AdrLine>Panevezys bypass 10</AdrLine><AdrLine>Silagalis village,Panevezys distric</AdrLine><AdrLine>36220</AdrLine></PstlAdr><CtryOfRes>US</CtryOfRes></Cdtr><CdtrAcct><Id><Othr><Id>36326222802</Id></Othr></Id></CdtrAcct></CdtTrfTxInf></PmtInf><PmtInf><PmtInfId>7126200922.P4.0311418</PmtInfId><PmtMtd>TRF</PmtMtd><NbOfTxs>2</NbOfTxs><CtrlSum>26</CtrlSum><PmtTpInf><InstrPrty>NORM</InstrPrty><CtgyPurp><Cd>SUPP</Cd></CtgyPurp></PmtTpInf><ReqdExctnDt>2017-06-26</ReqdExctnDt><Dbtr><Nm>Dagsavisen AS</Nm><PstlAdr><AdrTp>ADDR</AdrTp><AdrLine>Postboks 1183 Sentrum</AdrLine><AdrLine>0107 OSLO</AdrLine></PstlAdr><Id><OrgId><Othr><Id>980454347</Id><SchmeNm><Cd>CUST</Cd></SchmeNm></Othr></OrgId></Id></Dbtr><DbtrAcct><Id><Othr><Id>${Properties#BM_DebitAccount}</Id><SchmeNm><Cd>BBAN</Cd></SchmeNm></Othr></Id></DbtrAcct><DbtrAgt><FinInstnId><BICFI>${Properties#debtorAgentBIC}</BICFI></FinInstnId></DbtrAgt><ChrgBr>SHAR</ChrgBr><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P4-T7</InstrId><EndToEndId>EndToEndId-M1-P4-T7</EndToEndId></PmtId><PmtTpInf><SvcLvl><Cd>NORM</Cd></SvcLvl><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="EUR">15.00</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>ABNANL2AXXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>NL</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>DOMINARI GRUPE UAB</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>NL</Ctry><AdrLine>Panevezys bypass 10</AdrLine><AdrLine>Silagalis village,Panevezys distric</AdrLine><AdrLine>36220</AdrLine></PstlAdr><CtryOfRes>NL</CtryOfRes></Cdtr><CdtrAcct><Id><IBAN>NL13ABNA0618086072</IBAN></Id></CdtrAcct></CdtTrfTxInf><CdtTrfTxInf><PmtId><InstrId>InstrId-M1-P4-T8</InstrId><EndToEndId>EndToEndId-M1-P4-T8</EndToEndId></PmtId><PmtTpInf><SvcLvl><Cd>NORM</Cd></SvcLvl><LclInstrm><Prtry>TLB</Prtry></LclInstrm></PmtTpInf><Amt><InstdAmt Ccy="LTL">11.00</InstdAmt></Amt><CdtrAgt><FinInstnId><BICFI>CBVILT2XXXX</BICFI><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>LT</Ctry></PstlAdr></FinInstnId></CdtrAgt><Cdtr><Nm>DOMINARI GRUPE UAB</Nm><PstlAdr><AdrTp>ADDR</AdrTp><Ctry>LT</Ctry><AdrLine>Panevezys bypass 10</AdrLine><AdrLine>Silagalis village,Panevezys distric</AdrLine><AdrLine>36220</AdrLine></PstlAdr><CtryOfRes>LT</CtryOfRes></Cdtr><CdtrAcct><Id><IBAN>LT417044060008026886</IBAN></Id></CdtrAcct><RgltryRptg><Dtls><Cd>14</Cd><Inf>Vareleveranser</Inf></Dtls></RgltryRptg></CdtTrfTxInf></PmtInf></CstmrCdtTrfInitn></Document> ]]]]>><![CDATA[</content></Wrapper>]]></con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="sample" id="2584f2b3-4297-4bdb-847c-6e3cd2ae2982" disabled="true">
    <con:settings/>
    <con:config>
      <script>ArrayList&lt;String> TrasactionsIds=new ArrayList&lt;String>();
for(int i=0;i&lt;10;i++){
	TrasactionsIds.add("asdf"+i);
//	log.info TrasactionsIds.get(i)
}
(int[])TrasactionsIds.toList();</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="PushAndReceiveFilePayment" id="67cbd4f2-695f-4ab8-952c-e73f1e38311d">
    <con:settings/>
    <con:config>
      <script>//Groovy to push message to MQ inorder to craete file payment and receives response pain002
// Uses MQMessageUtils from project directory
import MQMessageUtils;
def filecontent = context.expand( '${Properties#messagetoSend}' )

// Set MQ properties
def mQHostName = context.expand( '${Properties#mqHostname}' )
def int mQPort = context.expand( '${Properties#mqPort}' ) as Integer
def mQQueuemanager = context.expand( '${Properties#mqManager}' )
def mQChannelAuth = context.expand( '${Properties#mqChannelAuth}' )
def mQMessageQueueSend = context.expand( '${Properties#sendQueue}' )
def mQMessageQueueRecieve = context.expand( '${Properties#receiveQueue}' )
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def msgId = (filecontent =~"&lt;MsgId>(.+?)&lt;/MsgId>")[0][1] //Get MessageIdentification from FileContent
def receiveMessage ;

// Create utility class object, Create MQ connection
MQMessageUtils mqMessageUtils = new MQMessageUtils(mQQueuemanager,mQHostName,mQPort,mQChannelAuth,log);

// Send Message to MQ
log.info ("Message Sent :" + mqMessageUtils.sendMessage(mQMessageQueueSend,filecontent));

// Receive message from MQ until you get your message
while({ // If in case more messages in queue, Try until we get our message
	receiveMessage= mqMessageUtils.receiveMessage(mQMessageQueueRecieve);
	(!("No messsage").equals(receiveMessage))&amp;&amp; !(msgId.equals(groovyUtils.getXmlHolder(receiveMessage).getNodeValue("//*:OrgnlMsgId")))
}())continue 

//Check results only if received message
if (!(("No messsage").equals(receiveMessage))){
	def response = groovyUtils.getXmlHolder(receiveMessage)
	log.info "MessageIdentification :" + response.getNodeValue("//*:OrgnlMsgId");
	ArrayList&lt;String> TrasactionsIds= response.getNodeValues("//*:AddtlInf");
	try{
	(int[])TrasactionsIds.toList()
	}
	catch(Exception e){log.info "Atleast one payment Creation failed with error, Please check log: "+TrasactionsIds}
	
	log.info "TransactionsIds: " +TrasactionsIds;
}
// No message
else log.info "No message received"</script>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>94ad9d22-c3c6-4c2f-a192-668133918a9c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4d22dc0a-efe6-4716-880c-eaf948809415</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7b7486b2-d5f3-48c3-9e27-225ce1a2bd9f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1e4a5825-e3a4-4a13-ad04-17b15cd6f852</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0a369ee3-0b6f-4ce8-8f2b-bae30824429f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>fe640a4d-5754-499f-b02e-ab37fbcf3a9e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ee9e98a0-0e02-4d70-b876-4834fa69553f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>61ffad60-76fe-4729-a489-4d1828c97c38</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3dae4dd8-b117-437a-8c6c-40f925b335dc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>67e992e1-17ff-46f8-878e-027bd8475cbb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ef88bdc0-577f-45a1-a0fa-112b24d175a6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7447b1c3-2637-4bb5-8b89-e592ad02e507</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1c90bf63-0167-4a57-81d2-b1a9fd3a5d9b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2b62091d-d7cf-412e-ad89-6b638ce5ef06</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f0f2071a-0408-4811-bcc2-5d084d85014c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>efe42d33-a609-4fa3-869f-59a35742d45b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a04f4c09-036f-4bc8-827f-50981bfd4fa5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b264be6f-6f5e-4f3c-8076-77e7f33a52e2</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2b829cea-e7af-47ef-a767-64f0bc6a5820</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>
