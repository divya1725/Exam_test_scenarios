<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="e571c2e4-22cf-4bb7-b8c9-0ec9509ed905" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="FetchAccountData" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="e571c2e4-22cf-4bb7-b8c9-0ec9509ed905fileName">FetchAccountData</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="jdbc" name="DB Account" id="ff76cedd-a9cd-4d2b-8600-32ed7cf0cc40">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWH</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>jdbc:oracle:thin:pwhdata/pwh@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=dlt-exa853-scan.unix.cosng.net)(PORT=1530)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=pwh_g_s1_19c)))</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>SELECT distinct(CUSTOMERID), ACCOUNTNUMBER, CURRENCY FROM V_AUTHORISATION 
WHERE ROLETYPE = 'EIER' 
and CUSTBANKID='${#TestSuite#bankId}'
and CURRENCY = 'NOK'
and BLOCKED != 'Y'
and accountnumber not like ('4068%')
and length(customerID)='11' fetch first 2 row only</con:query>
      <con:storedProcedure>false</con:storedProcedure>
      <con:assertion type="MessageContentAssertion" id="8e97c887-32b1-4c89-8f5a-4e8a7d8c4bc2" name="Message Content Assertion">
        <con:configuration xsi:type="con:MessageContentAssertion">
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/@fetchSize</con:xpath>
            <con:element>@fetchSize</con:element>
            <con:type/>
            <con:operator>=</con:operator>
            <con:enabled>false</con:enabled>
            <con:expectedValue>10</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:elements>
            <con:xpath>//Results[1]/ResultSet[1]/Row[1]/@rowNumber</con:xpath>
            <con:element>@rowNumber</con:element>
            <con:type/>
            <con:operator>=</con:operator>
            <con:enabled>true</con:enabled>
            <con:expectedValue>1</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:originalMessage><![CDATA[<Results>
   <ResultSet fetchSize="10">
      <Row rowNumber="1">
         <CUSTOMERID>01010077571</CUSTOMERID>
         <ACCOUNTNUMBER>42125748338</ACCOUNTNUMBER>
      </Row>
   </ResultSet>
</Results>]]></con:originalMessage>
        </con:configuration>
      </con:assertion>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="SetProperties" id="13395452-45ff-4ef1-9959-c5de45194440">
    <con:settings/>
    <con:config>
      <script>import java.text.SimpleDateFormat

def customerID = context.expand( '${DB Account#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUSTOMERID[1]}' )
def debtorAccountNumber = context.expand( '${DB Account#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/ACCOUNTNUMBER[1]}' )
def creditorAccount = context.expand( '${DB Account#ResponseAsXml#//Results[1]/ResultSet[1]/Row[2]/ACCOUNTNUMBER[1]}' )

testRunner.testCase.getTestStepByName("Properties").setPropertyValue("customerid",customerID)
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("debitAccount",debtorAccountNumber)

Date date = new Date();
SimpleDateFormat fn = new SimpleDateFormat("ddMyyhhmmss");
def datetime = fn.format(date)
log.info datetime

def EndtoEndID = "skko"+datetime;
log.info EndtoEndID
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("endtoendID",EndtoEndID );

//Set TestSuite properties
testRunner.testCase.testSuite.setPropertyValue("customerID",customerID)
testRunner.testCase.testSuite.setPropertyValue("AccountID",debtorAccountNumber)
testRunner.testCase.testSuite.setPropertyValue("creditorAccount",creditorAccount)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="properties" name="Properties" id="d3ec3a07-020f-4fde-8860-1eb245c3322d">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>SourceApplication</con:name>
          <con:value>EVRYINT</con:value>
        </con:property>
        <con:property>
          <con:name>userid</con:name>
          <con:value>959172706</con:value>
        </con:property>
        <con:property>
          <con:name>value2</con:name>
          <con:value>959172706</con:value>
        </con:property>
        <con:property>
          <con:name>credentials</con:name>
          <con:value>03111012010400425k5ycq1OGYoMbFyGCL7NK47EmmmyjbdrfsSaabKNt2t/9a8S+1c/qz8RyXllr2DrFsSaabKNt2t+xJppso23a37EmmmyjbdrfoVzTYoa92Ig2yLuO52qNtVzJ9Ghz0k+oDc+KFZqOWSnXzlyjxYnxhRjwk65peqQrzE/U60uSoC9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu3EfQIWD5xMfl3XTmAWgmtWK6finp9/mCw=ALFy7j7ftw0vvDgRXWyrWDAwu1FNXz1PP/9LF+GI3Mdq2gdNnPMvW5JSEJs4mTRdBJ1mZImRnBk/9pqnUYSiaiPwqdwzD+CuUmW4qKMUlg9224k0KGa0KBFNbYx8zdn3R4/ucf2BCKfW7mNJiCPFMdmVQNU+LfvYQq36prkRGJE=</con:value>
        </con:property>
        <con:property>
          <con:name>orgid</con:name>
          <con:value>4701</con:value>
        </con:property>
        <con:property>
          <con:name>customerid</con:name>
          <con:value>18107209111</con:value>
        </con:property>
        <con:property>
          <con:name>debitAccount</con:name>
          <con:value>47502891509</con:value>
        </con:property>
        <con:property>
          <con:name>debitAcntccy</con:name>
          <con:value>NOK</con:value>
        </con:property>
        <con:property>
          <con:name>creditAccount</con:name>
          <con:value>42010039950</con:value>
        </con:property>
        <con:property>
          <con:name>item1</con:name>
          <con:value>PaymentChannel</con:value>
        </con:property>
        <con:property>
          <con:name>value1</con:name>
          <con:value>INT</con:value>
        </con:property>
        <con:property>
          <con:name>item2</con:name>
          <con:value>AgreementId</con:value>
        </con:property>
        <con:property>
          <con:name>item3</con:name>
          <con:value>SelfService</con:value>
        </con:property>
        <con:property>
          <con:name>value3</con:name>
          <con:value>true</con:value>
        </con:property>
        <con:property>
          <con:name>item4</con:name>
          <con:value>LogRef</con:value>
        </con:property>
        <con:property>
          <con:name>value4</con:name>
          <con:value>${=java.util.UUID.randomUUID().toString()}-${=context.getCurrentStep().getTestCase().getLabel()}</con:value>
        </con:property>
        <con:property>
          <con:name>ReqExnDate</con:name>
          <con:value>${= java.time.LocalDateTime.now().plusDays(1).format(java.time.format.DateTimeFormatter.ofPattern('yyyy-MM-dd'))}</con:value>
        </con:property>
        <con:property>
          <con:name>numberOfApprovers</con:name>
          <con:value>0</con:value>
        </con:property>
        <con:property>
          <con:name>accountType</con:name>
          <con:value>CoreAccount</con:value>
        </con:property>
        <con:property>
          <con:name>approvalLimit</con:name>
          <con:value>10000</con:value>
        </con:property>
        <con:property>
          <con:name>registerLimit</con:name>
          <con:value>10000</con:value>
        </con:property>
        <con:property>
          <con:name>bookingLevel</con:name>
          <con:value>D</con:value>
        </con:property>
        <con:property>
          <con:name>sessionID</con:name>
          <con:value>${=java.util.UUID.randomUUID().toString().substring(0,30)}</con:value>
        </con:property>
        <con:property>
          <con:name>channel</con:name>
          <con:value>NBA</con:value>
        </con:property>
        <con:property>
          <con:name>agreementid</con:name>
          <con:value>959172706</con:value>
        </con:property>
        <con:property>
          <con:name>parentAgreementid</con:name>
          <con:value>1234567</con:value>
        </con:property>
        <con:property>
          <con:name>endtoendID</con:name>
          <con:value>skko10621015839</con:value>
        </con:property>
        <con:property>
          <con:name>debitBankBic</con:name>
          <con:value>SPTRNO22XXX</con:value>
        </con:property>
        <con:property>
          <con:name>PBDRegisterAccount</con:name>
          <con:value>4068</con:value>
        </con:property>
        <con:property>
          <con:name>SourceApplicationDeps</con:name>
          <con:value>PIN</con:value>
        </con:property>
        <con:property>
          <con:name>userIdDeps</con:name>
          <con:value>D210PAY</con:value>
        </con:property>
        <con:property>
          <con:name>destinationApplicationDeps</con:name>
          <con:value>CWSJ5</con:value>
        </con:property>
        <con:property>
          <con:name>credentialsDeps</con:name>
          <con:value>03111012010400425kglPboRi3h16OVtVL1neI9CfuAtjCBO603eS0IgWm1WWIO7EfpSL4DE%2FlDFi69n1sSaabKNt2t%2BxJppso23a37EmmmyjbdrfkkqxxhMk30WewZFnEDBXjbEmmmyjbdrfsSaabKNt2t%2FXzlyjxYnxhcG46wcbIKp%2FsSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu3EfQIWD5xMfokmgZRGVVmx5Sj3%2Fl0ONFk%3DNEDNSxp9dSZrTgTc8FQZH2%2BcCJH2i6JVeQujJsOFspnZLIrJ%2FuKwomqnqBEUfwp16lFG7oNme1nGipyowyfruYRWpd%2FshZpSAsnaArB%2B54u6Czd6k8LQ9TprK1E3RG6YggyW9FDg58it2antT1iUPbCr7fc9RkGMxwJwGZ8h0vU%3D</con:value>
        </con:property>
        <con:property>
          <con:name>addAmount</con:name>
          <con:value>88600</con:value>
        </con:property>
        <con:property>
          <con:name>availableBalance</con:name>
          <con:value>89474.78</con:value>
        </con:property>
        <con:property>
          <con:name>amount</con:name>
          <con:value>1000</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="7de86b8b-4854-4c61-9139-036a7a36f263" name="BalanceCheck">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DEPSAccountService_V15_3PortTypeSoap11</con:interface>
      <con:operation>accountReadBalanceInformation</con:operation>
      <con:request name="BalanceCheck" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6427ddda-2392-4171-b568-eee922f931ba">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://10.246.89.245:10710/corewsdpgensrv/services/DEPSAccountService_V15_3</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:srv.dep.savings.fs.edb.com:ws:account:v15_3" xmlns:urn1="urn:srv.dep.savings.fs.edb.com:domain:account:v15_3">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${Properties#SourceApplicationDeps}</wsc:SourceApplication>
         <wsc:DestinationApplication>${Properties#destinationApplicationDeps}</wsc:DestinationApplication>
         <wsc:Function>DEPSAccountService_V15_3.accountReadBalanceInformation</wsc:Function>
         <wsc:Version>15_3</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${Properties#userIdDeps}</wsc:userid>
            <wsc:credentials>${Properties#credentials}</wsc:credentials>
            <wsc:channel>${Properties#channel}</wsc:channel>
            <wsc:orgid>${Properties#orgId}</wsc:orgid>
            <wsc:orgunit xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <wsc:customerid>${Properties#customerId}</wsc:customerid>
            <wsc:locale xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <wsc:ip>10.246.89.108</wsc:ip>
            <wsc:item key="${Properties#item1}" value="${Properties#value1}"/>
            <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
            <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:accountReadBalanceInformationRequest>
         <urn:qualification>
            <urn1:accountNumber>${Properties#debitAccount}</urn1:accountNumber>
         </urn:qualification>
      </urn:accountReadBalanceInformationRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" id="856d8d22-f506-41c6-8154-f200e13608b7" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="f27ec154-745f-4f67-a091-2346402e6d4a" name="Not SOAP Fault"/>
        <con:assertion type="Schema Compliance" id="ff22f967-0a57-4f11-a840-da2b78cda933" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="MessageContentAssertion" id="943d356b-2b2b-4a47-8cd6-26a9ee714378" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:ErrorCode[1]</con:xpath>
              <con:element>ErrorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:Severity[1]</con:xpath>
              <con:element>Severity</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:ComponentId[1]</con:xpath>
              <con:element>ComponentId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>520</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:StrErrorCode[1]</con:xpath>
              <con:element>StrErrorCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='urn:enterprise.fs.edb.com:domain:common:v1';
//ns4:accountReadBalanceInformationResponse[1]/ns3:ResponseState[1]/ns2:StrErrorCode[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:Message[1]</con:xpath>
              <con:element>Message</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>OK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:NativeError[1]</con:xpath>
              <con:element>NativeError</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='urn:enterprise.fs.edb.com:domain:common:v1';
//ns4:accountReadBalanceInformationResponse[1]/ns3:ResponseState[1]/ns2:NativeError[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='urn:enterprise.fs.edb.com:domain:common:v1';
//ns3:accountReadBalanceInformationResponse[1]/ns2:ResponseState[1]/ns1:LogSequence[1]</con:xpath>
              <con:element>LogSequence</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns4='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='urn:enterprise.fs.edb.com:domain:common:v1';
//ns4:accountReadBalanceInformationResponse[1]/ns3:ResponseState[1]/ns2:LogSequence[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:accountProduct[1]</con:xpath>
              <con:element>ns2:accountProduct</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>LOCDEPOSIT</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:disposalText[1]</con:xpath>
              <con:element>ns2:disposalText</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DISPONERES IKKE AV KONTOEIER</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:balance[1]</con:xpath>
              <con:element>ns2:balance</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>exists</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>492548.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:availableBalance[1]</con:xpath>
              <con:element>ns2:availableBalance</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>exists</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>492246.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:creditLine[1]</con:xpath>
              <con:element>ns2:creditLine</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:additionalAgreementsExist[1]</con:xpath>
              <con:element>ns2:additionalAgreementsExist</con:element>
              <con:type>XmlBoolean</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:confirmedAmount[1]</con:xpath>
              <con:element>ns2:confirmedAmount</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>-302.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:coverageControlExist[1]</con:xpath>
              <con:element>ns2:coverageControlExist</con:element>
              <con:type>XmlBoolean</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:directDebitingExist[1]</con:xpath>
              <con:element>ns2:directDebitingExist</con:element>
              <con:type>XmlBoolean</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:lastTransactionDate[1]</con:xpath>
              <con:element>ns2:lastTransactionDate</con:element>
              <con:type>XmlDate</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2017-08-10+02:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:accountDescription[1]</con:xpath>
              <con:element>ns2:accountDescription</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>VERGE P1 U/BINDING</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:maxOverdraft[1]</con:xpath>
              <con:element>ns2:maxOverdraft</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:savingsBalance[1]</con:xpath>
              <con:element>ns2:savingsBalance</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:blockedAmount[1]</con:xpath>
              <con:element>ns2:blockedAmount</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:statementFrequency[1]</con:xpath>
              <con:element>ns2:statementFrequency</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>ANNUALY</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:noticeLimit[1]</con:xpath>
              <con:element>ns2:noticeLimit</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:cashpoolExist[1]</con:xpath>
              <con:element>ns2:cashpoolExist</con:element>
              <con:type>XmlBoolean</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>false</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:coverageAccountNumberCP[1]</con:xpath>
              <con:element>ns2:coverageAccountNumberCP</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>00000000000</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns2:accountReadBalanceInformationResponse[1]/ns2:result[1]/ns1:detailsBalanceInformation[1]/ns1:availableBalanceCP[1]</con:xpath>
              <con:element>ns2:availableBalanceCP</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:corews.enterprise.fs.edb.com:domain:common:v1';
//ns2:accountReadBalanceInformationResponse[1]/ns2:customerInformation[1]/ns1:customerNumber[1]</con:xpath>
              <con:element>ns6:customerNumber</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>01010077571</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:corews.enterprise.fs.edb.com:domain:common:v1';
//ns2:accountReadBalanceInformationResponse[1]/ns2:customerInformation[1]/ns1:shortName[1]</con:xpath>
              <con:element>ns6:shortName</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>ANONYM5184814</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:corews.enterprise.fs.edb.com:domain:common:v1';
//ns2:accountReadBalanceInformationResponse[1]/ns2:customerInformation[1]/ns1:profitCenter[1]</con:xpath>
              <con:element>ns6:profitCenter</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>32004</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:corews.enterprise.fs.edb.com:domain:common:v1';
//ns2:accountReadBalanceInformationResponse[1]/ns2:customerInformation[1]/ns1:productId[1]</con:xpath>
              <con:element>ns6:productId</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>4002/01 /00 /00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns1='urn:corews.enterprise.fs.edb.com:domain:common:v1';
//ns2:accountReadBalanceInformationResponse[1]/ns2:customerInformation[1]/ns1:productShortName[1]</con:xpath>
              <con:element>ns6:productShortName</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>VEP1UB</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns3:accountReadBalanceInformationResponse xmlns:ns13="urn:srv.dep.savings.fs.edb.com:domain:account:v14_1" xmlns:ns12="urn:srv.dep.savings.fs.edb.com:domain:account:v13_1" xmlns:ns11="urn:srv.dep.savings.fs.edb.com:domain:account:v15_2" xmlns:ns10="urn:srv.dep.savings.fs.edb.com:domain:account:v15_1" xmlns:ns9="urn:corews.enterprise.fs.edb.com:domain:common:v2" xmlns:ns8="urn:srv.agr.enterprise.fs.edb.com:ws:role:v17_1" xmlns:ns7="urn:srv.agr.enterprise.fs.edb.com:domain:role:v17_1" xmlns:ns6="urn:corews.enterprise.fs.edb.com:domain:common:v1" xmlns:ns5="urn:srv.dep.savings.fs.edb.com:domain:alertcodes:v2" xmlns:ns4="urn:enterprise.fs.edb.com:domain:common:v1" xmlns:ns3="urn:srv.dep.savings.fs.edb.com:ws:account:v15_3" xmlns:ns2="urn:srv.dep.savings.fs.edb.com:domain:account:v15_3" xmlns="http://edb.com/ws/WSCommon_v21">
         <ns4:ResponseState>
            <ErrorCode>0</ErrorCode>
            <Severity>0</Severity>
            <ComponentId>520</ComponentId>
            <StrErrorCode xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <Message>OK</Message>
            <NativeError xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <LogSequence xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
         </ns4:ResponseState>
         <ns3:result>
            <ns2:detailsBalanceInformation>
               <ns2:accountProduct>LOCDEPOSIT</ns2:accountProduct>
               <ns2:disposalText>DISPONERES IKKE AV KONTOEIER</ns2:disposalText>
               <ns2:balance>492548.00</ns2:balance>
               <ns2:availableBalance>492246.00</ns2:availableBalance>
               <ns2:creditLine>0</ns2:creditLine>
               <ns2:additionalAgreementsExist>true</ns2:additionalAgreementsExist>
               <ns2:confirmedAmount>-302.00</ns2:confirmedAmount>
               <ns2:coverageControlExist>true</ns2:coverageControlExist>
               <ns2:directDebitingExist>true</ns2:directDebitingExist>
               <ns2:lastTransactionDate>2017-08-10+02:00</ns2:lastTransactionDate>
               <ns2:accountDescription>VERGE P1 U/BINDING</ns2:accountDescription>
               <ns2:maxOverdraft>0.00</ns2:maxOverdraft>
               <ns2:savingsBalance>0.00</ns2:savingsBalance>
               <ns2:blockedAmount>0.00</ns2:blockedAmount>
               <ns2:statementFrequency>ANNUALY</ns2:statementFrequency>
               <ns2:noticeLimit>0</ns2:noticeLimit>
               <ns2:cashpoolExist>false</ns2:cashpoolExist>
               <ns2:coverageAccountNumberCP>00000000000</ns2:coverageAccountNumberCP>
               <ns2:availableBalanceCP>0.00</ns2:availableBalanceCP>
            </ns2:detailsBalanceInformation>
         </ns3:result>
         <ns3:customerInformation>
            <ns6:customerNumber>01010077571</ns6:customerNumber>
            <ns6:shortName>ANONYM5184814</ns6:shortName>
            <ns6:profitCenter>32004</ns6:profitCenter>
            <ns6:productId>4002/01 /00 /00</ns6:productId>
            <ns6:productShortName>VEP1UB</ns6:productShortName>
         </ns3:customerInformation>
      </ns3:accountReadBalanceInformationResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:srv.dep.savings.fs.edb.com:ws:account:v15_3/DEPSAccountService_V15_3PortType/accountReadBalanceInformationRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="balanceTransfer" id="f4c56676-6363-4e85-ac35-a28f286a71b0">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>avaiableBalance</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>BalanceCheck</con:sourceStep>
        <con:sourcePath>declare namespace ns3='urn:srv.dep.savings.fs.edb.com:ws:account:v15_3';
declare namespace ns2='urn:srv.dep.savings.fs.edb.com:domain:account:v15_3';
//ns3:accountReadBalanceInformationResponse[1]/ns3:result[1]/ns2:detailsBalanceInformation[1]/ns2:availableBalance[1]</con:sourcePath>
        <con:targetType>availableBalance</con:targetType>
        <con:targetStep>Properties</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="setBalance" id="cceff145-9680-468f-b9dd-95004bc96208">
    <con:settings/>
    <con:config>
      <script>def debitAmount = context.expand( '${Properties#amount}' )
def availableBalance = context.expand( '${Properties#availableBalance}' )

log.info "debitAmount: " + debitAmount + " ,  availableBalance: "+ availableBalance

int debitAmountInt = Double.parseDouble(debitAmount)
int availableBalanceInt = Double.parseDouble(availableBalance)

//For Insufficiant balance scenario
if (availableBalanceInt > debitAmountInt){
	testRunner.gotoStep(context.getCurrentStepIndex() +2)	
}else {	
	def addAmount = Math.abs(availableBalanceInt) * 100
	testRunner.getTestCase().getTestStepByName("Properties").setPropertyValue("addAmount", addAmount.toString())	
}</script>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="396440d1-8bc0-4a85-9adb-db090ee128b2" name="AddAmount">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PCASReservationCreate_V1_1ServiceSoapBinding</con:interface>
      <con:operation>pCASReservationCreate_V1_1</con:operation>
      <con:request name="AddAmount" id="4b71e9b4-40c4-4628-b491-d64d84d4f9b2">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://ilt-lbx-g-c01.man.cosng.net:13610/fts/services/PCASReservationCreate_V1_1Service</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:res="http://reservations.ws.pca.finance.edb.com">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${Properties#SourceApplicationDeps}</wsc:SourceApplication>
         <wsc:DestinationApplication>${Properties#destinationApplicationDeps}</wsc:DestinationApplication>
         <wsc:Function>DEPSAccountService_V15_3.accountReadBalanceInformation</wsc:Function>
         <wsc:Version>15_3</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${Properties#userIdDeps}</wsc:userid>
            <wsc:credentials>${Properties#credentials}</wsc:credentials>
            <wsc:channel>${Properties#channel}</wsc:channel>
            <wsc:orgid>${Properties#orgId}</wsc:orgid>
            <wsc:orgunit xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <wsc:customerid>${Properties#customerId}</wsc:customerid>
            <wsc:locale xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <wsc:ip>10.246.89.108</wsc:ip>
            <wsc:item key="${Properties#item1}" value="${Properties#value1}"/>
            <wsc:item key="${Properties#item2}" value="${Properties#value2}"/>
            
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <res:PCASReservationCreate_V1_1InputArgs>
         <res:ReservationCreateQualification_V1_1>
            <res:AccountNo>${Properties#debitAccount}</res:AccountNo>
            <!--Optional:-->
            <res:CounterAccountNo xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <res:Amount>${Properties#addAmount}</res:Amount>
            <!--Optional:-->
            <res:AmountCurrency xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <res:AuthRef>${=Math.abs(new Random().nextInt() % 6000000) + 1}</res:AuthRef>
            <!--Optional:-->
            <res:TextCode>950</res:TextCode>
            <!--Optional:-->
            <res:FinInst xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <!--Optional:-->
            <res:DtExpiry xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <!--Optional:-->
            <res:Force>false</res:Force>
            <!--Optional:-->
            <res:CheckDuplicate>false</res:CheckDuplicate>
            <!--Optional:-->
            <res:DoCounterAcctRes>false</res:DoCounterAcctRes>
         </res:ReservationCreateQualification_V1_1>
      </res:PCASReservationCreate_V1_1InputArgs>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Valid HTTP Status Codes" id="ecf8380b-630e-4810-9ac6-5fbef105979f" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="5e8a048d-92c3-4f46-95e9-df65d40ca6e0" name="Not SOAP Fault"/>
        <con:assertion type="Schema Compliance" id="1f32a0eb-2552-4690-b36c-f0ac8b355a11" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="MessageContentAssertion" id="bb5611cd-0be9-4054-acad-1b15f7721c7c" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://reservations.ws.pca.finance.edb.com';
//ns1:PCASReservationCreate_V1_1OutputArgs[1]/ns1:ReservationCreateResult_V1_1[1]/ns1:AvailableBalance[1]</con:xpath>
              <con:element>AvailableBalance</con:element>
              <con:type>XmlDecimal</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>80190.00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:ErrorCode[1]</con:xpath>
              <con:element>ns2:ErrorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:Severity[1]</con:xpath>
              <con:element>ns2:Severity</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:ComponentId[1]</con:xpath>
              <con:element>ns2:ComponentId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:StrErrorCode[1]</con:xpath>
              <con:element>ns2:StrErrorCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='http://reservations.ws.pca.finance.edb.com';
//ns3:PCASReservationCreate_V1_1OutputArgs[1]/ns3:ResponseState[1]/ns2:StrErrorCode[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:Message[1]</con:xpath>
              <con:element>ns2:Message</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>SUCCESS</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:NativeError[1]</con:xpath>
              <con:element>ns2:NativeError</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v21';
declare namespace ns2='http://reservations.ws.pca.finance.edb.com';
//ns2:PCASReservationCreate_V1_1OutputArgs[1]/ns2:ResponseState[1]/ns1:LogSequence[1]</con:xpath>
              <con:element>ns2:LogSequence</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v21';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns3='http://reservations.ws.pca.finance.edb.com';
//ns3:PCASReservationCreate_V1_1OutputArgs[1]/ns3:ResponseState[1]/ns2:LogSequence[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <PCASReservationCreate_V1_1OutputArgs xmlns="http://reservations.ws.pca.finance.edb.com" xmlns:ns2="http://edb.com/ws/WSCommon_v21">
         <ReservationCreateResult_V1_1>
            <AvailableBalance>80190.00</AvailableBalance>
         </ReservationCreateResult_V1_1>
         <ResponseState>
            <ns2:ErrorCode>0</ns2:ErrorCode>
            <ns2:Severity>0</ns2:Severity>
            <ns2:ComponentId>0</ns2:ComponentId>
            <ns2:StrErrorCode xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <ns2:Message>SUCCESS</ns2:Message>
            <ns2:NativeError/>
            <ns2:LogSequence xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
         </ResponseState>
      </PCASReservationCreate_V1_1OutputArgs>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="pCASReservationCreate_V1_1" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>