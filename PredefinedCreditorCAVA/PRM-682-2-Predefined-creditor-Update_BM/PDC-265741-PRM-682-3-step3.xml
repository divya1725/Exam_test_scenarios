<?xml version="1.0" encoding="UTF-8"?>
<con:testCase zephyrTestName="" zephyrTestId="" wsrmVersion="1.0" wsrmEnabled="false" wsrmAckTo="" timeout="0" searchProperties="true" name="PDC-265741-PRM-682-3-step3" keepSession="false" id="847f02b1-d049-4a17-b6ff-1136bcfd0008" failTestCaseOnErrors="true" failOnError="true" discardOkResults="false" amfPassword="" amfLogin="" amfEndpoint="" amfAuthorisation="false" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Existing Predefined Creditor is not updated successfully due to invalid Intermediary Agent Name</con:description>
  <con:settings>
    <con:setting id="8db67f2d-82f7-43e7-b5ed-54c5d9db8f4ffileName">PDC-265741-PRM-682-3-step3</con:setting>
    <con:setting id="847f02b1-d049-4a17-b6ff-1136bcfd0008fileName">PDC-265741-PRM-682-3-step3</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" name="CreditorCreate_v2_1" id="2438c3b8-71b5-46b4-acbc-d0248db23f9e">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentPredefinedCreditor_V2_1PortTypeSoap11</con:interface>
      <con:operation>CreditorCreate</con:operation>
      <con:request wssPasswordType="" useWsReliableMessaging="false" useWsAddressing="false" timeout="" sslKeystore="" outgoingWss="" name="CreditorCreate_v2_1" incomingWss="" id="523c9182-0dea-4cda-b183-750b1a4fee03">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentPredefinedCreditor_V2_1</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1" xmlns:urn1="urn:pins.payment.evry.com:domain:predefinedcreditor:v2_1" xmlns:urn2="urn:pins.payment.evry.com:domain:complex-types:v2_1">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>PIN Create</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestSuite#userid}</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestSuite#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>
            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:CreditorCreateRequest>
         <urn:creditorInformation>
            <urn1:alias>${=org.apache.commons.lang.RandomStringUtils.random(35, true, true)}</urn1:alias>
            <urn1:type>INTERNATIONAL</urn1:type>
            <!--Optional:-->
            <urn1:instructionPriority>NORM</urn1:instructionPriority>
            <!--Optional:-->
            <urn1:debtorAccount>
               <urn2:identification>${#TestSuite#debitAccount}</urn2:identification>
               <urn2:currency>${#TestSuite#debitAcntccy}</urn2:currency>
               <!--Optional:-->
            </urn1:debtorAccount>
            <!--Optional:-->
            <!--Optional:-->
            <urn1:amount>
               <!--You have a CHOICE of the next 2 items at this level-->
                <urn2:instructedAmount currency="${#TestSuite#amountCurrency1}">
                  <urn2:amount>1</urn2:amount>
               </urn2:instructedAmount>
            </urn1:amount>
            <urn1:creditorAccount>
               <urn2:identification>${#TestSuite#intCreditAccount}</urn2:identification>
               <!--Optional:-->
            </urn1:creditorAccount>
            <!--Optional:-->
            <urn1:creditor>
               <!--Optional:-->
               <urn2:name>CredName</urn2:name>
               <urn2:postalAddress>
                  <urn2:country>${#TestSuite#intCredAgentCountry}</urn2:country>
               </urn2:postalAddress>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:creditor>
            <urn1:creditorAgent>
               <urn2:bic>${#TestSuite#intCredAgentBic}</urn2:bic>
               <urn2:postalAddress>
                  <urn2:country>${#TestSuite#intCredAgentCountry}</urn2:country>
               </urn2:postalAddress>
            </urn1:creditorAgent>
            <!--Optional:-->
         </urn:creditorInformation>
      </urn:CreditorCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" name="Match content of [ErrorCode]" id="1778142e-7bba-4adc-ac4a-d066ebfd25c5">
          <con:configuration>
            <path>${#Response#//*:ErrorCode}</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig version="200508" mustUnderstand="NONE" action="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1/PINSPaymentPredefinedCreditor_V2_1PortType/CreditorCreateRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="DatabaseCheck" id="a549e713-c9ec-4d96-b806-15701b73cb8f">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWH</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>${#Project#G_D17_PWH}</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>select count(*) from pdc_predefinedcreditor where predefinedcreditorid=${CreditorCreate_v2_1#Response#//*:predefinedCreditorId}</con:query>
      <con:assertion type="XPath Match" name="Match content of [COUNT]" id="af9c92d5-e9a7-4da9-8b9d-b31e0b1c9781">
        <con:configuration>
          <path>//Results[1]/ResultSet[1]/Row[1]/COUNT[1]/text()</path>
          <content>1</content>
          <allowWildcards>false</allowWildcards>
          <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
          <ignoreComments>false</ignoreComments>
        </con:configuration>
      </con:assertion>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="CreditorUpdate_v2_1" id="951dd789-4c4d-4446-86b2-7ca8b03ebec8">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentPredefinedCreditor_V2_1PortTypeSoap11</con:interface>
      <con:operation>CreditorUpdate</con:operation>
      <con:request wssPasswordType="" useWsReliableMessaging="false" useWsAddressing="false" timeout="" sslKeystore="" outgoingWss="" name="CreditorUpdate_v2_1" incomingWss="" id="e4c0949f-3c0a-468c-a9f6-66dca5cd6da8">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentPredefinedCreditor_V2_1</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1" xmlns:urn1="urn:pins.payment.evry.com:domain:predefinedcreditor:v2_1" xmlns:urn2="urn:pins.payment.evry.com:domain:complex-types:v2_1">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>PIN Create</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestSuite#userid}</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestSuite#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>
            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:CreditorUpdateRequest>
         <urn:creditorInformation>
            <urn1:alias>${=org.apache.commons.lang.RandomStringUtils.random(35, true, true)}</urn1:alias>
            <urn1:type>INTERNATIONAL</urn1:type>
            <!--Optional:-->
            <!--Optional:-->
            <urn1:debtorAccount>
               <urn2:identification>${#TestSuite#debitAccount}</urn2:identification>
               <!--Optional:-->
               <urn2:currency>${#TestSuite#debitAcntccy}</urn2:currency>
            </urn1:debtorAccount>
            <!--Optional:-->
            <!--Optional:-->
            <urn1:amount>
               <!--You have a CHOICE of the next 2 items at this level-->
               <urn2:instructedAmount currency="${#TestSuite#amountCurrency1}">
                  <urn2:amount>1</urn2:amount>
               </urn2:instructedAmount>
            </urn1:amount>
            <urn1:creditorAccount>
               <urn2:identification>${#TestSuite#intCreditAccount}</urn2:identification>
               <!--Optional:-->
            </urn1:creditorAccount>
            <!--Optional:-->
            <urn1:creditor>
               <!--Optional:-->
               <urn2:name>Cred</urn2:name><urn2:postalAddress><urn2:country>${#TestSuite#intCredAgentCountry}</urn2:country></urn2:postalAddress>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:creditor>
            <!--Optional:-->
            <urn1:creditorAgent>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <urn2:bic>${#TestSuite#intCredAgentBic}</urn2:bic>
               <urn2:postalAddress>
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <urn2:country>${#TestSuite#intCredAgentCountry}</urn2:country>
                  <!--0 to 7 repetitions:-->
               </urn2:postalAddress>
            </urn1:creditorAgent><urn1:intermediaryAgent1><urn2:bic>BOFAUS6SXXX</urn2:bic><urn2:postalAddress><urn2:addressType>ADDR</urn2:addressType><urn2:department>test</urn2:department><urn2:country>DE</urn2:country></urn2:postalAddress></urn1:intermediaryAgent1>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
         </urn:creditorInformation>
         <urn:predefinedCreditorId>${CreditorCreate_v2_1#Response#//*:predefinedCreditorId}</urn:predefinedCreditorId>
      </urn:CreditorUpdateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="MessageContentAssertion" id="6281c897-1d23-413f-a54d-513c9f76af9b" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pins.payment.evry.com:domain:complex-types:v2_1';
declare namespace ns2='urn:pins.payment.evry.com:domain:predefinedcreditor:v2_1';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentcreditor:v2_1';
//ns3:CreditorUpdateResponse[1]/ns3:creditorInformation[1]/ns2:intermediaryAgent1[1]/ns1:bic[1]</con:xpath>
              <con:element>urn3:bic</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>BOFAUS6SXXX</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1" xmlns:urn1="urn:pins.payment.evry.com:domain:common:v2_0" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn2="urn:pins.payment.evry.com:domain:predefinedcreditor:v2_1" xmlns:urn3="urn:pins.payment.evry.com:domain:complex-types:v2_1">
   <soapenv:Header/>
   <soapenv:Body>
      <urn:CreditorUpdateResponse>
         <urn1:ResponseState>
            <wsc:ErrorCode>?</wsc:ErrorCode>
            <wsc:Severity>?</wsc:Severity>
            <wsc:ComponentId>?</wsc:ComponentId>
            <wsc:Message>?</wsc:Message>
            <!--Optional:-->
            <wsc:LogSequence>?</wsc:LogSequence>
            <!--Zero or more repetitions:-->
            <wsc:errorItem key="?" value="?"/>
         </urn1:ResponseState>
         <!--Optional:-->
         <urn:creditorInformation>
            <urn2:alias>?</urn2:alias>
            <urn2:type>?</urn2:type>
            <!--Optional:-->
            <urn2:instructionPriority>?</urn2:instructionPriority>
            <!--Optional:-->
            <urn2:debtorAccount>
               <urn3:identification>?</urn3:identification>
               <!--Optional:-->
               <urn3:currency>?</urn3:currency>
            </urn2:debtorAccount>
            <!--Optional:-->
            <urn2:ultimateDebtor>
               <!--Optional:-->
               <urn3:id>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn3:OrgId>
                     <!--Optional:-->
                     <urn3:Id>?</urn3:Id>
                  </urn3:OrgId>
                  <urn3:PrvtId>
                     <!--Optional:-->
                     <urn3:Id>?</urn3:Id>
                  </urn3:PrvtId>
               </urn3:id>
               <!--Optional:-->
               <urn3:name>?</urn3:name>
               <!--Optional:-->
               <urn3:postalAddress>
                  <!--Optional:-->
                  <urn3:addressType>?</urn3:addressType>
                  <!--Optional:-->
                  <urn3:department>?</urn3:department>
                  <!--Optional:-->
                  <urn3:subDepartment>?</urn3:subDepartment>
                  <!--Optional:-->
                  <urn3:streetName>?</urn3:streetName>
                  <!--Optional:-->
                  <urn3:buildingNumber>?</urn3:buildingNumber>
                  <!--Optional:-->
                  <urn3:postCode>?</urn3:postCode>
                  <!--Optional:-->
                  <urn3:townName>?</urn3:townName>
                  <!--Optional:-->
                  <urn3:countrySubDivision>?</urn3:countrySubDivision>
                  <!--Optional:-->
                  <urn3:country>?</urn3:country>
                  <!--0 to 7 repetitions:-->
                  <urn3:addressLine>?</urn3:addressLine>
               </urn3:postalAddress>
               <!--Optional:-->
               <urn3:faxNumber>?</urn3:faxNumber>
               <!--Optional:-->
               <urn3:emailAddress>?</urn3:emailAddress>
               <!--Optional:-->
               <urn3:contactDetailsName>?</urn3:contactDetailsName>
            </urn2:ultimateDebtor>
            <!--Optional:-->
            <urn2:amount>
               <!--You have a CHOICE of the next 2 items at this level-->
               <urn3:instructedAmount currency="?">
                  <urn3:amount>?</urn3:amount>
               </urn3:instructedAmount>
               <urn3:equivalentAmount>
                  <urn3:amount currency="?">
                     <urn3:amount>?</urn3:amount>
                  </urn3:amount>
                  <urn3:currencyOfTransfer>?</urn3:currencyOfTransfer>
               </urn3:equivalentAmount>
            </urn2:amount>
            <urn2:creditorAccount>
               <urn3:identification>?</urn3:identification>
               <!--Optional:-->
               <urn3:currency>?</urn3:currency>
            </urn2:creditorAccount>
            <!--Optional:-->
            <urn2:ultimateCreditor>
               <!--Optional:-->
               <urn3:id>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn3:OrgId>
                     <!--Optional:-->
                     <urn3:Id>?</urn3:Id>
                  </urn3:OrgId>
                  <urn3:PrvtId>
                     <!--Optional:-->
                     <urn3:Id>?</urn3:Id>
                  </urn3:PrvtId>
               </urn3:id>
               <!--Optional:-->
               <urn3:name>?</urn3:name>
               <!--Optional:-->
               <urn3:postalAddress>
                  <!--Optional:-->
                  <urn3:addressType>?</urn3:addressType>
                  <!--Optional:-->
                  <urn3:department>?</urn3:department>
                  <!--Optional:-->
                  <urn3:subDepartment>?</urn3:subDepartment>
                  <!--Optional:-->
                  <urn3:streetName>?</urn3:streetName>
                  <!--Optional:-->
                  <urn3:buildingNumber>?</urn3:buildingNumber>
                  <!--Optional:-->
                  <urn3:postCode>?</urn3:postCode>
                  <!--Optional:-->
                  <urn3:townName>?</urn3:townName>
                  <!--Optional:-->
                  <urn3:countrySubDivision>?</urn3:countrySubDivision>
                  <!--Optional:-->
                  <urn3:country>?</urn3:country>
                  <!--0 to 7 repetitions:-->
                  <urn3:addressLine>?</urn3:addressLine>
               </urn3:postalAddress>
               <!--Optional:-->
               <urn3:faxNumber>?</urn3:faxNumber>
               <!--Optional:-->
               <urn3:emailAddress>?</urn3:emailAddress>
               <!--Optional:-->
               <urn3:contactDetailsName>?</urn3:contactDetailsName>
            </urn2:ultimateCreditor>
            <urn2:creditor>
               <!--Optional:-->
               <urn3:id>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn3:OrgId>
                     <!--Optional:-->
                     <urn3:Id>?</urn3:Id>
                  </urn3:OrgId>
                  <urn3:PrvtId>
                     <!--Optional:-->
                     <urn3:Id>?</urn3:Id>
                  </urn3:PrvtId>
               </urn3:id>
               <!--Optional:-->
               <urn3:name>?</urn3:name>
               <!--Optional:-->
               <urn3:postalAddress>
                  <!--Optional:-->
                  <urn3:addressType>?</urn3:addressType>
                  <!--Optional:-->
                  <urn3:department>?</urn3:department>
                  <!--Optional:-->
                  <urn3:subDepartment>?</urn3:subDepartment>
                  <!--Optional:-->
                  <urn3:streetName>?</urn3:streetName>
                  <!--Optional:-->
                  <urn3:buildingNumber>?</urn3:buildingNumber>
                  <!--Optional:-->
                  <urn3:postCode>?</urn3:postCode>
                  <!--Optional:-->
                  <urn3:townName>?</urn3:townName>
                  <!--Optional:-->
                  <urn3:countrySubDivision>?</urn3:countrySubDivision>
                  <!--Optional:-->
                  <urn3:country>?</urn3:country>
                  <!--0 to 7 repetitions:-->
                  <urn3:addressLine>?</urn3:addressLine>
               </urn3:postalAddress>
               <!--Optional:-->
               <urn3:faxNumber>?</urn3:faxNumber>
               <!--Optional:-->
               <urn3:emailAddress>?</urn3:emailAddress>
               <!--Optional:-->
               <urn3:contactDetailsName>?</urn3:contactDetailsName>
            </urn2:creditor>
            <!--Optional:-->
            <urn2:creditorAgent>
               <!--Optional:-->
               <urn3:bic>?</urn3:bic>
               <!--Optional:-->
               <urn3:nationalId>?</urn3:nationalId>
               <!--Optional:-->
               <urn3:name>?</urn3:name>
               <urn3:postalAddress>
                  <!--Optional:-->
                  <urn3:addressType>?</urn3:addressType>
                  <!--Optional:-->
                  <urn3:department>?</urn3:department>
                  <!--Optional:-->
                  <urn3:subDepartment>?</urn3:subDepartment>
                  <!--Optional:-->
                  <urn3:streetName>?</urn3:streetName>
                  <!--Optional:-->
                  <urn3:buildingNumber>?</urn3:buildingNumber>
                  <!--Optional:-->
                  <urn3:postCode>?</urn3:postCode>
                  <!--Optional:-->
                  <urn3:townName>?</urn3:townName>
                  <!--Optional:-->
                  <urn3:countrySubDivision>?</urn3:countrySubDivision>
                  <!--Optional:-->
                  <urn3:country>?</urn3:country>
                  <!--0 to 7 repetitions:-->
                  <urn3:addressLine>?</urn3:addressLine>
               </urn3:postalAddress>
            </urn2:creditorAgent>
            <!--Optional:-->
            <urn2:chargeBearer>?</urn2:chargeBearer>
            <!--Optional:-->
            <urn2:supplierNumber>?</urn2:supplierNumber>
            <!--Optional:-->
            <urn2:intermediaryAgent1>
               <!--Optional:-->
               <urn3:bic>?</urn3:bic>
               <!--Optional:-->
               <urn3:nationalId>?</urn3:nationalId>
               <!--Optional:-->
               <urn3:name>?</urn3:name>
               <urn3:postalAddress>
                  <!--Optional:-->
                  <urn3:addressType>?</urn3:addressType>
                  <!--Optional:-->
                  <urn3:department>?</urn3:department>
                  <!--Optional:-->
                  <urn3:subDepartment>?</urn3:subDepartment>
                  <!--Optional:-->
                  <urn3:streetName>?</urn3:streetName>
                  <!--Optional:-->
                  <urn3:buildingNumber>?</urn3:buildingNumber>
                  <!--Optional:-->
                  <urn3:postCode>?</urn3:postCode>
                  <!--Optional:-->
                  <urn3:townName>?</urn3:townName>
                  <!--Optional:-->
                  <urn3:countrySubDivision>?</urn3:countrySubDivision>
                  <!--Optional:-->
                  <urn3:country>?</urn3:country>
                  <!--0 to 7 repetitions:-->
                  <urn3:addressLine>?</urn3:addressLine>
               </urn3:postalAddress>
            </urn2:intermediaryAgent1>
            <!--Optional:-->
            <urn2:internalNote>?</urn2:internalNote>
            <!--Optional:-->
            <urn2:remittanceInformationUnstructured>?</urn2:remittanceInformationUnstructured>
            <!--Optional:-->
            <urn2:creditorScorReference>?</urn2:creditorScorReference>
            <!--Optional:-->
            <urn2:emailAddress>?</urn2:emailAddress>
         </urn:creditorInformation>
         <!--Optional:-->
         <urn:predefinedCreditorId>?</urn:predefinedCreditorId>
      </urn:CreditorUpdateResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig version="200508" mustUnderstand="NONE" action="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1/PINSPaymentPredefinedCreditor_V2_1PortType/CreditorUpdateRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="CreditorDelete_v2_1" id="bb1301a6-6299-46ca-8736-cffcef285fba">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentPredefinedCreditor_V2_1PortTypeSoap11</con:interface>
      <con:operation>CreditorDelete</con:operation>
      <con:request wssPasswordType="" useWsReliableMessaging="false" useWsAddressing="false" timeout="" sslKeystore="" outgoingWss="" name="CreditorDelete_v2_1" incomingWss="" id="315126ce-a2a4-448b-aae6-d9b21507cfad">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentPredefinedCreditor_V2_1</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1">
   <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>PIN Create</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestSuite#userid}</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestSuite#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>
            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:CreditorDeleteRequest>
         <urn:predefinedCreditorId>${CreditorCreate_v2_1#Response#//*:predefinedCreditorId}</urn:predefinedCreditorId>
      </urn:CreditorDeleteRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="GroovyScriptAssertion" name="writeToFile" id="17a5535d-0108-4ba8-bce1-839ea4cf7fff">
          <con:configuration>
            <scriptText>import com.eviware.soapui.support.XmlHolder
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

def path=context.expand( '${projectDir}')
String curStepName = (String)context.getCurrentStep().getLabel()

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) 
def response = groovyUtils.getXmlHolder(curStepName + "#Response")
def errorCode=response.getNodeValue("//*:ErrorCode");
def testCase = context.getCurrentStep().getTestCase().getLabel()
def endPoint = messageExchange.getEndpoint()

path=path+"\\results"
File dir = new File(path);
if (!dir.exists())
{
                log.info 'Creating Directory'
                dir.mkdir();
}

Date date = new Date();
SimpleDateFormat df = new SimpleDateFormat("dd-M-yyyy hh:mm:ss a zz");    
df.setTimeZone(TimeZone.getTimeZone("Europe/Oslo"));

def datetime = df.format(date)

SimpleDateFormat fn = new SimpleDateFormat("dd-M-yyyy hh_mm_ss a zz");    
def fileName = fn.format(date)

//log.info path 
def fout = new File(path+"\\"+testCase+" - "+curStepName+"_"+fileName+"_"+errorCode+".txt",)


fout.write("Time Submitted		:	"+datetime+"\r\n")
fout.append("End Point Used		:	"+endPoint+"\r\n")
fout.append("Time Taken		:	"+messageExchange.timeTaken+"ms\r\n")
fout.append("Executed in test set	:	"+testCase+" - "+curStepName+"_"+fileName)
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   REQUEST\r\n\r\n","UTF-8")
fout.append(messageExchange.getRequestHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getRequestContent() ).replace("\n","\r\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")
fout.append("                                                                                                   RESPONSE\r\n\r\n","UTF-8")
fout.append(messageExchange.getResponseHeaders())
fout.append("\n\n")
fout.append(new String( messageExchange.getResponseContent() ).replace("\n","\n"),"UTF-8")
fout.append("\r\n\r\n","UTF-8")
fout.append("=========================================================================================================================\r\n","UTF-8")</scriptText>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="Match content of [ErrorCode]" id="c7715144-5b14-4f6d-95f9-63165db57017">
          <con:configuration>
            <path>${#Response#//*:ErrorCode}</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig version="200508" mustUnderstand="NONE" action="urn:pins.payment.evry.com:ws:paymentcreditor:v2_1/PINSPaymentPredefinedCreditor_V2_1PortType/CreditorDeleteRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>e43c3d9d-4cdf-4b1a-9974-35f02f657325</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e78693f9-5442-4515-ade6-197bf8ffdb80</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>66feb8b1-4121-4d03-a320-9160e9ec7bb2</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0d938ba4-a70e-46d2-9760-9b67f05ec017</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1eaf3c83-9b37-4478-8991-16f4ba53228c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1e8b0176-8ee0-415e-a1cd-ce6c921e2f02</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3cb5ae88-0b09-4e5d-805e-a533d8082f51</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4fad1fba-354d-41dd-bc7e-8c93eb1e1382</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ac2bef6f-b2db-43e2-a7a8-002bdc43b7d6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b0110339-46b8-4093-8b97-89cec0e91087</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f4d6aa7e-8941-4b42-a606-cc7da00ca853</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a0a3c0fb-bd4a-4790-a77f-5c6dfb2101af</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>46710402-4c50-4242-88ee-676c6fd2b446</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>363a38b6-1a3b-4ab3-a648-75a74d5f5608</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9f96523d-c6b1-4d64-ac90-91ada281f4ec</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>131ecd89-8519-42bf-aa51-6d7b1ae35d2a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>20ab6add-a005-4610-83b2-e3a2a0fa8ebb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
</con:testCase>
