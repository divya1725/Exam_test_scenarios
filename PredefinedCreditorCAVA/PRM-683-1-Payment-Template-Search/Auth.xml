<?xml version="1.0" encoding="UTF-8"?>
<con:testCase timeout="0" searchProperties="true" name="Auth" keepSession="false" id="e822288f-acc8-46c7-b6dc-9875e1d063b1" failTestCaseOnErrors="true" failOnError="true" discardOkResults="false" xmlns:con="http://eviware.com/soapui/config">
  <con:description>To create corporate authorisation</con:description>
  <con:settings>
    <con:setting id="e822288f-acc8-46c7-b6dc-9875e1d063b1fileName">Auth</con:setting>
    <con:setting id="50777eaf-110a-4802-996a-e989f5076358fileName">Auth</con:setting>
    <con:setting id="ea42da20-e973-46b2-b160-4e8c4eb7edd7fileName">Auth</con:setting>
    <con:setting id="2f90c3a7-5bea-4a3e-ae4d-7c3279dfbdd2fileName">Auth</con:setting>
    <con:setting id="b63250d9-270f-4f75-b73d-cafa69c1477dfileName">Auth</con:setting>
  </con:settings>
  <con:testStep type="request" name="Authorisation_v1_3" id="688bff80-5d95-422e-9d71-f33024d69786">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentAuthorization_V1_3PortTypeSoap11</con:interface>
      <con:operation>PaymentAuthorizationCreate</con:operation>
      <con:request wssPasswordType="" useWsReliableMessaging="false" useWsAddressing="false" timeout="" sslKeystore="" outgoingWss="" name="Authorisation_v1_3" incomingWss="" id="844e414c-ba86-4bd6-b688-8a525d69251b">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentAuthorization_V1_3</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentauthorization:v1_3" xmlns:urn2="urn:pins.payment.evry.com:domain:authorization:v1_3">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>PIN Create</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestSuite#userid}</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestSuite#customerid}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>
            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAuthorizationCreateRequest>
         <urn:cpsAuthorizationMessage>
            <urn1:cpsUserAuthorizationData>
               <urn2:agreementData>
                  <urn2:agreementId>${#TestSuite#value2}</urn2:agreementId>
                  <!--Optional:-->
                  <urn2:bankId>${#TestSuite#orgid}</urn2:bankId>
                  <urn2:customerID>${#TestSuite#customerid}</urn2:customerID>
                  <urn2:productID>123423</urn2:productID>
                  <!--Optional:-->
                  <!--1 or more repetitions:-->
                  <urn2:migrationDate>2020-08-02+05:00</urn2:migrationDate>
                  <urn2:corporateGrouping>
                     <urn2:customerId>${#TestSuite#customerid}</urn2:customerId>
                     <urn2:agreementId>${#TestSuite#value2}</urn2:agreementId>
                     <!--Optional:-->
                     <urn2:b2bPollingEnabled>false</urn2:b2bPollingEnabled>
                  </urn2:corporateGrouping>
                  <!--Zero or more repetitions:-->
                  <urn2:agreementAccount>
                     <urn2:accountNumber>${#TestSuite#debitAccount}</urn2:accountNumber>
                     <urn2:accountOwnerIdentifier>${#TestSuite#customerid}</urn2:accountOwnerIdentifier>
                     <!--Optional:-->
                     <urn2:currencyCode>${#TestSuite#debitAcntccy}</urn2:currencyCode>
                     <urn2:accountType>CoreAccount</urn2:accountType>
                     <urn2:numberOfVerifiers>0</urn2:numberOfVerifiers>
                     <urn2:numberOfApprovers>1</urn2:numberOfApprovers>
                     <!--Optional:-->
                     <urn2:access>CREDIT_AND_DEBIT</urn2:access>
                  </urn2:agreementAccount>
               </urn2:agreementData>
               <urn2:userData>
                  <urn2:userId>${#TestSuite#userid}</urn2:userId>
                  <!--Optional:-->
                  <urn2:sessionID>123</urn2:sessionID>
                  <urn2:firstName>firstName</urn2:firstName>
                  <urn2:lastName>lastName</urn2:lastName>
                  <!--Optional:-->
                  <urn2:socialSecurityNumber>${#TestSuite#customerid}</urn2:socialSecurityNumber>
                  <!--Zero or more repetitions:-->
                  <urn2:userAccount>
                     <urn2:accountNumber>${#TestSuite#debitAccount}</urn2:accountNumber>
                     <!--Optional:-->
                     <!--Zero or more repetitions:-->
                     <!--Optional:-->
                     <urn2:role>View</urn2:role>
                     <urn2:role>Register</urn2:role>
                     <urn2:role>Appprove</urn2:role>
                     <urn2:role>Salary</urn2:role>
                     <urn2:role>Transfer</urn2:role>
                     <urn2:bookingLevel>D</urn2:bookingLevel>
                     <urn2:approvalLimit>999999</urn2:approvalLimit>
                     <urn2:registerLimit>999999</urn2:registerLimit>
                  </urn2:userAccount>
                  <!--Zero or more repetitions:-->
               </urn2:userData>
            </urn1:cpsUserAuthorizationData>
         </urn:cpsAuthorizationMessage>
      </urn:PaymentAuthorizationCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" name="Match content of [ErrorCode]" id="60d840da-e3b0-467a-b466-da711d608d33">
          <con:configuration>
            <path>${#Response#//*:ErrorCode}</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="32d275d6-62b1-466a-b55e-73971ebdf058">
          <con:configuration/>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3/PINSPaymentAuthorization_V1_3PortType/PaymentAuthorizationCreateRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="aecc0992-def0-4ea3-a27f-4257a9bdf392" name="Authorisation_v1_3_view_only">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPaymentAuthorization_V1_3PortTypeSoap11</con:interface>
      <con:operation>PaymentAuthorizationCreate</con:operation>
      <con:request name="Authorisation_v1_3_view_only" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="844e414c-ba86-4bd6-b688-8a525d69251b">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#G_D10}/pin/services/PINSPaymentAuthorization_V1_3</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v21" xmlns:urn="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentauthorization:v1_3" xmlns:urn2="urn:pins.payment.evry.com:domain:authorization:v1_3">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>PIN Create</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>${#TestSuite#useridOnlyView}</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>${#TestSuite#customeridOnlyView}</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="${#TestSuite#value1}" key="${#TestSuite#item1}"/>
            <wsc:item value="${#TestSuite#agreementIdOnlyView}" key="${#TestSuite#item2}"/>
            <wsc:item value="${#TestSuite#value3}" key="${#TestSuite#item3}"/>
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentAuthorizationCreateRequest>
         <urn:cpsAuthorizationMessage>
            <urn1:cpsUserAuthorizationData>
               <urn2:agreementData>
                  <urn2:agreementId>${#TestSuite#agreementIdOnlyView}</urn2:agreementId>
                  <!--Optional:-->
                  <urn2:bankId>${#TestSuite#orgid}</urn2:bankId>
                  <urn2:customerID>${#TestSuite#customeridOnlyView}</urn2:customerID>
                  <urn2:productID>123423</urn2:productID>
                  <!--Optional:-->
                  <!--1 or more repetitions:-->
                  <urn2:migrationDate>2020-08-02+05:00</urn2:migrationDate>
                  <urn2:corporateGrouping>
                     <urn2:customerId>${#TestSuite#customeridOnlyView}</urn2:customerId>
                     <urn2:agreementId>${#TestSuite#agreementIdOnlyView}</urn2:agreementId>
                     <!--Optional:-->
                     <urn2:b2bPollingEnabled>false</urn2:b2bPollingEnabled>
                  </urn2:corporateGrouping>
                  <!--Zero or more repetitions:-->
                  <urn2:agreementAccount>
                     <urn2:accountNumber>${#TestSuite#debitAccount}</urn2:accountNumber>
                     <urn2:accountOwnerIdentifier>${#TestSuite#customeridOnlyView}</urn2:accountOwnerIdentifier>
                     <!--Optional:-->
                     <urn2:currencyCode>${#TestSuite#debitAcntccy}</urn2:currencyCode>
                     <urn2:accountType>CoreAccount</urn2:accountType>
                     <urn2:numberOfVerifiers>0</urn2:numberOfVerifiers>
                     <urn2:numberOfApprovers>1</urn2:numberOfApprovers>
                     <!--Optional:-->
                     <urn2:access>CREDIT_AND_DEBIT</urn2:access>
                  </urn2:agreementAccount>
               </urn2:agreementData>
               <urn2:userData>
                  <urn2:userId>${#TestSuite#useridOnlyView}</urn2:userId>
                  <!--Optional:-->
                  <urn2:sessionID>123</urn2:sessionID>
                  <urn2:firstName>firstName</urn2:firstName>
                  <urn2:lastName>lastName</urn2:lastName>
                  <!--Optional:-->
                  <urn2:socialSecurityNumber>${#TestSuite#customeridOnlyView}</urn2:socialSecurityNumber>
                  <!--Zero or more repetitions:-->
                  <urn2:userAccount>
                     <urn2:accountNumber>${#TestSuite#debitAccount}</urn2:accountNumber>
                     <!--Optional:-->
                     <!--Zero or more repetitions:-->
                     <!--Optional:-->
                     <urn2:role>View</urn2:role>
                     <urn2:bookingLevel>D</urn2:bookingLevel>
                     <urn2:approvalLimit>999999</urn2:approvalLimit>
                     <urn2:registerLimit>999999</urn2:registerLimit>
                  </urn2:userAccount>
                  <!--Zero or more repetitions:-->
               </urn2:userData>
            </urn1:cpsUserAuthorizationData>
         </urn:cpsAuthorizationMessage>
      </urn:PaymentAuthorizationCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="Schema Compliance" id="32d275d6-62b1-466a-b55e-73971ebdf058" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="XPath Match" id="60d840da-e3b0-467a-b466-da711d608d33" name="Match content of [ErrorCode]">
          <con:configuration>
            <path>${#Response#//*:ErrorCode}</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig version="200508" mustUnderstand="NONE" action="urn:pins.payment.evry.com:ws:paymentauthorization:v1_3/PINSPaymentAuthorization_V1_3PortType/PaymentAuthorizationCreateRequest"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:tagId>4fefece0-9245-4aec-9ea9-a352fac6e438</con:tagId>
</con:testCase>
