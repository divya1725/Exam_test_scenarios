<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="3623c115-8561-4fc5-b1aa-2c84b0a5b325" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="BatchExecution_BM_NORMAL" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="3623c115-8561-4fc5-b1aa-2c84b0a5b325fileName">BatchExecution_BM_NORMAL</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="properties" name="Properties" id="53869884-c063-49a3-977f-33d5c945f754">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>POR1OutputFile</con:name>
          <con:value>por-reservation_4701_20210609142706432.xml</con:value>
        </con:property>
        <con:property>
          <con:name>FTSLastModifiedDate</con:name>
          <con:value>1623241697</con:value>
        </con:property>
        <con:property>
          <con:name>FTSResponseFile</con:name>
          <con:value>pen_FILE_OF_RESERVATIONS_210609142748498.xml</con:value>
        </con:property>
        <con:property>
          <con:name>FTS_Destination_Masked</con:name>
          <con:value>FTS_V</con:value>
        </con:property>
        <con:property>
          <con:name>POR1LastModifiedTime</con:name>
          <con:value>1623241585</con:value>
        </con:property>
        <con:property>
          <con:name>marketType</con:name>
          <con:value>BM</con:value>
        </con:property>
        <con:property>
          <con:name>jobRunType</con:name>
          <con:value>NORMAL</con:value>
        </con:property>
        <con:property>
          <con:name>CapitalOutputFile</con:name>
          <con:value>por-capital_4701_20210205124229383.xml</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="UpdateDueDateTransactions" id="a0098ece-e64a-43b5-a4b8-42253194ae29">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWH</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>jdbc:oracle:thin:pwhdata/pwh@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=dlt-exa853-scan.unix.cosng.net)(PORT=1530)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=pwh_g_s1_19c)))</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>Update TRANSACTIONS 
set REQUESTEDEXECUTIONDATE = '${= java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern("dd-MMM-yy")).toString()}',
RELEASEDATE = '${= java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern("dd-MMM-yy")).toString()}' 
where 
PAYMENT_REF in (${#[Fisk Testcases]#transactionsIdsBM})</con:query>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="setPORSchemaFree" id="62c3717a-edef-4980-94b8-9fc59922d9ed">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWH</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>jdbc:oracle:thin:pwhdata/pwh@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=dlt-exa853-scan.unix.cosng.net)(PORT=1530)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=pwh_g_s1_19c)))</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>update CTL_BATCH_RUN_SCHEMA set STATUS = 'FREE' where SCHEMA_NAME in (select SCHEMA_NAME from CTL_BATCH_RUN_SCHEMA  order by START_TIMESTAMP asc fetch first 1 rows only)</con:query>
      <con:assertion type="JDBC Status" id="5a4aec68-6ce1-4ea9-a6c5-9c6aba3cfedd" name="JDBC Status"/>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="PORBatchJobRun" id="36ebbec9-f50f-485f-9adf-1385af875b61">
    <con:settings/>
    <con:config><script>def strHost = context.expand( '${#Project#EBSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )
def marketType = context.expand( '${Properties#marketType}' )
marketType = marketType.toUpperCase()
def jobRunType = context.expand( '${Properties#jobRunType}' )
jobRunType = jobRunType.toUpperCase()

String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)
log.info ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort))

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Running the batch...."

def nextDate =  new Date() ;
nextDate =java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern('yyyy/MM/dd'))
//nextDate = nextDate.format("yyyy/MM/dd")
def runId = new Date()
//runId = runId.format("YYYY-MM-dd'T'HH:mm:ss.SSSSSSSSS")
runId=java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern("YYYY-MM-dd'T'HH:mm:ss.SSSSSSSSS"))

//String shParameter = "pwhFraudRevalidationProcess.sh classpath:spring/pwh-fraud-revalidation-job-batch-context.xml pwhFraudRevalidationProcess paymentStatuses=\"RFDD,LAFU,TERE\" releaseDate=${nextDate} banksInProcess=\"4201\" 2>&amp;1"
String shParameter = "porCommonReservationLauncher.sh processLine=ADV_CREDIT_RESV_RTS paymentStatuses=RFDD,LAFU releaseDate=${nextDate} jobRunType=$jobRunType porType=CompletePOR banksInProcess=4701 marketType=$marketType runId=$runId"
log.info "shParameter-->$shParameter"
String CommandOutPut = ServerConnect.execBatchCommand(env , "pin" ,shParameter)	


log.info "shParameter : "+shParameter
log.info "CommandOutput returned-->" + CommandOutPut
ServerConnect.closeConnection()
def porSuccessMessage1 = 'POR reservation job completed'
def porSuccessMessage2 ='POR reservation job went OK'

assert (CommandOutPut.trim() != "" &amp;&amp; (CommandOutPut.contains(porSuccessMessage1) ||  CommandOutPut.contains(porSuccessMessage2))), "CommandLine OutPut having error!!, Executed command :" + CommandOutPut

String POR1LastModifiedTime = System.currentTimeMillis().toString().substring(0,10)
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("POR1LastModifiedTime","$POR1LastModifiedTime")
log.info 'sa'</script></con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay0" id="c51d963b-5156-443a-bb57-05b4cbb5d236">
    <con:settings/>
    <con:config>
      <delay>10000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="POR-Status WERE" id="4f5f00e2-5152-4294-95a3-9dab4fe96d8a">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWH</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>jdbc:oracle:thin:pwhdata/pwh@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=dlt-exa853-scan.unix.cosng.net)(PORT=1530)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=pwh_g_s1_19c)))</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>select * from TRANSACTIONS where 
PAYMENT_REF in (${#[Fisk Testcases]#transactionsIdsBM})</con:query>
      <con:assertion type="MessageContentAssertion" id="590f5ef0-f956-4cf4-a79f-287233e84105" name="Message Content Assertion" disabled="true"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>//Results[1]/ResultSet[1]/@fetchSize</con:xpath><con:element>@fetchSize</con:element><con:type/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>10</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/@rowNumber</con:xpath><con:element>@rowNumber</con:element><con:type/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/TRANSACTIONSID[1]</con:xpath><con:element>TRANSACTIONSID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>260756613</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/ENDTOENDID[1]</con:xpath><con:element>ENDTOENDID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>endtoend_09621042646</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/FK_PAYMENTINFOID[1]</con:xpath><con:element>FK_PAYMENTINFOID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>983488</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INSTRUCTEDAMOUNT[1]</con:xpath><con:element>INSTRUCTEDAMOUNT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1.3</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INSTRUCTEDAMOUNTCCY[1]</con:xpath><con:element>INSTRUCTEDAMOUNTCCY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NOK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EQUIVALENTAMOUNT[1]</con:xpath><con:element>EQUIVALENTAMOUNT</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EQUIVALENTAMOUNTCCY[1]</con:xpath><con:element>EQUIVALENTAMOUNTCCY</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EQUIVALENTAMOUNT_CCYOFTRF[1]</con:xpath><con:element>EQUIVALENTAMOUNT_CCYOFTRF</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INSTRUCTIONID[1]</con:xpath><con:element>INSTRUCTIONID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Exceeddays_09621042646.FISK_P1T1</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EXCHANGERATE[1]</con:xpath><con:element>EXCHANGERATE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/RATETYPE[1]</con:xpath><con:element>RATETYPE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/UNITCURRENCY[1]</con:xpath><con:element>UNITCURRENCY</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CONTRACTID[1]</con:xpath><con:element>CONTRACTID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CHARGEBEARER[1]</con:xpath><con:element>CHARGEBEARER</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INSTRFORDBTRAGT[1]</con:xpath><con:element>INSTRFORDBTRAGT</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PURPOSE_CODE[1]</con:xpath><con:element>PURPOSE_CODE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PURPOSE_PRTRY[1]</con:xpath><con:element>PURPOSE_PRTRY</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENTTYPE[1]</con:xpath><con:element>PAYMENTTYPE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>DOMS</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENTSTATUS[1]</con:xpath><con:element>PAYMENTSTATUS</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>WFRE</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/SEPA[1]</con:xpath><con:element>SEPA</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBITAMOUNTAMT[1]</con:xpath><con:element>DEBITAMOUNTAMT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1.3</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBITAMOUNTCCY[1]</con:xpath><con:element>DEBITAMOUNTCCY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NOK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITAMOUNTAMT[1]</con:xpath><con:element>CREDITAMOUNTAMT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1.3</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITAMOUNTCCY[1]</con:xpath><con:element>CREDITAMOUNTCCY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NOK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBITCOUNTERVALUEAMT[1]</con:xpath><con:element>DEBITCOUNTERVALUEAMT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1.3</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBITCOUNTERVALUECCY[1]</con:xpath><con:element>DEBITCOUNTERVALUECCY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NOK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITCOUNTERVALUEAMT[1]</con:xpath><con:element>CREDITCOUNTERVALUEAMT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1.3</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITCOUNTERVALUECCY[1]</con:xpath><con:element>CREDITCOUNTERVALUECCY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NOK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EXCHANGERATEVALUE[1]</con:xpath><con:element>EXCHANGERATEVALUE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EXCHANGERATETYPE[1]</con:xpath><con:element>EXCHANGERATETYPE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NONE</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/MARKETPRODUCTCHARGEAMT[1]</con:xpath><con:element>MARKETPRODUCTCHARGEAMT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1.5</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/MARKETPRODUCTCHARGECCY[1]</con:xpath><con:element>MARKETPRODUCTCHARGECCY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NOK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/MARKETPRODUCTNAME[1]</con:xpath><con:element>MARKETPRODUCTNAME</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PI Domestic</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CATEGORYPURPOSECODE[1]</con:xpath><con:element>CATEGORYPURPOSECODE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INSTRUCTIONPRIORITY[1]</con:xpath><con:element>INSTRUCTIONPRIORITY</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NORM</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/ISPC[1]</con:xpath><con:element>ISPC</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PAYCTDOMOUPSME</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/FK_PROCESSINGLINEID[1]</con:xpath><con:element>FK_PROCESSINGLINEID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>54</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/HIDDEN[1]</con:xpath><con:element>HIDDEN</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/RISKSTATUS[1]</con:xpath><con:element>RISKSTATUS</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INTERNALNOTE[1]</con:xpath><con:element>INTERNALNOTE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/FIRSTLACKOFFUNDSMESSAGESENT[1]</con:xpath><con:element>FIRSTLACKOFFUNDSMESSAGESENT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/AGREEMENTTYPE[1]</con:xpath><con:element>AGREEMENTTYPE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/AGREEMENTID[1]</con:xpath><con:element>AGREEMENTID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/AGREEMENTVERSION[1]</con:xpath><con:element>AGREEMENTVERSION</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CONFIDENTIAL[1]</con:xpath><con:element>CONFIDENTIAL</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/SERVICELEVEL[1]</con:xpath><con:element>SERVICELEVEL</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INVOICEREFERENCE[1]</con:xpath><con:element>INVOICEREFERENCE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PROVIDERID[1]</con:xpath><con:element>PROVIDERID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/BRANDID[1]</con:xpath><con:element>BRANDID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/BOOKINGLEVEL[1]</con:xpath><con:element>BOOKINGLEVEL</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>B</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITTEXTCODE[1]</con:xpath><con:element>CREDITTEXTCODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>521</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBITTEXTCODE[1]</con:xpath><con:element>DEBITTEXTCODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>520</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PRIORITIZED[1]</con:xpath><con:element>PRIORITIZED</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INITIATORBANKID[1]</con:xpath><con:element>INITIATORBANKID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>4701</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBETACCOUNTNO[1]</con:xpath><con:element>DEBETACCOUNTNO</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>45090858053</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBETACCOUNTNOISIBAN[1]</con:xpath><con:element>DEBETACCOUNTNOISIBAN</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/RELEASEDATE[1]</con:xpath><con:element>RELEASEDATE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-09 00:00:00</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/REQUESTEDEXECUTIONDATE[1]</con:xpath><con:element>REQUESTEDEXECUTIONDATE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-09 00:00:00</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENT_REF[1]</con:xpath><con:element>PAYMENT_REF</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>260756613</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/RECEIPTORDER[1]</con:xpath><con:element>RECEIPTORDER</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>NONE</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/STATUSCHANGETIME[1]</con:xpath><con:element>STATUSCHANGETIME</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-09 13:01:30.018998</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EINVOICEOWNERID[1]</con:xpath><con:element>EINVOICEOWNERID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PRODUCT_FAMILY_NAME[1]</con:xpath><con:element>PRODUCT_FAMILY_NAME</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Domestic Out</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PRODUCT_GROUP_NAME[1]</con:xpath><con:element>PRODUCT_GROUP_NAME</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Clean Payment Credit Transfer</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PRODUCT_AREA_NAME[1]</con:xpath><con:element>PRODUCT_AREA_NAME</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Payment</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PROCESSINGBANKORGID[1]</con:xpath><con:element>PROCESSINGBANKORGID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>4701</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PEPROCESSINGLINE[1]</con:xpath><con:element>PEPROCESSINGLINE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PE_DOM_OUT</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBETACCOUNTNOIBAN[1]</con:xpath><con:element>DEBETACCOUNTNOIBAN</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEB_TXN_DOMAIN_CODE[1]</con:xpath><con:element>DEB_TXN_DOMAIN_CODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PMNT</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEB_TXN_FAMILY_CODE[1]</con:xpath><con:element>DEB_TXN_FAMILY_CODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>ICDT</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEB_TXN_SUBFAMILY_CODE[1]</con:xpath><con:element>DEB_TXN_SUBFAMILY_CODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PSMG</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CRED_TXN_DOMAIN_CODE[1]</con:xpath><con:element>CRED_TXN_DOMAIN_CODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PMNT</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CRED_TXN_FAMILY_CODE[1]</con:xpath><con:element>CRED_TXN_FAMILY_CODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>RCDT</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CRED_TXN_SUBFAMILY_CODE[1]</con:xpath><con:element>CRED_TXN_SUBFAMILY_CODE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>PSMG</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBIT_BOOKING_ID[1]</con:xpath><con:element>DEBIT_BOOKING_ID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DUPLICATECHECKNEEDED[1]</con:xpath><con:element>DUPLICATECHECKNEEDED</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/TRANSFER_IN_SAME_BANK[1]</con:xpath><con:element>TRANSFER_IN_SAME_BANK</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Y</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/LASTFRAUDCHECKDATE[1]</con:xpath><con:element>LASTFRAUDCHECKDATE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-09 12:57:37.794028</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENTORDERDATE[1]</con:xpath><con:element>PAYMENTORDERDATE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-10 00:00:00</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/ACTIVITY_PERIOD[1]</con:xpath><con:element>ACTIVITY_PERIOD</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-30 00:00:00</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/NON_STP_BANK[1]</con:xpath><con:element>NON_STP_BANK</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/NON_STP_CUSTOMER[1]</con:xpath><con:element>NON_STP_CUSTOMER</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CANCEL_FLAG[1]</con:xpath><con:element>CANCEL_FLAG</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/REFERENCE_TRANSACTION_ID[1]</con:xpath><con:element>REFERENCE_TRANSACTION_ID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/NOTIFY_CREDIT_POSTING[1]</con:xpath><con:element>NOTIFY_CREDIT_POSTING</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DIRECTION[1]</con:xpath><con:element>DIRECTION</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>OUTWARD</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENT_SUB_STATUS[1]</con:xpath><con:element>PAYMENT_SUB_STATUS</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/FORCE_FUND[1]</con:xpath><con:element>FORCE_FUND</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/WB_FLAG[1]</con:xpath><con:element>WB_FLAG</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/LAST_UPDATED_TIME[1]</con:xpath><con:element>LAST_UPDATED_TIME</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/AUTHORITY_REPORTING_CODE[1]</con:xpath><con:element>AUTHORITY_REPORTING_CODE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/REF_TRANSACTION_DIRECTION[1]</con:xpath><con:element>REF_TRANSACTION_DIRECTION</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/REFERENCE_PAYMENT_REF[1]</con:xpath><con:element>REFERENCE_PAYMENT_REF</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBIT_VALUE_DATE_RULE[1]</con:xpath><con:element>DEBIT_VALUE_DATE_RULE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>DAY0</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDIT_VALUE_DATE_RULE[1]</con:xpath><con:element>CREDIT_VALUE_DATE_RULE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>CUT0</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EXCHANGERATEVALUE_MIDRATE[1]</con:xpath><con:element>EXCHANGERATEVALUE_MIDRATE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/UETR_ID[1]</con:xpath><con:element>UETR_ID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>3bcf5c2c-2fad-4c88-8894-d0ee59327891</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EINVOICETYPE[1]</con:xpath><con:element>EINVOICETYPE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INITIATEDDEBITVALUEDATE[1]</con:xpath><con:element>INITIATEDDEBITVALUEDATE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INITIATEDCREDITVALUEDATE[1]</con:xpath><con:element>INITIATEDCREDITVALUEDATE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/EXCHANGERATEUNIT[1]</con:xpath><con:element>EXCHANGERATEUNIT</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITEXCHANGERATE[1]</con:xpath><con:element>CREDITEXCHANGERATE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITEXCHANGERATETYPE[1]</con:xpath><con:element>CREDITEXCHANGERATETYPE</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDITEXCHANGERATEUNIT[1]</con:xpath><con:element>CREDITEXCHANGERATEUNIT</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CHARGE_AGREEMENT_IDENTIFIED_AT[1]</con:xpath><con:element>CHARGE_AGREEMENT_IDENTIFIED_AT</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/ACCUMULATION_AGREEMENT_ID[1]</con:xpath><con:element>ACCUMULATION_AGREEMENT_ID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/CREDIT_BOOKING_ID[1]</con:xpath><con:element>CREDIT_BOOKING_ID</con:element><con:type xsi:nil="true"/><con:operator>exists</con:operator><con:enabled>false</con:enabled><con:expectedValue xsi:nil="true"/><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/SKKOTYPE[1]</con:xpath><con:element>SKKOTYPE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>N</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<Results>
   <ResultSet fetchSize="10">
      <Row rowNumber="1">
         <TRANSACTIONSID>260756613</TRANSACTIONSID>
         <ENDTOENDID>endtoend_09621042646</ENDTOENDID>
         <FK_PAYMENTINFOID>983488</FK_PAYMENTINFOID>
         <INSTRUCTEDAMOUNT>1.3</INSTRUCTEDAMOUNT>
         <INSTRUCTEDAMOUNTCCY>NOK</INSTRUCTEDAMOUNTCCY>
         <EQUIVALENTAMOUNT/>
         <EQUIVALENTAMOUNTCCY/>
         <EQUIVALENTAMOUNT_CCYOFTRF/>
         <INSTRUCTIONID>Exceeddays_09621042646.FISK_P1T1</INSTRUCTIONID>
         <EXCHANGERATE/>
         <RATETYPE/>
         <UNITCURRENCY/>
         <CONTRACTID/>
         <CHARGEBEARER/>
         <INSTRFORDBTRAGT/>
         <PURPOSE_CODE/>
         <PURPOSE_PRTRY/>
         <PAYMENTTYPE>DOMS</PAYMENTTYPE>
         <PAYMENTSTATUS>WFRE</PAYMENTSTATUS>
         <SEPA>N</SEPA>
         <DEBITAMOUNTAMT>1.3</DEBITAMOUNTAMT>
         <DEBITAMOUNTCCY>NOK</DEBITAMOUNTCCY>
         <CREDITAMOUNTAMT>1.3</CREDITAMOUNTAMT>
         <CREDITAMOUNTCCY>NOK</CREDITAMOUNTCCY>
         <DEBITCOUNTERVALUEAMT>1.3</DEBITCOUNTERVALUEAMT>
         <DEBITCOUNTERVALUECCY>NOK</DEBITCOUNTERVALUECCY>
         <CREDITCOUNTERVALUEAMT>1.3</CREDITCOUNTERVALUEAMT>
         <CREDITCOUNTERVALUECCY>NOK</CREDITCOUNTERVALUECCY>
         <EXCHANGERATEVALUE>1</EXCHANGERATEVALUE>
         <EXCHANGERATETYPE>NONE</EXCHANGERATETYPE>
         <MARKETPRODUCTCHARGEAMT>1.5</MARKETPRODUCTCHARGEAMT>
         <MARKETPRODUCTCHARGECCY>NOK</MARKETPRODUCTCHARGECCY>
         <MARKETPRODUCTNAME>PI Domestic</MARKETPRODUCTNAME>
         <CATEGORYPURPOSECODE/>
         <INSTRUCTIONPRIORITY>NORM</INSTRUCTIONPRIORITY>
         <ISPC>PAYCTDOMOUPSME</ISPC>
         <FK_PROCESSINGLINEID>54</FK_PROCESSINGLINEID>
         <HIDDEN>N</HIDDEN>
         <RISKSTATUS/>
         <INTERNALNOTE/>
         <FIRSTLACKOFFUNDSMESSAGESENT>N</FIRSTLACKOFFUNDSMESSAGESENT>
         <AGREEMENTTYPE/>
         <AGREEMENTID/>
         <AGREEMENTVERSION/>
         <CONFIDENTIAL>N</CONFIDENTIAL>
         <SERVICELEVEL/>
         <INVOICEREFERENCE/>
         <PROVIDERID/>
         <BRANDID/>
         <BOOKINGLEVEL>B</BOOKINGLEVEL>
         <CREDITTEXTCODE>521</CREDITTEXTCODE>
         <DEBITTEXTCODE>520</DEBITTEXTCODE>
         <PRIORITIZED>N</PRIORITIZED>
         <INITIATORBANKID>4701</INITIATORBANKID>
         <DEBETACCOUNTNO>45090858053</DEBETACCOUNTNO>
         <DEBETACCOUNTNOISIBAN>N</DEBETACCOUNTNOISIBAN>
         <RELEASEDATE>2021-06-09 00:00:00</RELEASEDATE>
         <REQUESTEDEXECUTIONDATE>2021-06-09 00:00:00</REQUESTEDEXECUTIONDATE>
         <PAYMENT_REF>260756613</PAYMENT_REF>
         <RECEIPTORDER>NONE</RECEIPTORDER>
         <STATUSCHANGETIME>2021-06-09 13:01:30.018998</STATUSCHANGETIME>
         <EINVOICEOWNERID/>
         <PRODUCT_FAMILY_NAME>Domestic Out</PRODUCT_FAMILY_NAME>
         <PRODUCT_GROUP_NAME>Clean Payment Credit Transfer</PRODUCT_GROUP_NAME>
         <PRODUCT_AREA_NAME>Payment</PRODUCT_AREA_NAME>
         <PROCESSINGBANKORGID>4701</PROCESSINGBANKORGID>
         <PEPROCESSINGLINE>PE_DOM_OUT</PEPROCESSINGLINE>
         <DEBETACCOUNTNOIBAN/>
         <DEB_TXN_DOMAIN_CODE>PMNT</DEB_TXN_DOMAIN_CODE>
         <DEB_TXN_FAMILY_CODE>ICDT</DEB_TXN_FAMILY_CODE>
         <DEB_TXN_SUBFAMILY_CODE>PSMG</DEB_TXN_SUBFAMILY_CODE>
         <CRED_TXN_DOMAIN_CODE>PMNT</CRED_TXN_DOMAIN_CODE>
         <CRED_TXN_FAMILY_CODE>RCDT</CRED_TXN_FAMILY_CODE>
         <CRED_TXN_SUBFAMILY_CODE>PSMG</CRED_TXN_SUBFAMILY_CODE>
         <DEBIT_BOOKING_ID/>
         <DUPLICATECHECKNEEDED/>
         <TRANSFER_IN_SAME_BANK>Y</TRANSFER_IN_SAME_BANK>
         <LASTFRAUDCHECKDATE>2021-06-09 12:57:37.794028</LASTFRAUDCHECKDATE>
         <PAYMENTORDERDATE>2021-06-10 00:00:00</PAYMENTORDERDATE>
         <ACTIVITY_PERIOD>2021-06-30 00:00:00</ACTIVITY_PERIOD>
         <NON_STP_BANK/>
         <NON_STP_CUSTOMER/>
         <CANCEL_FLAG/>
         <REFERENCE_TRANSACTION_ID/>
         <NOTIFY_CREDIT_POSTING/>
         <DIRECTION>OUTWARD</DIRECTION>
         <PAYMENT_SUB_STATUS/>
         <FORCE_FUND>N</FORCE_FUND>
         <WB_FLAG>N</WB_FLAG>
         <LAST_UPDATED_TIME/>
         <AUTHORITY_REPORTING_CODE/>
         <REF_TRANSACTION_DIRECTION/>
         <REFERENCE_PAYMENT_REF/>
         <DEBIT_VALUE_DATE_RULE>DAY0</DEBIT_VALUE_DATE_RULE>
         <CREDIT_VALUE_DATE_RULE>CUT0</CREDIT_VALUE_DATE_RULE>
         <EXCHANGERATEVALUE_MIDRATE/>
         <UETR_ID>3bcf5c2c-2fad-4c88-8894-d0ee59327891</UETR_ID>
         <EINVOICETYPE/>
         <INITIATEDDEBITVALUEDATE/>
         <INITIATEDCREDITVALUEDATE/>
         <EXCHANGERATEUNIT>1</EXCHANGERATEUNIT>
         <CREDITEXCHANGERATE/>
         <CREDITEXCHANGERATETYPE/>
         <CREDITEXCHANGERATEUNIT/>
         <CHARGE_AGREEMENT_IDENTIFIED_AT/>
         <ACCUMULATION_AGREEMENT_ID/>
         <CREDIT_BOOKING_ID/>
         <SKKOTYPE>N</SKKOTYPE>
      </Row>
   </ResultSet>
</Results>]]></con:originalMessage></con:configuration></con:assertion><con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="DownloadPOR1OutputFile" id="6741aad1-a6e8-4163-b6ab-97a891e31ffe">
    <con:settings/>
    <con:config>
      <script>def strHost = context.expand( '${#Project#EBSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )
def projectPath = testRunner.getTestCase().testSuite.project.getPath()
def marketType = context.expand( '${Properties#marketType}' )
marketType = marketType.toLowerCase()
String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)

//String str = testRunner.testCase.getTestStepByName("Properties").getPropertyValue("POR1LastModifiedTime")
//int POR1LastModifiedTime = Integer.parseInt(str)

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Downloading...."

String source = "/ebs/$env/pin/data/fts/reservation/out/$marketType"
String destination = projectPath + File.separator + "data"

String POR1OutputFile = ""
try{
	POR1OutputFile = ServerConnect.getLatestFile(source,destination,0,log)
}catch(Exception ex){
	log.info "Error:" + ex
}

log.info "Uploading success!!  POR1OutputFile is $POR1OutputFile "
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("POR1OutputFile", POR1OutputFile)

ServerConnect.closeConnection()

assert POR1OutputFile != "", "FTS POR1OutputFile not created"</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="UploadToFTS" id="1a0a83df-2abd-43e8-90f9-9ec0f02e5f15">
    <con:settings/>
    <con:config>
      <script>def strHost = context.expand( '${#Project#FTSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )
def projectPath = testRunner.getTestCase().testSuite.project.getPath()

String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Uploading to FTS server...."

String sourceFolder = projectPath + File.separator + "data"
String destination = "/tn/t2/fts/data/in/pe/earmarking/pen"
File Localfolder = new File(sourceFolder)
def latestFile = ""

//Get latestModified file from "ProjectPath//data// "folder

//long lastModified = 0
//Localfolder.listFiles().each{ file ->
//if (file.lastModified() > lastModified )
//	{
//		lastModified = file.lastModified()
//		latestFile = file.absolutePath
//	}
//}
//
//log.info "latestFile:" + latestFile
latestFile = sourceFolder + File.separator  + testRunner.testCase.getTestStepByName("Properties").getPropertyValue("POR1OutputFile")

try{
	ServerConnect.uploadFile(latestFile,destination)
}catch(Exception ex){
	log.info "Error:" + ex
}
String FTSLastModifiedDate = System.currentTimeMillis().toString().substring(0,10)
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("FTSLastModifiedDate","$FTSLastModifiedDate")

log.info "Uploading success!!"
ServerConnect.closeConnection()</script>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay" id="2d7872cc-ce8e-4b8a-8cc0-cc870d4c1894">
    <con:settings/>
    <con:config>
      <delay>10000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="56839071-2c0f-4258-9295-a61251d4c6de" name="CAUCStartJob - RECEIVE_RESERVATION">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>CAUCJobSoapBinding</con:interface>
      <con:operation>CAUCStartJob</con:operation>
      <con:request name="CAUCStartJob - RECEIVE_RESERVATION" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" id="837df0b1-bb1c-4bb3-b011-975f26c8c97d" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#FTS_Masked_Batch_V}/fts/services/CAUCJobService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v10">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>CAUC_TEST</wsc:SourceApplication>
         <wsc:DestinationApplication>${Properties#FTS_Destination_Masked}</wsc:DestinationApplication>
         <wsc:Function>RECEIVE_RESERVATION</wsc:Function>
         <wsc:ClientContext>
            <wsc:userid>CAUC</wsc:userid>
            <wsc:credentials>CAUC</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>1802</wsc:orgid>
            <wsc:orgunit>1802</wsc:orgunit>
            <wsc:customerid>CAUC</wsc:customerid>
            <wsc:ip>192.168.1.1</wsc:ip>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <CAUCStartJob xmlns="http://edb.com/ws/cauc">
         <Command>RECEIVE_RESERVATION</Command>
         <CommandLine>-JobId 1234 -Destination pen/ -ReturnUrl NO_REPLY</CommandLine>
      </CAUCStartJob>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="0b9c26bf-0756-4346-9574-dae202b2ae34" name="SOAP Response"/>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay2" id="2dd70167-e7b3-41b8-b18f-3dc7582c5ec8">
    <con:settings/>
    <con:config>
      <delay>61000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="DownloadFTSResponseFile" id="d1c13509-fa81-4980-86e7-5accfcf042c6">
    <con:settings/>
    <con:config><script>def strHost = context.expand( '${#Project#FTSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )
def projectPath = testRunner.getTestCase().testSuite.project.getPath()

String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)

String str = testRunner.testCase.getTestStepByName("Properties").getPropertyValue("FTSLastModifiedDate")
int FTSLastModifiedDate = Integer.parseInt(str)

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Downloading from FTS!!...."

String source = "/tn/t2/fts/data/out/pe/earmarking/pen"
String destination = projectPath + File.separator + "data"
log.info destination
log.info source
String FTSResponseFile = ""
try{
	FTSResponseFile = ServerConnect.getLatestFile(source,destination,0,log)
	}
catch(Exception ex){
log.info "Error:" + ex
}

log.info "Downloading success!!  FTSResponseFile is $FTSResponseFile"
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("FTSResponseFile", FTSResponseFile)

ServerConnect.closeConnection()

assert FTSResponseFile != "", "FTS ResponseFile not created"</script></con:config>
  </con:testStep>
  <con:testStep type="groovy" name="CopyFTSResponseToEBS" id="a6e6028a-ea41-48a6-9a2f-bc126f14e4ed">
    <con:settings/>
    <con:config>
      <script>def strHost = context.expand( '${#Project#EBSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
strUsername = strUsername.toLowerCase()
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )
def projectPath = testRunner.getTestCase().testSuite.project.getPath()

String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Uploading to EBS  server...."

String sourceFolder = projectPath + File.separator + "data"
String destination = "/home/$strUsername"
File Localfolder = new File(sourceFolder)
def latestFile = ""

//Get latestModified file from "ProjectPath//data// "folder

//long lastModified = 0
//Localfolder.listFiles().each{ file ->
//if (file.lastModified() > lastModified )
//	{
//		lastModified = file.lastModified()
//		latestFile = file.absolutePath
//	}
//}
//
//log.info "latestFile:" + latestFile
latestFile = sourceFolder + File.separator  + testRunner.testCase.getTestStepByName("Properties").getPropertyValue("FTSResponseFile")
log.info "latestFile-->" + latestFile
try{
	log.info "upload to pOR2 is " + ServerConnect.uploadFile(latestFile,destination)
}catch(Exception ex){
	log.info "Error:" + ex
}

log.info "Uploading FTS res for POR2 success!!"
ServerConnect.closeConnection()</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="CopyFileForPOR2" id="f80cbe0d-0057-4c94-b907-b334de8bd303">
    <con:settings/>
    <con:config><script>def strHost = context.expand( '${#Project#EBSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )

String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)

/*if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"
*/

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Uploading to EBS  server...."

log.info "Copying file to POR2 folder...."

def por2FileName =  testRunner.testCase.getTestStepByName("Properties").getPropertyValue("FTSResponseFile")
log.info por2FileName
String shParameter = "echo $strPassword | sudo -S su - pin$env -c \"cp /home/$strPassword/$por2FileName /ebs/$env/pin/data/fts/reservation/in/por2\""
String CommandOutPut = ServerConnect.execCommand(shParameter)		

log.info "shParameter : "+shParameter
log.info "CommandOutput returned-->" + CommandOutPut
ServerConnect.closeConnection()


String FTSLastModifiedDate = System.currentTimeMillis().toString().substring(0,10)
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("FTSLastModifiedDate","$FTSLastModifiedDate")</script></con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay 3 2" id="f26023fe-0b93-433c-a04e-e675452a4e36">
    <con:settings/>
    <con:config><delay>10000</delay></con:config>
  </con:testStep>
  
  <con:testStep type="delay" name="Delay 3" id="5031ed55-d71b-4db5-be58-122c62ae062c">
    <con:settings/>
    <con:config><delay>1000</delay></con:config>
  </con:testStep><con:testStep type="jdbc" name="FISKTransactions_HST" id="c02bdba8-7a88-4e04-bb14-42a6ce1c259b">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>PWH</con:dbConnectionName>
      <con:driver>oracle.jdbc.driver.OracleDriver</con:driver>
      <con:connectionString>jdbc:oracle:thin:pwhdata/pwh@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=dlt-exa853-scan.unix.cosng.net)(PORT=1530)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=pwh_g_s1_19c)))</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>select  M.MESSAGEID,M.MESSAGEIDENTIFICATION,T.FK_PAYMENTINFOID,T.TRANSACTIONSID,T.bookinglevel,T.REQUESTEDEXECUTIONDATE,T.RELEASEDATE,T.TRANSFER_IN_SAME_BANK, M.INITIATORBANKID,T.FK_PROCESSINGLINEID,T.PEPROCESSINGLINE ,T.DEBETACCOUNTNO,T.PAYMENTSTATUS 
from HST_TRANSACTIONS T , Message M , PAYMENTINFO P  where 
M.messageid = P.FK_messageId and 
P.PAYMENTINFOID = T.FK_PAYMENTINFOID and
T.TRANSACTIONSID in
(${#[Fisk Testcases]#transactionsIdsBM})</con:query>
      <con:assertion type="JDBC Status" id="df3bb398-80de-48f6-b2b8-26bd0c3c9e0d" name="JDBC Status"/>
      
      <con:assertion type="MessageContentAssertion" id="947549f0-1281-4e14-ab68-7aeefb090109" name="Message Content Assertion"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>//Results[1]/ResultSet[1]/@fetchSize</con:xpath><con:element>@fetchSize</con:element><con:type/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>10</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/@rowNumber</con:xpath><con:element>@rowNumber</con:element><con:type/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/MESSAGEID[1]</con:xpath><con:element>MESSAGEID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>913859</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/MESSAGEIDENTIFICATION[1]</con:xpath><con:element>MESSAGEIDENTIFICATION</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Exceeddays_09621050010</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/FK_PAYMENTINFOID[1]</con:xpath><con:element>FK_PAYMENTINFOID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>983509</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/TRANSACTIONSID[1]</con:xpath><con:element>TRANSACTIONSID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>260756640</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/BOOKINGLEVEL[1]</con:xpath><con:element>BOOKINGLEVEL</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>B</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/REQUESTEDEXECUTIONDATE[1]</con:xpath><con:element>REQUESTEDEXECUTIONDATE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-09 00:00:00</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/RELEASEDATE[1]</con:xpath><con:element>RELEASEDATE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>2021-06-09 00:00:00</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/TRANSFER_IN_SAME_BANK[1]</con:xpath><con:element>TRANSFER_IN_SAME_BANK</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>Y</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/INITIATORBANKID[1]</con:xpath><con:element>INITIATORBANKID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>4701</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/FK_PROCESSINGLINEID[1]</con:xpath><con:element>FK_PROCESSINGLINEID</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>54</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PEPROCESSINGLINE[1]</con:xpath><con:element>PEPROCESSINGLINE</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>PE_DOM_OUT</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/DEBETACCOUNTNO[1]</con:xpath><con:element>DEBETACCOUNTNO</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>false</con:enabled><con:expectedValue>45090858053</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/PAYMENTSTATUS[1]</con:xpath><con:element>PAYMENTSTATUS</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>COMP</con:expectedValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<Results>
   <ResultSet fetchSize="10">
      <Row rowNumber="1">
         <MESSAGEID>913859</MESSAGEID>
         <MESSAGEIDENTIFICATION>Exceeddays_09621050010</MESSAGEIDENTIFICATION>
         <FK_PAYMENTINFOID>983509</FK_PAYMENTINFOID>
         <TRANSACTIONSID>260756640</TRANSACTIONSID>
         <BOOKINGLEVEL>B</BOOKINGLEVEL>
         <REQUESTEDEXECUTIONDATE>2021-06-09 00:00:00</REQUESTEDEXECUTIONDATE>
         <RELEASEDATE>2021-06-09 00:00:00</RELEASEDATE>
         <TRANSFER_IN_SAME_BANK>Y</TRANSFER_IN_SAME_BANK>
         <INITIATORBANKID>4701</INITIATORBANKID>
         <FK_PROCESSINGLINEID>54</FK_PROCESSINGLINEID>
         <PEPROCESSINGLINE>PE_DOM_OUT</PEPROCESSINGLINE>
         <DEBETACCOUNTNO>45090858053</DEBETACCOUNTNO>
         <PAYMENTSTATUS>COMP</PAYMENTSTATUS>
      </Row>
   </ResultSet>
</Results>]]></con:originalMessage></con:configuration></con:assertion><con:properties/>
    </con:config>
  </con:testStep><con:testStep type="groovy" name="CopyCapitalResponseFile" id="9680de58-4a50-4174-9fc7-d65a418c3939">
    <con:settings/>
    <con:config>
      <script>def strHost = context.expand( '${#Project#EBSHost}' )
def strUsername = context.expand( '${#Project#UserName}' )
def strPassword = context.expand( '${#Project#Password}' )
def  intPort = context.expand( '${#Project#Port}' )
def projectPath = testRunner.getTestCase().testSuite.project.getPath()
def marketType = context.expand( '${Properties#marketType}' )
marketType = marketType.toLowerCase()
String env = testRunner.testCase.testSuite.project.getActiveEnvironmentName().toLowerCase()
env = env.toString().substring(2)

String str = testRunner.testCase.getTestStepByName("Properties").getPropertyValue("FTSLastModifiedDate")
int FTSLastModifiedDate = Integer.parseInt(str)

if (!(ServerConnect.Connect(strHost ,strUsername, strPassword, Integer.parseInt(intPort)) == "PASS"))
	assert false," Failed to conenct to linux server!!"
else
 log.info "Connected to the server successfully!!"

log.info "Downloading...."

String source = "/ebs/$env/pin/data/fts/capital/out/$marketType"
String destination = projectPath + File.separator + "data"

String capitalOutputFile = ""
try{
	capitalOutputFile = ServerConnect.getLatestFile(source,destination,FTSLastModifiedDate,log)
}catch(Exception ex){
	log.info "Error:" + ex
}

log.info "Downloading success!!  capitalOutputFile is $capitalOutputFile "
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("CapitalOutputFile", capitalOutputFile)

ServerConnect.closeConnection()

assert capitalOutputFile != "", "FTS capitalOutputFile not created"</script>
    </con:config>
  </con:testStep><con:setupScript>testCase.getTestStepByName("Properties").setPropertyValue("POR1OutputFile", "")
testCase.getTestStepByName("Properties").setPropertyValue("FTSLastModifiedDate", "")
testCase.getTestStepByName("Properties").setPropertyValue("FTSResponseFile", "")
testCase.getTestStepByName("Properties").setPropertyValue("POR1LastModifiedTime", "")</con:setupScript>
  <con:properties>
    <con:property>
      <con:name>map</con:name>
      <con:value>[a:a1, b:b2]</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>5381cf85-0f4b-4cb3-908b-fd81d738c6da</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>72ba828d-d1a7-48f8-b672-71288be2ad10</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>94085c43-2faf-427c-afc8-e1f78c1d1285</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cdcb5c32-dac5-4bb7-b37e-e89f6dc868b2</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f1cca34d-7c16-487f-a2bb-4a706de3531a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>54c926c4-5073-4beb-b8b2-ba4628702ae4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a539de08-b666-4fe9-9636-fb9b9eabba66</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>72c9e7e6-b833-4294-abcd-6c0481b897cd</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4f6afbce-b605-4838-a5fc-8d48dde99963</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>18f7d99a-6a92-4f29-bfbf-825cc01087fe</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e4a54adb-f6f0-4532-9c90-3f755a97e3db</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ce642f55-9aab-4401-9507-7846f445c6d0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>392ae598-956c-4426-8253-543059469364</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a0098ece-e64a-43b5-a4b8-42253194ae29</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
<con:breakPoints><con:testStepId>53869884-c063-49a3-977f-33d5c945f754</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>4f5f00e2-5152-4294-95a3-9dab4fe96d8a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>f26023fe-0b93-433c-a04e-e675452a4e36</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>