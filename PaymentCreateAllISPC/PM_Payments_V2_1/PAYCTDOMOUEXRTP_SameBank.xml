<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="f272e29f-564f-4c20-af2f-6cb75b561cab" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="PAYCTDOMOUEXRTP_SameBank" searchProperties="true" timeout="0" disabled="true" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Domestic Real Time External Payment Out negative scenario

PAYMENTTYPE: NRTP	ISPC:PAYCTDOMOUEXRTP	PAYMENT_CLASSIFICATION: Domestic	ISEDITABLE:N</con:description>
  <con:settings>
    <con:setting id="efe04258-2c3e-4622-8fb1-62e2810bc574fileName">PAYCTDOMOUEXRTP_SameBank</con:setting>
  <con:setting id="f272e29f-564f-4c20-af2f-6cb75b561cabfileName">PAYCTDOMOUEXRTP_SameBank</con:setting></con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" id="8bea4168-45ef-495d-a570-d2acc154bb23" name="PaymentCreate">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PINSPayment_V2_0PortTypeSoap11</con:interface>
      <con:operation>PaymentCreate</con:operation>
      <con:request name="PaymentCreate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="695c9e85-d2cf-4922-8678-bf6a74d755f7">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>http://${#Project#pays.url}/pin/services/PINSPayment_V2_0</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn="urn:pins.payment.evry.com:ws:paymentinitiation:v2_0" xmlns:urn1="urn:pins.payment.evry.com:domain:paymentinitiation:v2_0" xmlns:urn2="urn:pins.payment.evry.com:domain:complex-types:v2_0" xmlns:urn3="urn:pins.payment.evry.com:domain:debtor:v2_0" xmlns:urn4="urn:pins.payment.evry.com:domain:creditor:v2_0">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>V2.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>04058501072</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>04058501072</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="INT" key="${#TestSuite#item1}"/>
<!--            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>-->
<!--            <wsc:item value="true" key="${#TestSuite#item3}"/>-->
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentCreateRequest>
         <urn:paymentMessage>
            <urn1:paymentIdentification>
               <urn2:messageIdentification>${=Math.abs(new Random().nextInt() % 6000000) + 1}</urn2:messageIdentification><urn2:endToEndIdentification>${#TestSuite#endtoendID}</urn2:endToEndIdentification>
               <!--Optional:-->
               
            </urn1:paymentIdentification>
            <urn1:paymentInfo>
               <urn3:paymentMethod>TRF</urn3:paymentMethod>
               <!--Optional:-->
               <urn3:paymentTypeInformation>
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <urn3:serviceLevel>NRTP</urn3:serviceLevel><urn3:categoryPurpose>SUPP</urn3:categoryPurpose>
               </urn3:paymentTypeInformation>
               <!--You have a CHOICE of the next 2 items at this level-->
               
               <urn3:requestedExecutionDate>${#TestSuite#ReqExnDate}</urn3:requestedExecutionDate><urn3:debtorAccount>
                  <urn2:identification>42020261298</urn2:identification>
                  <!--Optional:-->
                  <urn2:currency>NOK</urn2:currency>
               </urn3:debtorAccount>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:paymentInfo>
            <urn1:transaction>
               <urn4:amount>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn2:instructedAmount currency="NOK">
                     <urn2:amount>10</urn2:amount>
                  </urn2:instructedAmount>
               </urn4:amount>
               <!--Optional:-->
               <!--Optional:-->
               <urn4:chargeBearer>DEBT</urn4:chargeBearer>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <urn4:creditorAgent><urn2:postalAddress><urn2:country>NO</urn2:country></urn2:postalAddress></urn4:creditorAgent><urn4:creditor><urn2:name>cred</urn2:name><urn2:postalAddress><urn2:country>NO</urn2:country></urn2:postalAddress></urn4:creditor><urn4:creditorAccount>
                  <urn2:identification>42123499268</urn2:identification>
                  <!--Optional:-->
               </urn4:creditorAccount>
               <!--Optional:-->
               <!--Zero or more repetitions:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:transaction><urn1:autoConfirm>ENABLED_FORCE_ON_WARNINGS</urn1:autoConfirm>
            
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
         </urn:paymentMessage>
      </urn:PaymentCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="MessageContentAssertion" id="4c1bdd5b-6ab2-47b9-9829-da70cc345d34" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:domain:common:v2_0';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:ErrorCode[1]</con:xpath>
              <con:element>ErrorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:domain:common:v2_0';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:Severity[1]</con:xpath>
              <con:element>Severity</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>0</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:domain:common:v2_0';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:ComponentId[1]</con:xpath>
              <con:element>ComponentId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>111</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:domain:common:v2_0';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:Message[1]</con:xpath>
              <con:element>Message</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>OK</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:domain:common:v2_0';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:LogSequence[1]</con:xpath>
              <con:element>LogSequence</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://edb.com/ws/WSCommon_v22';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
declare namespace ns4='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns3='urn:pins.payment.evry.com:domain:common:v2_0';
//ns4:PaymentCreateResponse[1]/ns3:ResponseState[1]/ns2:LogSequence[1]/@ns1:nil</con:xpath>
              <con:element>@xsi:nil</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>true</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pins.payment.evry.com:domain:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:internalProductCode[1]</con:xpath>
              <con:element>ns4:internalProductCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PAYCTDOMOUEXRTP</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pins.payment.evry.com:domain:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:paymentProduct[1]</con:xpath>
              <con:element>ns4:paymentProduct</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PI Domestic</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='urn:pins.payment.evry.com:domain:paymentinitiation:v2_0';
declare namespace ns3='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
declare namespace ns1='urn:pins.payment.evry.com:domain:debtor:v2_0';
//ns3:PaymentCreateResponse[1]/ns3:paymentResult[1]/ns2:paymentInfo[1]/ns1:paymentTypeInformation[1]/ns1:serviceLevel[1]</con:xpath>
              <con:element>ns6:serviceLevel</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>NRTP</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pins.payment.evry.com:domain:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:paymentStatus[1]</con:xpath>
              <con:element>ns4:paymentStatus</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PROCESSING</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='urn:pins.payment.evry.com:domain:paymentinitiation:v2_0';
declare namespace ns2='urn:pins.payment.evry.com:ws:paymentinitiation:v2_0';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:marketType[1]</con:xpath>
              <con:element>ns4:marketType</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PM</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:PaymentCreateResponse xmlns:ns10="urn:pins.payment.evry.com:ws:paymentutil:v2_0" xmlns:ns9="urn:pins.payment.evry.com:domain:paymentutil:v2_0" xmlns:ns8="urn:pins.payment.evry.com:domain:nationalinformation-nor:v2_0" xmlns:ns7="urn:pins.payment.evry.com:domain:creditor:v2_0" xmlns:ns6="urn:pins.payment.evry.com:domain:debtor:v2_0" xmlns:ns5="urn:pins.payment.evry.com:domain:complex-types:v2_0" xmlns:ns4="urn:pins.payment.evry.com:domain:paymentinitiation:v2_0" xmlns:ns3="urn:pins.payment.evry.com:domain:common:v2_0" xmlns:ns2="urn:pins.payment.evry.com:ws:paymentinitiation:v2_0" xmlns="http://edb.com/ws/WSCommon_v22">
         <ns3:ResponseState>
            <ErrorCode>0</ErrorCode>
            <Severity>0</Severity>
            <ComponentId>111</ComponentId>
            <Message>OK</Message>
            <LogSequence xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
         </ns3:ResponseState>
         <ns2:paymentResult>
            <ns4:messageId>413083</ns4:messageId>
            <ns4:paymentInfoId>433001</ns4:paymentInfoId>
            <ns4:transactionId>467494</ns4:transactionId>
            <ns4:initiatorIdentifier>15106410000</ns4:initiatorIdentifier>
            <ns4:paymentReference>467494</ns4:paymentReference>
            <ns4:releaseDate>2021-02-24+01:00</ns4:releaseDate>
            <ns4:internalProductCode>PAYCTDOMOUEXRTP</ns4:internalProductCode>
            <ns4:paymentProduct>PI Domestic</ns4:paymentProduct>
            <ns4:transactionFee currency="NOK">
               <ns5:amount>5.00</ns5:amount>
            </ns4:transactionFee>
            <ns4:additionalServiceCharge>
               <ns5:serviceName>Outward OUR</ns5:serviceName>
               <ns5:charge currency="NOK">
                  <ns5:amount>9.00</ns5:amount>
               </ns5:charge>
            </ns4:additionalServiceCharge>
            <ns4:paymentIdentification>
               <ns5:messageIdentification>3551775</ns5:messageIdentification>
               <ns5:endToEndIdentification>PAYCTDOMOUEXRTP_Neg</ns5:endToEndIdentification>
            </ns4:paymentIdentification>
            <ns4:groupHeader>
               <ns5:creationDateTime>2021-02-24T07:40:32.348+01:00</ns5:creationDateTime>
            </ns4:groupHeader>
            <ns4:paymentInfo>
               <ns6:paymentMethod>TRF</ns6:paymentMethod>
               <ns6:paymentTypeInformation>
                  <ns6:instructionPriority>NORM</ns6:instructionPriority>
                  <ns6:serviceLevel>NRTP</ns6:serviceLevel>
                  <ns6:categoryPurpose>SUPP</ns6:categoryPurpose>
               </ns6:paymentTypeInformation>
               <ns6:requestedExecutionDate>2021-02-24+01:00</ns6:requestedExecutionDate>
               <ns6:debtorAccount>
                  <ns5:identification>42023281230</ns5:identification>
                  <ns5:currency>NOK</ns5:currency>
               </ns6:debtorAccount>
               <ns6:debtorAgentBIC>SPTRNO22XXX</ns6:debtorAgentBIC>
               <ns6:debtor>
                  <ns5:name>Gunhild Sivert Hjortland</ns5:name>
                  <ns5:postalAddress>
                     <ns5:postCode>6871</ns5:postCode>
                     <ns5:townName>JOSTEDAL</ns5:townName>
                     <ns5:country>NO</ns5:country>
                     <ns5:addressLine>NORDRE SØRUM GÅRD</ns5:addressLine>
                  </ns5:postalAddress>
               </ns6:debtor>
            </ns4:paymentInfo>
            <ns4:transaction>
               <ns7:amount>
                  <ns5:instructedAmount currency="NOK">
                     <ns5:amount>10.00</ns5:amount>
                  </ns5:instructedAmount>
               </ns7:amount>
               <ns7:chargeBearer>DEBT</ns7:chargeBearer>
               <ns7:creditorAgent>
                  <ns5:nationalId>4201</ns5:nationalId>
                  <ns5:postalAddress>
                     <ns5:country>NO</ns5:country>
                  </ns5:postalAddress>
               </ns7:creditorAgent>
               <ns7:creditor>
                  <ns5:name>cred</ns5:name>
                  <ns5:postalAddress>
                     <ns5:country>NO</ns5:country>
                  </ns5:postalAddress>
               </ns7:creditor>
               <ns7:creditorAccount>
                  <ns5:identification>42123499268</ns5:identification>
                  <ns5:currency>NOK</ns5:currency>
               </ns7:creditorAccount>
               <ns7:confidential>false</ns7:confidential>
               <ns7:uetrId>1dd88598-2590-4c02-9db1-55740610c522</ns7:uetrId>
               <ns4:operationsArray>PRIORITIZE_PAYMENT</ns4:operationsArray>
               <ns4:operationsArray>VIEW_PAYMENT</ns4:operationsArray>
               <ns4:operationsArray>RECEIPT_ORDER_PRINT</ns4:operationsArray>
               <ns4:operationsArray>RECEIPT_ORDER_STICKER</ns4:operationsArray>
            </ns4:transaction>
            <ns4:marketType>PM</ns4:marketType>
            <ns4:paymentStatus>COMPLETED</ns4:paymentStatus>
         </ns2:paymentResult>
      </ns2:PaymentCreateResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:pins.payment.evry.com:ws:paymentinitiation:v2_0/PINSPayment_V2_0PortType/PaymentCreateRequest"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="3696c369-eeaa-4d62-8528-9daddc43b767">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9a15e0a3-3059-43d1-a501-2cd654fcd53d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3f79f8ca-924b-4381-aa72-25e4b085eb2b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="f687e271-ad1a-4b4b-b630-4d77fae83501">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9694faec-560f-4b03-b7e0-7d1838a8067b">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0dc5b557-c01a-409a-8032-9893427fc50d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b2789013-b634-4db5-bbaa-12c980163d92">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="915ed5f3-ddc7-4ef3-9682-02c5d133f08a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="6b2b23f8-6644-44f6-9927-94a78f2c0d2f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0f7f162e-4ba5-4580-83b9-b3009c02644c">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="10e021b5-003e-4a32-8696-bcbff8ff0a72">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="32f3cb92-2770-48c1-8141-ee901ac8f176">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b08c868c-3907-4c57-ab25-2cc60fb2b3af">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b57ff6fc-4bdd-48f9-8bd8-98e76f9e6056">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="39e7f5ce-dddb-4ea5-b6d1-9aea7c55cb02" name="PaymentCreate_2.1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PINSPayment_V2_1PortTypeSoap11</con:interface><con:operation>PaymentCreate</con:operation><con:request name="PaymentCreate_2.1" id="f059e416-4663-4381-aa1e-27983ddcbc60"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.246.89.108:22641/pin/services/PINSPayment_V2_1</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn="urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1" xmlns:urn1="urn:pins.payment.tietoevry.com:domain:paymentinitiation:v2_1" xmlns:urn2="urn:pins.payment.tietoevry.com:domain:complex-types:v2_1" xmlns:urn3="urn:pins.payment.tietoevry.com:domain:debtor:v2_1" xmlns:urn4="urn:pins.payment.tietoevry.com:domain:creditor:v2_1">
   <soapenv:Header>
      <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>V2.1</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>04058501072</wsc:userid>
            <wsc:credentials>${#TestSuite#credentials}</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>${#TestSuite#orgid}</wsc:orgid>
            <wsc:orgunit>${#TestSuite#orgid}</wsc:orgunit>
            <wsc:customerid>04058501072</wsc:customerid>
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <wsc:item value="INT" key="${#TestSuite#item1}"/>
<!--            <wsc:item value="${#TestSuite#value2}" key="${#TestSuite#item2}"/>-->
<!--            <wsc:item value="true" key="${#TestSuite#item3}"/>-->
            <wsc:item value="${#TestSuite#value4}" key="${#TestSuite#item4}"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentCreateRequest>
         <urn:paymentMessage>
            <urn1:paymentIdentification>
               <urn2:messageIdentification>${=Math.abs(new Random().nextInt() % 6000000) + 1}</urn2:messageIdentification>
               <urn2:endToEndIdentification>${=Math.abs(new Random().nextInt() % 6000000) + 1}</urn2:endToEndIdentification>
               <!--Optional:-->
               
            </urn1:paymentIdentification>
            <urn1:paymentInfo>
               <urn3:paymentMethod>TRF</urn3:paymentMethod>
               <!--Optional:-->
               <urn3:paymentTypeInformation>
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <!--Optional:-->
                  <urn3:serviceLevel>NRTP</urn3:serviceLevel><urn3:categoryPurpose>SUPP</urn3:categoryPurpose>
               </urn3:paymentTypeInformation>
               <!--You have a CHOICE of the next 2 items at this level-->
               
               <urn3:requestedExecutionDate>${#TestSuite#ReqExnDate}</urn3:requestedExecutionDate><urn3:debtorAccount>
                  <urn2:identification>42020261298</urn2:identification>
                  <!--Optional:-->
                  <urn2:currency>NOK</urn2:currency>
               </urn3:debtorAccount>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:paymentInfo>
            <urn1:transaction>
               <urn4:amount>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <urn2:instructedAmount currency="NOK">
                     <urn2:amount>10</urn2:amount>
                  </urn2:instructedAmount>
               </urn4:amount>
               <!--Optional:-->
               <!--Optional:-->
               <urn4:chargeBearer>DEBT</urn4:chargeBearer>
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <urn4:creditorAgent><urn2:postalAddress><urn2:country>NO</urn2:country></urn2:postalAddress></urn4:creditorAgent><urn4:creditor><urn2:name>cred</urn2:name><urn2:postalAddress><urn2:country>NO</urn2:country></urn2:postalAddress></urn4:creditor><urn4:creditorAccount>
                  <urn2:identification>42123499268</urn2:identification>
                  <!--Optional:-->
               </urn4:creditorAccount>
               <!--Optional:-->
               <!--Zero or more repetitions:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
               <!--Optional:-->
            </urn1:transaction><urn1:autoConfirm>ENABLED_FORCE_ON_WARNINGS</urn1:autoConfirm>
            
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
         </urn:paymentMessage>
      </urn:PaymentCreateRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="GroovyScriptAssertion" name="OperationalArray" id="201ee383-a551-42b2-a594-b9975037dad9" disabled="true">
          <con:configuration>
            <scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context ) //get the context variable
def OperationArray = [] //Array list
def XMLContainer = groovyUtils.getXmlHolder(context.getCurrentStep().getLabel() + "#Response")
 
OperationArrayViewPayment = XMLContainer.getNodeValues("//*:operationsArray")
assert OperationArrayViewPayment.contains("VIEW_PAYMENT")
assert OperationArrayViewPayment.contains("UPDATE_PAYMENT")
assert OperationArrayViewPayment.contains("CONFIRM_PAYMENT")
assert !OperationArrayViewPayment.contains("PRIORITIZE_PAYMENT")
assert !OperationArrayViewPayment.contains("STOP_PAYMENT")

assert !OperationArrayViewPayment.contains("DELETE_PAYMENT")
assert !OperationArrayViewPayment.contains("HIDE_PAYMENT")
assert !OperationArrayViewPayment.contains("APPROVE_PAYMENT")</scriptText>
          </con:configuration>
        </con:assertion><con:assertion type="MessageContentAssertion" name="Message Content Assertion" id="dd313ad7-17db-46bf-b373-52bf9e643f91">
          <con:configuration xsi:type="con:MessageContentAssertion">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <con:elements><con:xpath>declare namespace ns1='urn:pins.payment.tietoevry.com:domain:paymentinitiation:v2_1';
declare namespace ns2='urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:marketType[1]</con:xpath><con:element>ns4:marketType</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>PM</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>declare namespace ns2='urn:pins.payment.tietoevry.com:domain:common:v2_1';
declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:ErrorCode[1]</con:xpath><con:element>ErrorCode</con:element><con:type>XmlInt</con:type><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>0</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>true</con:numberType></con:elements><con:elements><con:xpath>declare namespace ns2='urn:pins.payment.tietoevry.com:domain:common:v2_1';
declare namespace ns1='http://edb.com/ws/WSCommon_v22';
declare namespace ns3='urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1';
//ns3:PaymentCreateResponse[1]/ns2:ResponseState[1]/ns1:Message[1]</con:xpath><con:element>Message</con:element><con:type>XmlString</con:type><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>OK</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>declare namespace ns1='urn:pins.payment.tietoevry.com:domain:paymentinitiation:v2_1';
declare namespace ns2='urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1';
//ns2:PaymentCreateResponse[1]/ns2:paymentResult[1]/ns1:internalProductCode[1]</con:xpath><con:element>ns4:internalProductCode</con:element><con:type>XmlString</con:type><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>PAYCTDOMOUEXRTP</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:PaymentCreateResponse xmlns:ns10="urn:pins.payment.tietoevry.com:ws:paymentutil:v2_1" xmlns:ns9="urn:pins.payment.tietoevry.com:domain:paymentutil:v2_1" xmlns:ns8="urn:pins.payment.tietoevry.com:domain:nationalinformation-nor:v2_1" xmlns:ns7="urn:pins.payment.tietoevry.com:domain:creditor:v2_1" xmlns:ns6="urn:pins.payment.tietoevry.com:domain:debtor:v2_1" xmlns:ns5="urn:pins.payment.tietoevry.com:domain:complex-types:v2_1" xmlns:ns4="urn:pins.payment.tietoevry.com:domain:paymentinitiation:v2_1" xmlns:ns3="urn:pins.payment.tietoevry.com:domain:common:v2_1" xmlns:ns2="urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1" xmlns="http://edb.com/ws/WSCommon_v22">
         <ns3:ResponseState>
            <ErrorCode>0</ErrorCode>
            <Severity>0</Severity>
            <ComponentId>111</ComponentId>
            <Message>OK</Message>
            <LogSequence xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
            <errorItem key="6883" value="Creditor BIC updated"/>
         </ns3:ResponseState>
         <ns2:paymentResult>
            <ns4:messageId>86821</ns4:messageId>
            <ns4:paymentInfoId>128995</ns4:paymentInfoId>
            <ns4:transactionId>311803</ns4:transactionId>
            <ns4:initiatorIdentifier>04058501072</ns4:initiatorIdentifier>
            <ns4:paymentReference>311803</ns4:paymentReference>
            <ns4:releaseDate>2021-08-13+02:00</ns4:releaseDate>
            <ns4:internalProductCode>PAYCTDOMOUEXRTP</ns4:internalProductCode>
            <ns4:paymentProduct>PI Domestic</ns4:paymentProduct>
            <ns4:transactionFee currency="NOK">
               <ns5:amount>7.00</ns5:amount>
            </ns4:transactionFee>
            <ns4:additionalServiceCharge>
               <ns5:serviceName>PE Additional charges</ns5:serviceName>
               <ns5:charge currency="NOK">
                  <ns5:amount>10.00</ns5:amount>
               </ns5:charge>
            </ns4:additionalServiceCharge>
            <ns4:paymentIdentification>
               <ns5:messageIdentification>1730051</ns5:messageIdentification>
               <ns5:endToEndIdentification>5403181</ns5:endToEndIdentification>
            </ns4:paymentIdentification>
            <ns4:groupHeader>
               <ns5:creationDateTime>2021-08-13T07:29:56.220+02:00</ns5:creationDateTime>
            </ns4:groupHeader>
            <ns4:paymentInfo>
               <ns6:paymentMethod>TRF</ns6:paymentMethod>
               <ns6:paymentTypeInformation>
                  <ns6:instructionPriority>NORM</ns6:instructionPriority>
                  <ns6:serviceLevel>NRTP</ns6:serviceLevel>
                  <ns6:categoryPurpose>SUPP</ns6:categoryPurpose>
               </ns6:paymentTypeInformation>
               <ns6:requestedExecutionDate>2021-08-13+02:00</ns6:requestedExecutionDate>
               <ns6:debtorAccount>
                  <ns5:identification>42020261298</ns5:identification>
                  <ns5:currency>NOK</ns5:currency>
               </ns6:debtorAccount>
               <ns6:debtorAgentBIC>SPTRNO22XXX</ns6:debtorAgentBIC>
               <ns6:debtor>
                  <ns5:id>
                     <ns5:PrvtId>
                        <ns5:Id>04058501072</ns5:Id>
                     </ns5:PrvtId>
                  </ns5:id>
                  <ns5:name>Ole-Morten Elham Vadseth</ns5:name>
                  <ns5:postalAddress>
                     <ns5:postCode>5227</ns5:postCode>
                     <ns5:townName>NESTTUN</ns5:townName>
                     <ns5:country>NO</ns5:country>
                     <ns5:addressLine>Sparebank 1 Gruppen Finsns AS</ns5:addressLine>
                  </ns5:postalAddress>
               </ns6:debtor>
            </ns4:paymentInfo>
            <ns4:transaction>
               <ns7:amount>
                  <ns5:instructedAmount currency="NOK">
                     <ns5:amount>10.00</ns5:amount>
                  </ns5:instructedAmount>
               </ns7:amount>
               <ns7:chargeBearer>DEBT</ns7:chargeBearer>
               <ns7:creditorAgent>
                  <ns5:bic>SPTRNO22XXX</ns5:bic>
                  <ns5:name>SPAREBANK 1 SMN</ns5:name>
                  <ns5:postalAddress>
                     <ns5:postCode>7467</ns5:postCode>
                     <ns5:townName>TRONDHEIM</ns5:townName>
                     <ns5:country>NO</ns5:country>
                     <ns5:addressLine>SONDRE GATE 4</ns5:addressLine>
                     <ns5:addressLine>POB 4796 SLUPPEN, 7467</ns5:addressLine>
                     <ns5:addressLine>XYZ</ns5:addressLine>
                  </ns5:postalAddress>
               </ns7:creditorAgent>
               <ns7:creditor>
                  <ns5:name>cred</ns5:name>
                  <ns5:postalAddress>
                     <ns5:country>NO</ns5:country>
                  </ns5:postalAddress>
               </ns7:creditor>
               <ns7:creditorAccount>
                  <ns5:identification>42123499268</ns5:identification>
                  <ns5:currency>NOK</ns5:currency>
               </ns7:creditorAccount>
               <ns7:confidential>false</ns7:confidential>
               <ns7:uetrId>a61787d9-d805-4e8e-9402-309c8afc11e4</ns7:uetrId>
               <ns4:operationsArray>VIEW_PAYMENT</ns4:operationsArray>
            </ns4:transaction>
            <ns4:marketType>PM</ns4:marketType>
            <ns4:paymentStatus>PROCESSING</ns4:paymentStatus>
         </ns2:paymentResult>
      </ns2:PaymentCreateResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig action="urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1/PINSPayment_V2_1PortType/PaymentCreateRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="3a46717f-9b1d-4426-bb6f-7a6da2436fa8" name="PaymentRead 2.1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PINSPayment_V2_1PortTypeSoap11</con:interface><con:operation>PaymentRead</con:operation><con:request name="PaymentRead 2.1" id="804eb737-45ef-4a8d-a42d-a69e8cd7f107"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://ald-eos-g-app04.man.cosng.net:22641/pin/services/PINSPayment_V2_1</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsc="http://edb.com/ws/WSCommon_v22" xmlns:urn="urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1">\r
 <soapenv:Header>
     <wsc:AutHeader>
         <wsc:SourceApplication>${#TestSuite#SourceApplication}</wsc:SourceApplication>
         <wsc:DestinationApplication>PIN</wsc:DestinationApplication>
         <wsc:Function>paymentAuthorizationCreate</wsc:Function>
         <wsc:Version>1.0</wsc:Version>
         <wsc:ClientContext>
            <wsc:userid>29049154206</wsc:userid>
            <wsc:credentials>03110012010400425MqYdUf7Fa+p6OVtVL1neI9CfuAtjCBO603eS0IgWm1WWIO7EfpSL4DE/lDFi69n1sSaabKNt2t+xJppso23a37Emmmyjbdrfve2/7T4Jzke3lBWCMbuRlRMCstNp869esSaabKNt2t/XzlyjxYnxhcG46wcbIKp/sSaabKNt2t9wBUG0SyIoqFfig80Gq4uXVBtimDzTiu2xJppso23a37Emmmyjbdrf8wP73CNrvpw=ENyx2o9VzMFTOy8ZPY09L4kkUhNltCgj9gQGVyrwlf+ALV/e7m6lTGA0dHBqoMvkO4WdeAZ+NMAB5kBzlKKqHp9JLMJFdua2uAIiwXMps6qo1IOb7Bi4Nu7iQLB7ifI3yLfe1gVHLGalr0rH7P3+ZHiXvyOpfCG75GS8PFfAAGE=</wsc:credentials>
            <wsc:channel>NBA</wsc:channel>
            <wsc:orgid>2544</wsc:orgid>
            <!--Optional:-->
            <wsc:orgunit>2544</wsc:orgunit>
            <!--Optional:-->
            <wsc:customerid>29049154206</wsc:customerid>
            <!--Optional:-->
            <wsc:locale>en</wsc:locale>
            <wsc:ip>1.1.1.1</wsc:ip>
            <!--Zero or more repetitions:-->
            <wsc:item key="PaymentChannel" value="INT"/>
            <wsc:item key="AgreementId" value="29049154206"/>
         </wsc:ClientContext>
      </wsc:AutHeader>
   </soapenv:Header>
   <soapenv:Body>
      <urn:PaymentReadRequest>\r
         <!--You have a CHOICE of the next 2 items at this level-->\r
         <urn:transactionId>${PaymentCreate_2.1#Response#//*:transactionId[1]}</urn:transactionId>\r
         
      </urn:PaymentReadRequest>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="Valid HTTP Status Codes" id="8b03b94b-5933-41ae-9571-15b2d0c6388b" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Response SLA Assertion" id="d10e8f05-8b56-4038-b9ac-07a7697aa341" name="Response SLA" disabled="true"><con:configuration><SLA>200</SLA></con:configuration></con:assertion><con:assertion type="SOAP Fault Assertion" id="2bc4a67f-36d6-409c-ac21-7ab6e0d0179b" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="0dd3202e-f8d7-4894-9dd8-9c5777f98948" name="Schema Compliance"><con:configuration/></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig action="urn:pins.payment.tietoevry.com:ws:paymentinitiation:v2_1/PINSPayment_V2_1PortType/PaymentReadRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>59835206-61eb-4952-bbe6-5fe032e176eb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2a7a14bd-3df4-4966-b2a1-f761776eaa48</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d7e5830c-da39-49e3-a94a-2cb5e449949b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a0093888-8b60-42e4-9cdb-f1e40cffa9e4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>70411fc0-1d49-4d5a-b2d2-431b24e9ffa0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b31c139a-fcfb-4d67-8953-68007e130922</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cb1e7ff7-7d5d-49d6-949d-a8de498c1399</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>47ecfb7f-9c7b-475c-92df-fceeb2aa2640</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="0dc5b557-c01a-409a-8032-9893427fc50d">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
  <con:tagId>364349b5-2fae-44a0-b408-71208cbf6356</con:tagId>
</con:testCase>